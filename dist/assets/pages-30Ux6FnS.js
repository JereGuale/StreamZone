import{j as e,g as k,t as s,f as V,r as d,d as G,a as W,b as Z,u as Y,c as K,l as X,C as B,e as J,s as Q,h as D}from"./ui-components-CeKtGgHu.js";function U({className:t="h-9 w-9"}){return e.jsx("img",{src:"/logo_app.png",alt:"StreamZone logo",className:`object-contain ${t}`})}function ee({s:t,onReserve:a,isDark:o}){const m=k(t.id,0,"w-full h-full");return e.jsxs("div",{className:`group relative p-4 sm:p-5 rounded-3xl border transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl flex flex-col items-center text-center ${s(o,"bg-white border-gray-100 shadow-xl hover:shadow-blue-500/10","bg-[#1a1b26] border-white/5 shadow-[0_8px_30px_rgb(0,0,0,0.5)] hover:shadow-blue-500/20")}`,children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-b from-${s(o,"blue-50","white/[0.02]")} to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none rounded-3xl`}),e.jsxs("div",{className:"relative mt-2 sm:mt-4 mb-4 sm:mb-5 left-0 right-0 mx-auto w-16 h-16 sm:w-20 sm:h-20",children:[e.jsx("div",{className:`absolute inset-0 ${t.color} blur-xl opacity-30 group-hover:opacity-50 transition-opacity duration-300 rounded-full`}),e.jsx("div",{className:"relative w-full h-full rounded-[1.2rem] sm:rounded-3xl shadow-lg border border-white/10 flex flex-col justify-center items-center overflow-hidden z-10",children:m?e.jsx("div",{className:"w-full h-full p-2",children:m}):t.logo?.startsWith("http")||t.logo?.startsWith("data:image")?e.jsx("img",{src:t.logo,alt:t.name,className:"w-full h-full object-cover",loading:"lazy"}):e.jsx("div",{className:`w-full h-full ${t.color} text-white flex items-center justify-center text-xl sm:text-2xl font-bold`,children:t.logo||t.name.charAt(0)})}),e.jsx("div",{className:"absolute -top-1 -right-1 z-20 w-5 h-5 sm:w-6 sm:h-6 bg-emerald-500 rounded-full flex items-center justify-center border-2 border-[#1a1b26] shadow-md",children:e.jsx("span",{className:"text-white text-[10px] sm:text-xs font-bold leading-none",children:"âœ“"})})]}),e.jsx("h3",{className:`text-lg sm:text-xl font-bold mb-3 sm:mb-4 px-2 w-full truncate ${s(o,"text-gray-900","text-white")}`,children:t.name}),e.jsxs("div",{className:`w-full py-2 sm:py-3 px-2 rounded-2xl border flex items-center justify-center mb-3 sm:mb-4 ${s(o,"bg-gray-50 border-gray-200","bg-[#14151f]/50 border-white/5")}`,children:[e.jsxs("span",{className:`text-xl sm:text-2xl font-black tracking-tight ${s(o,"text-gray-900","text-white")}`,children:["US",V(t.price)]}),e.jsxs("span",{className:`text-xs sm:text-sm font-medium ml-1 mt-1 sm:mt-2 ${s(o,"text-gray-500","text-gray-400")}`,children:["/",t.billing==="annual"?"aÃ±o":"mes"]})]}),e.jsxs("div",{className:`w-[85%] sm:w-fit mx-auto py-1.5 px-3 sm:px-4 rounded-full border flex items-center justify-center gap-1.5 sm:gap-2 mb-4 sm:mb-5 transition-colors ${s(o,"bg-emerald-50 border-emerald-200 text-emerald-700","bg-emerald-500/10 border-emerald-500/20 text-emerald-400 group-hover:bg-emerald-500/20")}`,children:[e.jsx("span",{className:"text-[10px] sm:text-xs",children:"âš¡"}),e.jsx("span",{className:"text-[10px] sm:text-xs font-bold uppercase tracking-wider",children:"Acceso inmediato"})]}),e.jsxs("button",{onClick:()=>a(t),className:"w-full mt-auto py-3 sm:py-3.5 px-4 rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white font-bold text-sm sm:text-base flex items-center justify-center gap-2 hover:from-blue-500 hover:via-purple-500 hover:to-pink-500 transition-all shadow-[0_0_15px_rgba(236,72,153,0.3)] hover:shadow-[0_0_20px_rgba(236,72,153,0.5)] transform hover:scale-[1.02] active:scale-95",children:[e.jsx("span",{children:"ğŸš€"}),e.jsx("span",{children:"Comprar Ahora"}),e.jsx("span",{children:"âœ¨"})]})]})}const ne=({isDark:t,onReserve:a,user:o,setView:m,services:c})=>(console.log("Home component rendering with props:",{isDark:t,user:o,setView:m,servicesCount:c?.length}),e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 via-purple-600/10 to-pink-600/10"}),e.jsx("div",{className:"absolute top-0 left-1/4 w-72 h-72 bg-blue-500/20 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"}),e.jsx("div",{className:"absolute top-0 right-1/4 w-72 h-72 bg-purple-500/20 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse animation-delay-2000"}),e.jsx("div",{className:"relative mx-auto max-w-7xl px-3 sm:px-4 py-8 sm:py-12 md:py-16 lg:py-24",children:e.jsxs("div",{className:"grid items-center gap-4 sm:gap-6 md:gap-8 lg:grid-cols-2",children:[e.jsxs("div",{className:"relative z-10 space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-full bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20",children:[e.jsx("span",{className:"text-lg sm:text-xl",children:"ğŸ¬"}),e.jsx("span",{className:`text-xs sm:text-sm font-semibold ${t?"text-blue-400":"text-blue-600"}`,children:"Entretenimiento Premium"})]}),e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold tracking-tight flex items-center gap-2 sm:gap-3",children:[e.jsx(U,{className:"h-12 w-auto sm:h-20 md:h-24 drop-shadow-2xl"}),e.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"StreamZone"})]}),e.jsx("p",{className:`text-base sm:text-lg md:text-xl font-semibold ${t?"text-gray-200":"text-gray-700"}`,children:"Tus plataformas favoritas, al mejor precio"}),e.jsxs("p",{className:`text-sm sm:text-base ${t?"text-gray-300":"text-gray-600"}`,children:["Reserva por WhatsApp, recibe acceso con soporte inmediato y renueva sin complicaciones.",e.jsx("span",{className:"font-semibold text-blue-600",children:" Administra tus servicios desde tu cuenta."})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o?e.jsxs("a",{href:"#catalogo",className:`inline-flex items-center justify-center px-4 sm:px-6 py-3 rounded-2xl font-semibold text-sm sm:text-base transition-all duration-200 hover:scale-105 shadow-lg ${t?"bg-gradient-to-r from-blue-600 to-purple-700 text-white hover:from-blue-700 hover:to-purple-800":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700"}`,children:[e.jsx("span",{className:"mr-2",children:"âœ¨"}),"Ver CatÃ¡logo",e.jsx("span",{className:"ml-2",children:"ğŸš€"})]}):e.jsxs("button",{onClick:()=>m("auth"),className:`inline-flex items-center justify-center px-4 sm:px-6 py-3 rounded-2xl font-semibold text-sm sm:text-base transition-all duration-200 hover:scale-105 shadow-lg ${t?"bg-gradient-to-r from-blue-600 to-purple-700 text-white hover:from-blue-700 hover:to-purple-800":"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700"}`,children:[e.jsx("span",{className:"mr-2",children:"ğŸ”"}),"Iniciar SesiÃ³n",e.jsx("span",{className:"ml-2",children:"âœ¨"})]}),e.jsxs("button",{onClick:()=>m("combos"),className:`inline-flex items-center justify-center px-4 sm:px-6 py-3 rounded-2xl font-semibold text-sm sm:text-base transition-all duration-200 hover:scale-105 ${t?"bg-zinc-800 text-purple-400 border-2 border-purple-600 hover:bg-purple-900/20":"bg-white text-purple-600 border-2 border-purple-200 hover:bg-purple-50"}`,children:[e.jsx("span",{className:"mr-2",children:"ğŸ“¦"}),"Ver Combos"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 sm:gap-4 pt-4 sm:pt-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-lg sm:text-xl font-bold ${t?"text-blue-400":"text-blue-600"}`,children:"500+"}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Clientes felices"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-lg sm:text-xl font-bold ${t?"text-purple-400":"text-purple-600"}`,children:"24/7"}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Soporte"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-lg sm:text-xl font-bold ${t?"text-green-400":"text-green-600"}`,children:"100%"}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"GarantÃ­a"})]})]})]}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:`relative rounded-2xl sm:rounded-3xl p-4 sm:p-6 md:p-8 shadow-2xl backdrop-blur-md border-2 ${t?"bg-gradient-to-br from-zinc-900/80 to-blue-900/80 border-blue-700/50":"bg-gradient-to-br from-white/80 to-blue-50/80 border-blue-200/50"}`,children:[e.jsxs("div",{className:"relative h-60 sm:h-80 flex items-center justify-center",children:[e.jsx("div",{className:"absolute top-2 sm:top-4 left-2 sm:left-4 w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl sm:rounded-2xl shadow-lg flex items-center justify-center text-white text-lg sm:text-2xl animate-float",children:"ğŸ¬"}),e.jsx("div",{className:"absolute top-4 sm:top-8 right-4 sm:right-8 w-10 h-10 sm:w-14 sm:h-14 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg sm:rounded-xl shadow-lg flex items-center justify-center text-white text-base sm:text-xl animate-float animation-delay-1000",children:"ğŸ§"}),e.jsx("div",{className:"absolute bottom-4 sm:bottom-8 left-4 sm:left-8 w-8 h-8 sm:w-12 sm:h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-lg sm:rounded-xl shadow-lg flex items-center justify-center text-white text-sm sm:text-lg animate-float animation-delay-2000",children:"ğŸ“º"}),e.jsx("div",{className:"absolute bottom-2 sm:bottom-4 right-2 sm:right-4 w-14 h-14 sm:w-18 sm:h-18 bg-gradient-to-r from-pink-500 to-pink-600 rounded-xl sm:rounded-2xl shadow-lg flex items-center justify-center text-white text-xl sm:text-2xl animate-float animation-delay-3000",children:"ğŸ°"}),e.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 rounded-2xl sm:rounded-3xl shadow-2xl flex items-center justify-center text-white text-2xl sm:text-3xl md:text-4xl ${t?"bg-gradient-to-r from-blue-700 to-purple-700":"bg-gradient-to-r from-blue-600 to-purple-600"}`,children:"âœ¨"})]}),e.jsxs("div",{className:"mt-4 sm:mt-6 space-y-3 sm:space-y-4",children:[e.jsx("div",{className:`text-center font-bold text-sm sm:text-base ${t?"text-gray-200":"text-gray-800"}`,children:"ğŸ’³ MÃ©todos de Pago"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:[e.jsxs("div",{className:`p-2 sm:p-3 rounded-lg sm:rounded-xl text-center ${t?"bg-blue-900/30 border border-blue-700":"bg-blue-50 border border-blue-200"}`,children:[e.jsx("div",{className:"text-lg sm:text-xl mb-1",children:"ğŸ¦"}),e.jsx("div",{className:`text-xs font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:"Bancos"})]}),e.jsxs("div",{className:`p-2 sm:p-3 rounded-lg sm:rounded-xl text-center ${t?"bg-green-900/30 border border-green-700":"bg-green-50 border border-green-200"}`,children:[e.jsx("div",{className:"text-lg sm:text-xl mb-1",children:"ğŸ’š"}),e.jsx("div",{className:`text-xs font-semibold ${t?"text-green-300":"text-green-700"}`,children:"PayPal"})]}),e.jsxs("div",{className:`p-2 sm:p-3 rounded-lg sm:rounded-xl text-center ${t?"bg-purple-900/30 border border-purple-700":"bg-purple-50 border border-purple-200"}`,children:[e.jsx("div",{className:"text-lg sm:text-xl mb-1",children:"ğŸ“±"}),e.jsx("div",{className:`text-xs font-semibold ${t?"text-purple-300":"text-purple-700"}`,children:"Pago MÃ³vil"})]})]}),e.jsxs("div",{className:"mt-3 sm:mt-4 grid grid-cols-2 gap-2",children:[e.jsx("span",{className:`text-xs px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center ${t?"bg-green-800 text-green-200":"bg-green-100 text-green-700"}`,children:"ğŸ¦ Pichincha"}),e.jsx("span",{className:`text-xs px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center ${t?"bg-blue-800 text-blue-200":"bg-blue-100 text-blue-700"}`,children:"ğŸ›ï¸ Guayaquil"}),e.jsx("span",{className:`text-xs px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center ${t?"bg-purple-800 text-purple-200":"bg-purple-100 text-purple-700"}`,children:"ğŸŒŠ PacÃ­fico"}),e.jsx("span",{className:`text-xs px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center ${t?"bg-orange-800 text-orange-200":"bg-orange-100 text-orange-700"}`,children:"ğŸ’³ PayPal"})]})]})]})})]})}),e.jsx("div",{className:"absolute inset-0 -z-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),e.jsx("div",{className:"pointer-events-none absolute inset-0 -z-10 bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-700"})]}),e.jsxs("section",{id:"catalogo",className:"relative py-8 sm:py-12 md:py-16",children:[e.jsx("div",{className:`absolute inset-0 ${t?"bg-gradient-to-br from-blue-950/50 via-purple-950/50 to-pink-950/50":"bg-gradient-to-br from-blue-50/50 via-purple-50/50 to-pink-50/50"}`}),e.jsxs("div",{className:"relative mx-auto max-w-7xl px-3 sm:px-4",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8 md:mb-12",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-full bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20 mb-3 sm:mb-4",children:[e.jsx("span",{className:"text-lg",children:"âœ¨"}),e.jsx("span",{className:`text-xs sm:text-sm font-semibold ${t?"text-blue-400":"text-blue-600"}`,children:"Plataformas Premium"})]}),e.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold mb-3 sm:mb-4",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Nuestro CatÃ¡logo"})}),e.jsx("p",{className:`text-sm sm:text-base md:text-lg max-w-3xl mx-auto ${t?"text-gray-300":"text-gray-600"}`,children:"Descubre todas las plataformas de streaming disponibles con acceso inmediato y soporte 24/7"})]}),e.jsx("div",{className:"grid gap-3 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:c.map(h=>e.jsx(ee,{s:h,onReserve:a,isDark:t},h.id))}),e.jsx("div",{className:"text-center mt-8 sm:mt-12",children:e.jsxs("div",{className:`inline-flex items-center gap-2 sm:gap-3 px-4 sm:px-6 md:px-8 py-3 sm:py-4 rounded-xl sm:rounded-2xl shadow-lg ${t?"bg-gradient-to-r from-blue-600 to-purple-700 text-white":"bg-gradient-to-r from-blue-500 to-purple-600 text-white"}`,children:[e.jsx("span",{className:"text-lg sm:text-xl",children:"ğŸ¯"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-sm sm:text-base",children:"Â¿No encuentras lo que buscas?"}),e.jsx("div",{className:"text-xs sm:text-sm opacity-90",children:"ContÃ¡ctanos por WhatsApp para mÃ¡s opciones"})]})]})})]})]}),e.jsx("footer",{className:`relative py-8 sm:py-12 md:py-16 ${t?"bg-gradient-to-r from-zinc-900 to-zinc-800":"bg-gradient-to-r from-gray-900 to-gray-800"}`,children:e.jsxs("div",{className:"mx-auto max-w-7xl px-3 sm:px-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(U,{className:"h-12 w-auto sm:h-16"}),e.jsx("div",{children:e.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Tu entretenimiento digital"})})]}),e.jsx("p",{className:"text-gray-300 mb-4 sm:mb-6 max-w-md text-sm sm:text-base",children:"La mejor plataforma para acceder a todos tus servicios de streaming favoritos con precios increÃ­bles y soporte 24/7."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white text-sm sm:text-base hover:scale-110 transition-transform cursor-pointer",children:"ğŸ“±"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center text-white text-sm sm:text-base hover:scale-110 transition-transform cursor-pointer",children:"ğŸ’¬"}),e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm sm:text-base hover:scale-110 transition-transform cursor-pointer",children:"âœ¨"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4",children:"Enlaces RÃ¡pidos"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"#catalogo",className:"text-gray-300 hover:text-blue-400 transition-colors text-sm sm:text-base",children:"CatÃ¡logo"})}),e.jsx("li",{children:e.jsx("a",{href:"#combos",className:"text-gray-300 hover:text-blue-400 transition-colors text-sm sm:text-base",children:"Combos"})}),e.jsx("li",{children:e.jsx("a",{href:"#contacto",className:"text-gray-300 hover:text-blue-400 transition-colors text-sm sm:text-base",children:"Contacto"})}),e.jsx("li",{children:e.jsx("a",{href:"#soporte",className:"text-gray-300 hover:text-blue-400 transition-colors text-sm sm:text-base",children:"Soporte"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white mb-3 sm:mb-4",children:"Contacto"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx("span",{children:"ğŸ“±"}),e.jsx("span",{className:"text-sm sm:text-base",children:"+593 99 999 9999"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx("span",{children:"ğŸ’¬"}),e.jsx("span",{className:"text-sm sm:text-base",children:"WhatsApp"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[e.jsx("span",{children:"âœ‰ï¸"}),e.jsx("span",{className:"text-sm sm:text-base",children:"info@streamzone.com"})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-700 mt-8 sm:mt-12 pt-6 sm:pt-8 text-center",children:e.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm",children:["Â© 2024 StreamZone. Todos los derechos reservados. |",e.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors ml-1",children:"TÃ©rminos de Servicio"})," |",e.jsx("a",{href:"#",className:"hover:text-blue-400 transition-colors ml-1",children:"PolÃ­tica de Privacidad"})]})})]})})]}));function H({item:t,isDark:a,onToggleValidate:o,onDelete:m,onEdit:c,onReminder:h}){const[f,v]=d.useState(new Date().toISOString().slice(0,10)),[u,y]=d.useState(!1),[p,$]=d.useState({});console.log("ğŸ” PurchaseCard - Item completo:",t);const r=t?.service||"",w=r.trim(),i=/^Disney\+?\s*$/i.test(w)||/^Disney\+?\s+(Standard|EstÃ¡ndar|Premium)\s*$/i.test(w)||/^Disney\s+(Standard|EstÃ¡ndar|Premium)\s*$/i.test(w),j=w.includes("Netflix")||w.includes("Max")||w.includes("Prime")||w.includes("Spotify")||w.includes("Paramount")||/\s+\+\s+/.test(w),C=i&&!j,A=/\s+\+\s+/.test(r),b=!C&&A;let g=[r];b&&(r.includes("Netflix")&&r.includes("Disney")?g=["Netflix",r.includes("Premium")?"Disney+ Premium":"Disney+ EstÃ¡ndar"]:r.includes("Max")&&r.includes("Prime")?g=["Max","Prime Video"]:r.includes("Netflix")&&r.includes("Max")?g=["Netflix","Max"]:r.includes("Netflix")&&r.includes("Prime")?g=["Netflix","Prime Video"]:r.includes("Prime")&&r.includes("Disney")?g=["Prime Video",r.includes("Premium")?"Disney+ Premium":"Disney+ EstÃ¡ndar"]:r.includes("Disney")&&r.includes("Max")?g=[r.includes("Premium")?"Disney+ Premium":"Disney+ EstÃ¡ndar","Max"]:r.includes("Spotify")&&r.includes("Netflix")?g=["Spotify","Netflix"]:r.includes("Spotify")&&r.includes("Disney")?g=["Spotify",r.includes("Premium")?"Disney+ Premium":"Disney+ EstÃ¡ndar"]:r.includes("Spotify")&&r.includes("Prime")?g=["Spotify","Prime Video"]:r.includes("Paramount")&&r.includes("Max")&&r.includes("Prime")?g=["Paramount+","Max","Prime Video"]:r.includes("Netflix")&&r.includes("Max")&&r.includes("Disney")?g=["Netflix","Max",r.includes("Premium")?"Disney+ Premium":"Disney+ EstÃ¡ndar","Prime Video","Paramount+"]:g=r.split(/\s*\+\s*/).map(n=>n.trim()).filter(n=>n.length>0));let S={};b&&t.service_password&&t.service_password.split(`

`).forEach(x=>{const N=x.split(`
`);if(N.length>=3){const L=N[0].replace(":","").trim(),E=N[1].replace("Email: ","").trim(),M=N[2].replace("ContraseÃ±a: ","").trim();L&&E&&M&&(S[L]={email:E,password:M})}}),d.useEffect(()=>{const n=()=>{const N=new Date().toISOString().slice(0,10);v(N)};n();const x=setInterval(n,36e5);return()=>clearInterval(x)},[]);const l=G(f,t.end);return t.validated?e.jsxs("details",{className:`relative group rounded-xl border-2 shadow-sm hover:shadow-md transition-all duration-200 ${s(a,"border-gray-200 bg-white hover:border-gray-300","border-gray-700 bg-gray-800 hover:border-gray-600")}`,children:[e.jsx("summary",{className:"cursor-pointer list-none p-3 sm:p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[e.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-white font-semibold text-xs sm:text-sm ${s(a,"bg-gradient-to-r from-blue-500 to-purple-600","bg-gradient-to-r from-blue-600 to-purple-700")}`,children:t.customer.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`font-semibold text-base sm:text-lg ${s(a,"text-gray-900","text-white")}`,children:t.customer}),e.jsxs("p",{className:`text-xs sm:text-sm ${s(a,"text-gray-600","text-gray-400")}`,children:["ğŸ“± ",t.phone]})]})]}),e.jsxs("div",{className:`text-sm sm:text-base font-medium mb-2 ${s(a,"text-gray-800","text-gray-200")}`,children:["ğŸ¬ ",t.service]}),e.jsxs("div",{className:`text-xs sm:text-sm ${s(a,"text-gray-600","text-gray-400")}`,children:["ğŸ“… ",t.start," â†’ ",t.end," â€¢ ",t.months," ",t.months===1?"mes":"meses"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-end gap-2 sm:gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:`w-8 h-8 rounded-full shadow-sm hover:shadow-md transition-all duration-200 flex items-center justify-center group ${s(a,"bg-gray-100 hover:bg-gray-200 text-gray-600","bg-gray-700 hover:bg-gray-600 text-gray-300")}`,onClick:n=>{n.preventDefault(),n.stopPropagation();const x=n.currentTarget.closest("details");x&&(x.open=!x.open)},title:"Ver detalles",children:e.jsx("span",{className:"text-sm group-hover:scale-110 transition-transform duration-200",children:"â–¼"})}),e.jsx("button",{className:`w-10 h-10 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-110 flex items-center justify-center group ${s(a,"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white","bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white")}`,onClick:n=>{n.preventDefault(),n.stopPropagation(),c()},title:"Editar compra",children:e.jsx("span",{className:"text-lg group-hover:scale-110 transition-transform duration-200",children:"âœï¸"})})]}),e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${s(a,"bg-green-100 text-green-800 border border-green-200","bg-green-800 text-green-100 border border-green-500")}`,children:"âœ… Validada"}),e.jsx("span",{className:`px-3 py-2 text-sm font-bold rounded-full border-2 shadow-lg ${l<=0?s(a,"bg-red-200 text-red-900 border-red-400 shadow-red-300/50","bg-red-900 text-red-100 border-red-500 shadow-red-900/50"):l<=3?s(a,"bg-orange-200 text-orange-900 border-orange-400 shadow-orange-300/50","bg-orange-900 text-orange-100 border-orange-500 shadow-orange-900/50"):l<=7?s(a,"bg-yellow-200 text-yellow-900 border-yellow-400 shadow-yellow-300/50","bg-yellow-900 text-yellow-100 border-yellow-500 shadow-yellow-900/50"):s(a,"bg-blue-200 text-blue-900 border-blue-400 shadow-blue-300/50","bg-blue-900 text-blue-100 border-blue-500 shadow-blue-900/50")}`,children:l<=0?"âš ï¸ VENCIDO":l===1?"ğŸ”¥ VENCE MAÃ‘ANA":l===0?"ğŸ”¥ VENCE HOY":`ğŸ“… ${l} dÃ­as`})]})]})}),e.jsxs("div",{className:`mx-2 sm:mx-4 mb-3 sm:mb-4 p-3 sm:p-6 rounded-xl border-2 ${s(a,"bg-green-50 border-green-200","bg-green-900/20 border-green-700")}`,children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[e.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-sm sm:text-base ${s(a,"bg-yellow-100","bg-yellow-900/30")}`,children:"ğŸ”‘"}),e.jsx("h5",{className:`font-bold text-base sm:text-lg ${s(a,"text-gray-800","text-white")}`,children:b?"Credenciales del Combo":"Credenciales del Servicio"})]}),b?e.jsx("div",{className:"space-y-3 sm:space-y-4",children:g.map(n=>{const x=S[n];return x?e.jsxs("div",{className:`p-3 rounded-lg border ${s(a,"bg-gray-50 border-gray-200","bg-gray-800 border-gray-600")}`,children:[e.jsx("h6",{className:`text-sm font-bold mb-2 ${s(a,"text-gray-800","text-white")}`,children:n}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[e.jsx("span",{className:`text-xs font-semibold w-16 sm:w-20 ${s(a,"text-gray-700","text-gray-300")}`,children:"ğŸ“§ Email:"}),e.jsx("input",{type:"text",value:x.email,readOnly:!0,className:`text-xs font-mono px-3 py-2 rounded-lg border flex-1 ${s(a,"bg-white text-gray-800 border-gray-300","bg-gray-700 text-gray-200 border-gray-600")}`})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[e.jsx("span",{className:`text-xs font-semibold w-16 sm:w-20 ${s(a,"text-gray-700","text-gray-300")}`,children:"ğŸ”‘ Pass:"}),e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("input",{type:p[n]?"text":"password",value:x.password,readOnly:!0,className:`text-xs font-mono px-3 py-2 rounded-lg border flex-1 ${s(a,"bg-white text-gray-800 border-gray-300","bg-gray-700 text-gray-200 border-gray-600")}`}),e.jsx("button",{onClick:()=>$(N=>({...N,[n]:!N[n]})),className:`px-2 py-2 rounded-lg text-xs font-medium transition-colors ${s(a,"bg-blue-100 text-blue-700 hover:bg-blue-200","bg-blue-900 text-blue-300 hover:bg-blue-800")}`,children:p[n]?"ğŸ‘ï¸":"ğŸ”’"})]})]})]})]},n):null})}):e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[e.jsx("span",{className:`text-xs sm:text-sm font-semibold w-16 sm:w-20 ${s(a,"text-gray-700","text-gray-300")}`,children:"Email:"}),e.jsx("input",{type:"text",value:t.service_email||"No disponible",readOnly:!0,className:`text-xs sm:text-sm font-mono px-3 sm:px-4 py-2 sm:py-3 rounded-lg border-2 flex-1 ${s(a,"bg-white text-gray-800 border-gray-300","bg-gray-800 text-gray-200 border-gray-600")}`})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[e.jsx("span",{className:`text-xs sm:text-sm font-semibold w-16 sm:w-20 ${s(a,"text-gray-700","text-gray-300")}`,children:"Password:"}),e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("input",{type:u?"text":"password",value:t.service_password||"No disponible",readOnly:!0,className:`text-xs sm:text-sm font-mono px-3 sm:px-4 py-2 sm:py-3 rounded-lg border-2 flex-1 ${s(a,"bg-white text-gray-800 border-gray-300","bg-gray-800 text-gray-200 border-gray-600")}`}),e.jsx("button",{onClick:()=>y(!u),className:`px-2 sm:px-3 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-medium transition-colors ${s(a,"bg-blue-100 text-blue-700 hover:bg-blue-200","bg-blue-900 text-blue-300 hover:bg-blue-800")}`,children:u?"ğŸ‘ï¸":"ğŸ”’"})]})]})]})]}),e.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4 p-3 sm:p-4 rounded-b-xl ${s(a,"bg-gray-100","bg-gray-900")}`,children:[e.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[e.jsx("button",{onClick:o,className:`px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-semibold transition-all ${s(a,"bg-blue-500 text-white hover:bg-blue-600","bg-blue-600 text-white hover:bg-blue-700")}`,children:"âœ… Validada"}),e.jsx("button",{onClick:c,className:`px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-semibold transition-all ${s(a,"bg-orange-500 text-white hover:bg-orange-600","bg-orange-600 text-white hover:bg-orange-700")}`,children:"âœï¸ Editar"}),e.jsx("button",{onClick:h,className:`px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-semibold transition-all ${s(a,"bg-green-500 text-white hover:bg-green-600","bg-green-600 text-white hover:bg-green-700")}`,children:"ğŸ“… Recordatorio"}),e.jsx("button",{onClick:m,className:`px-3 sm:px-4 py-2 sm:py-3 rounded-lg text-xs sm:text-sm font-semibold transition-all ${s(a,"bg-red-500 text-white hover:bg-red-600","bg-red-600 text-white hover:bg-red-700")}`,children:"ğŸ—‘ï¸ Eliminar"})]}),e.jsx("div",{className:`px-3 py-2 text-sm font-bold rounded-full border-2 shadow-lg ${l<=0?s(a,"bg-red-200 text-red-900 border-red-400 shadow-red-300/50","bg-red-900 text-red-100 border-red-500 shadow-red-900/50"):l<=3?s(a,"bg-orange-200 text-orange-900 border-orange-400 shadow-orange-300/50","bg-orange-900 text-orange-100 border-orange-500 shadow-orange-900/50"):l<=7?s(a,"bg-yellow-200 text-yellow-900 border-yellow-400 shadow-yellow-300/50","bg-yellow-900 text-yellow-100 border-yellow-500 shadow-yellow-900/50"):s(a,"bg-blue-200 text-blue-900 border-blue-400 shadow-blue-300/50","bg-blue-900 text-blue-100 border-blue-500 shadow-blue-900/50")}`,children:l<=0?"âš ï¸ VENCIDO":l===1?"ğŸ”¥ VENCE MAÃ‘ANA":l===0?"ğŸ”¥ VENCE HOY":`ğŸ“… ${l} dÃ­as`})]})]}):e.jsx("div",{className:`p-6 rounded-2xl transition-all shadow-xl border ${s(a,"bg-white border-gray-100","bg-zinc-900 border-white/5")}`,children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[e.jsx("h3",{className:`text-xl font-bold tracking-tight ${s(a,"text-gray-900","text-white")}`,children:t.customer}),e.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-500/10 text-blue-400 border border-blue-500/20 text-[10px] font-black uppercase tracking-widest",children:t.service})]}),e.jsxs("div",{className:`flex items-center gap-4 text-xs font-medium mb-6 opacity-60 ${s(a,"text-gray-600","text-zinc-400")}`,children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{children:"ğŸ“±"}),t.phone]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{children:"ğŸ“…"}),t.start]})]}),e.jsxs("div",{className:`grid grid-cols-3 gap-6 p-4 rounded-xl ${s(a,"bg-gray-50 border border-gray-100","bg-black/50 border border-white/5 outline outline-1 outline-white/5")}`,children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest opacity-40 mb-1 text-white",children:"DURACIÃ“N"}),e.jsxs("div",{className:"text-sm font-bold text-white",children:[t.months," ",t.months===1?"mes":"meses"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest opacity-40 mb-1 text-white",children:"INICIO"}),e.jsx("div",{className:"text-sm font-bold text-white",children:t.start})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[9px] font-black uppercase tracking-widest opacity-40 mb-1 text-white",children:"FIN"}),e.jsx("div",{className:"text-sm font-bold text-white",children:t.end})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-[#10b981] hover:bg-[#059669] text-white font-black text-sm transition-all hover:scale-105 shadow-lg shadow-emerald-500/20",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Aprobar"]}),e.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-[#ef4444] hover:bg-[#dc2626] text-white font-black text-sm transition-all hover:scale-105 shadow-lg shadow-red-500/20",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"Rechazar"]})]})]})})}function te({open:t,onClose:a,isDark:o,adminUsers:m,setAdminUsers:c}){const[h,f]=d.useState(""),[v,u]=d.useState("secundario"),[y,p]=d.useState(!1),[$,r]=d.useState("");if(!t)return null;const w=b=>{const g=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);navigator.clipboard.writeText(g),r(`Clave copiada: ${g}`),setTimeout(()=>r(""),3e3)},i=()=>{if(!h){r("Email requerido");return}if(m.some(g=>g.email===h)){r("Este administrador ya existe");return}const b={email:h,role:v,canGenerateKeys:v==="principal",canDeleteOthers:v==="principal",isProtected:v==="principal"};c([...m,b]),f(""),r("âœ… Administrador agregado"),setTimeout(()=>r(""),3e3)},j=b=>{if(b.isProtected){r("No se puede eliminar el administrador principal");return}c(m.filter(g=>g.email!==b.email)),r("âœ… Administrador eliminado"),setTimeout(()=>r(""),3e3)},C=m.find(b=>b.role==="principal"),A=m.filter(b=>b.role==="secundario");return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-end",onClick:a,children:[e.jsx("div",{className:"absolute inset-0 bg-black/50"}),e.jsxs("aside",{className:`absolute right-0 top-0 h-full w-full sm:w-[450px] p-3 sm:p-6 shadow-2xl ${s(o,"bg-white","bg-zinc-900 text-zinc-100")}`,onClick:b=>b.stopPropagation(),children:[e.jsxs("div",{className:"mb-4 sm:mb-6 flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg sm:text-xl font-bold",children:"ğŸ‘¥ GestiÃ³n de Administradores"}),e.jsx("button",{onClick:a,className:`w-8 h-8 rounded-full flex items-center justify-center text-lg font-bold transition-colors ${s(o,"text-zinc-500 hover:text-zinc-700 hover:bg-zinc-100","text-zinc-300 hover:text-zinc-100 hover:bg-zinc-800")}`,children:"Ã—"})]}),e.jsx("div",{className:`p-3 sm:p-4 rounded-xl mb-4 sm:mb-6 ${s(o,"bg-blue-50 border border-blue-200","bg-blue-900/20 border border-blue-700")}`,children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx("div",{className:"text-xl sm:text-2xl",children:"ğŸ”’"}),e.jsxs("div",{children:[e.jsx("h5",{className:`font-semibold text-xs sm:text-sm mb-1 ${s(o,"text-blue-800","text-blue-200")}`,children:"Sistema de Roles"}),e.jsxs("p",{className:`text-xs ${s(o,"text-blue-600","text-blue-300")}`,children:[e.jsx("strong",{children:"Principal:"})," Acceso completo, protegido. ",e.jsx("strong",{children:"Secundarios:"})," Pueden generar claves, limitados."]})]})]})}),C&&e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("h5",{className:"font-semibold mb-3 text-sm sm:text-base",children:"ğŸ‘‘ Administrador Principal"}),e.jsxs("div",{className:`p-3 sm:p-4 rounded-xl ${s(o,"bg-yellow-50 border border-yellow-200","bg-yellow-900/20 border border-yellow-700")}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-sm sm:text-base",children:C.email}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-200 text-yellow-800",children:"Principal"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>w(),className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${s(o,"bg-blue-100 text-blue-700 hover:bg-blue-200","bg-blue-900/30 text-blue-300 hover:bg-blue-900/50")}`,children:"ğŸ”‘ Generar Clave"})})]})]}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("h5",{className:"font-semibold mb-3 text-sm sm:text-base",children:"â• Agregar Administrador"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsx("input",{type:"email",placeholder:"admin@correo.com",className:`w-full rounded-xl border-2 px-3 py-2 text-sm ${s(o,"border-gray-300 bg-white text-gray-900","border-gray-600 bg-gray-700 text-white")}`,value:h,onChange:b=>f(b.target.value)})}),e.jsx("div",{children:e.jsxs("select",{className:`w-full rounded-xl border-2 px-3 py-2 text-sm ${s(o,"border-gray-300 bg-white text-gray-900","border-gray-600 bg-gray-700 text-white")}`,value:v,onChange:b=>u(b.target.value),children:[e.jsx("option",{value:"secundario",children:"Secundario"}),e.jsx("option",{value:"principal",children:"Principal"})]})}),e.jsx("button",{onClick:i,className:`w-full px-4 py-2 rounded-xl font-medium transition-all ${s(o,"bg-green-600 text-white hover:bg-green-700","bg-green-500 text-white hover:bg-green-600")}`,children:"â• Agregar"})]})]}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("h5",{className:"font-semibold mb-3 text-sm sm:text-base",children:"ğŸ‘¥ Administradores Secundarios"}),e.jsx("div",{className:"space-y-2",children:A.map((b,g)=>e.jsxs("div",{className:`p-3 rounded-xl ${s(o,"bg-gray-50 border border-gray-200","bg-gray-800 border border-gray-700")}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-sm",children:b.email}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-200 text-gray-700",children:"Secundario"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>w(),className:`px-2 py-1 rounded-lg text-xs font-medium transition-all ${s(o,"bg-blue-100 text-blue-700 hover:bg-blue-200","bg-blue-900/30 text-blue-300 hover:bg-blue-900/50")}`,children:"ğŸ”‘ Clave"}),e.jsx("button",{onClick:()=>j(b),className:`px-2 py-1 rounded-lg text-xs font-medium transition-all ${s(o,"bg-red-100 text-red-700 hover:bg-red-200","bg-red-900/30 text-red-300 hover:bg-red-900/50")}`,children:"ğŸ—‘ï¸ Eliminar"})]})]},g))})]}),$&&e.jsx("div",{className:`p-3 rounded-xl text-sm ${$.includes("âœ…")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:$})]})]})}function se({open:t,onClose:a,isDark:o,setSubView:m,openAdmins:c,onExportCSV:h,onLogout:f,onRegisterPurchase:v}){if(!t)return null;const u=({onClick:p,icon:$,label:r,color:w,description:i})=>e.jsxs("button",{onClick:p,className:`group w-full flex items-center gap-4 p-4 rounded-2xl transition-all duration-300 border mb-3 relative overflow-hidden active:scale-95 ${s(o,"bg-white/80 border-gray-100 hover:border-blue-200 hover:shadow-lg hover:shadow-blue-500/5","bg-white/5 border-white/5 hover:border-white/20 hover:bg-white/10 hover:shadow-2xl hover:shadow-black/40")}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-2xl shadow-lg transition-transform group-hover:scale-110 group-hover:rotate-3 ${w}`,children:$}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("div",{className:`font-black text-sm tracking-tight ${s(o,"text-gray-900","text-white")}`,children:r}),i&&e.jsx("div",{className:`text-[10px] font-bold opacity-40 uppercase tracking-widest ${s(o,"text-gray-600","text-gray-400")}`,children:i})]}),e.jsx("div",{className:`opacity-0 group-hover:opacity-100 transition-opacity transform translate-x-2 group-hover:translate-x-0 ${s(o,"text-gray-400","text-white/20")}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]}),y=({title:p})=>e.jsx("h5",{className:`text-[10px] font-black tracking-[0.2em] uppercase mb-3 ml-1 opacity-50 ${s(o,"text-gray-900","text-white")}`,children:p});return e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-start overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity animate-in fade-in duration-500",onClick:a}),e.jsxs("aside",{className:`relative h-[96dvh] w-[92%] sm:w-[380px] m-2 sm:m-4 rounded-[32px] shadow-2xl overflow-hidden border transition-transform duration-500 ease-out animate-in slide-in-from-left forced-colors:opacity-100 ${s(o,"bg-white/90 border-white shadow-blue-900/10","bg-zinc-900/80 border-white/10 shadow-black")}`,style:{backdropFilter:"blur(24px)"},onClick:p=>p.stopPropagation(),children:[e.jsx("div",{className:"absolute -top-24 -left-24 w-64 h-64 bg-blue-500/10 rounded-full blur-[80px]"}),e.jsx("div",{className:"absolute -bottom-24 -right-24 w-64 h-64 bg-purple-500/10 rounded-full blur-[80px]"}),e.jsxs("div",{className:"relative h-full flex flex-col p-6",children:[e.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-700 flex items-center justify-center shadow-lg border border-white/20 text-white font-black text-xs",children:"SZ"}),e.jsxs("div",{className:"leading-tight",children:[e.jsxs("h4",{className:`text-xl font-black italic tracking-tighter ${s(o,"text-gray-900","text-white")}`,children:["Stream",e.jsx("span",{className:"text-blue-500",children:"Zone"})]}),e.jsx("p",{className:"text-[10px] font-bold opacity-50 uppercase tracking-widest text-blue-500",children:"Panel Control"})]})]}),e.jsx("button",{onClick:a,className:`w-10 h-10 rounded-full flex items-center justify-center text-xl font-bold transition-all hover:rotate-90 active:scale-90 ${s(o,"bg-gray-100 text-gray-900 hover:bg-gray-200","bg-white/5 text-white hover:bg-white/10")}`,children:"Ã—"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:e.jsxs("nav",{children:[e.jsx(y,{title:"Principal"}),e.jsx(u,{onClick:()=>{m("dashboard"),a()},icon:"ğŸ“Š",label:"DASHBOARD",description:"Resumen global y mÃ©tricas",color:"bg-gradient-to-br from-blue-500 to-blue-600 text-white"}),e.jsx(u,{onClick:()=>{m("products"),a()},icon:"ğŸ“¦",label:"CATÃLOGO",description:"Servicios y Combos",color:"bg-gradient-to-br from-teal-500 to-emerald-600 text-white"}),e.jsx("div",{className:"h-4"}),e.jsx(y,{title:"Operaciones"}),e.jsx(u,{onClick:()=>{m("purchases"),a()},icon:"ğŸ›’",label:"GESTIONAR VENTAS",description:"Pedidos y Activaciones",color:"bg-gradient-to-br from-purple-500 to-indigo-600 text-white"}),e.jsx(u,{onClick:()=>{v(),a()},icon:"â•",label:"NUEVA VENTA",description:"Registro Manual",color:"bg-gradient-to-br from-green-500 to-emerald-600 text-white"}),e.jsx("div",{className:"h-4"}),e.jsx(y,{title:"Sistema y Reportes"}),e.jsx(u,{onClick:()=>{c(),a()},icon:"ğŸ‘¥",label:"ADMINISTRADORES",description:"Cuentas de Acceso",color:"bg-gradient-to-br from-orange-500 to-amber-600 text-white"}),e.jsx(u,{onClick:()=>{h(),a()},icon:"ğŸ“„",label:"EXPORTAR PDF",description:"Reporte de Ventas",color:"bg-gradient-to-br from-pink-500 to-rose-600 text-white"})]})}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10",children:[e.jsxs("button",{onClick:()=>{f(),a()},className:`w-full flex items-center justify-center gap-3 p-4 rounded-2xl font-black text-sm tracking-widest transition-all active:scale-95 ${s(o,"bg-red-50 text-red-600 hover:bg-red-100","bg-red-500/10 text-red-400 border border-red-500/20 hover:bg-red-500/20")}`,children:[e.jsx("span",{children:"ğŸšª"}),"CERRAR SESIÃ“N"]}),e.jsx("div",{className:`mt-4 text-center text-[10px] font-bold opacity-30 ${s(o,"text-gray-900","text-white")}`,children:"StreamZone Admin v2.1 â€¢ 2026"})]})]})]})]})}function re({isDark:t,services:a,combos:o,onRefresh:m,onBack:c}){const[h,f]=d.useState("services"),[v,u]=d.useState(!1),[y,p]=d.useState(null),[$,r]=d.useState(!1),w=l=>{const n=l.target.files?.[0];if(n){if(n.size>500*1024){alert("La imagen es muy grande. Por favor sube una imagen de menos de 500KB.");return}const x=new FileReader;x.onloadend=()=>{j(N=>({...N,logo:x.result}))},x.readAsDataURL(n)}},[i,j]=d.useState({id:"",name:"",price:0,billing:"monthly",color:"bg-zinc-800",logo:"",is_combo:!1}),C=h==="services"?a:o,A=l=>{l?(p(l),j(l)):(p(null),j({id:"",name:"",price:0,billing:"monthly",color:"bg-zinc-800",logo:"",is_combo:h==="combos"})),u(!0)},b=()=>{u(!1),p(null)},g=async l=>{l.preventDefault(),r(!0);try{const n={...i};if(!y){let x=n.name?.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,"");n.is_combo&&x&&!x.startsWith("combo_")&&(x="combo_"+x),n.id=x,n.color||(n.color="bg-zinc-800")}n.logo||(n.logo=n.name?.substring(0,1).toUpperCase()||"P"),y?(await Y(y.id,n),alert("âœ… Producto actualizado correctamente")):(await K(n),alert("ğŸ‰ Producto nuevo creado correctamente")),m(),b()}catch(n){console.error("Error saving product:",n),alert("âŒ Error al guardar el producto")}finally{r(!1)}},S=async l=>{if(window.confirm("Â¿EstÃ¡s seguro de que deseas eliminar este producto? Esta acciÃ³n no se puede deshacer.")){r(!0);try{await Z(l),alert("âœ… Producto eliminado"),m()}catch{alert("âŒ Error al eliminar el producto")}finally{r(!1)}}};return e.jsxs("section",{className:"mx-auto max-w-6xl px-3 sm:px-4 pb-8 sm:pb-16 animate-fade-in",children:[e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("button",{onClick:c,className:`mb - 2 text - sm flex items - center gap - 1 ${s(t,"text-gray-600 hover:text-black","text-gray-400 hover:text-white")} `,children:"â† Volver al Dashboard"}),e.jsx("h3",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"ğŸ“¦ Gestor de Productos"}),e.jsx("p",{className:`text-sm ${s(t,"text-gray-600","text-gray-400")}`,children:"Administra los servicios individuales y combos disponibles en el catÃ¡logo."})]}),e.jsxs("button",{onClick:()=>A(),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-bold text-white shadow-lg transition-all hover:scale-105 ${s(t,"bg-blue-600 hover:bg-blue-700 shadow-blue-600/30","bg-blue-500 hover:bg-blue-600 shadow-blue-500/30")}`,children:[e.jsx("span",{children:"â•"})," AÃ±adir ",h==="services"?"Servicio":"Combo"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[e.jsx("button",{onClick:()=>f("services"),className:`flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-xl font-bold transition-all shadow-md border text-sm sm:text-base ${h==="services"?s(t,"bg-gradient-to-r from-blue-500 to-purple-600 text-white border-blue-400 shadow-blue-500/30","bg-gradient-to-r from-blue-600 to-purple-700 text-white border-blue-500 shadow-blue-600/30"):s(t,"bg-white text-gray-700 border-gray-200 hover:bg-gray-50","bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700")}`,children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"ğŸ“º"}),e.jsx("span",{children:"Servicios"})]})}),e.jsx("button",{onClick:()=>f("combos"),className:`flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-xl font-bold transition-all shadow-md border text-sm sm:text-base ${h==="combos"?s(t,"bg-gradient-to-r from-orange-400 to-red-500 text-white border-orange-400 shadow-orange-500/30","bg-gradient-to-r from-orange-500 to-red-600 text-white border-orange-500 shadow-orange-600/30"):s(t,"bg-white text-gray-700 border-gray-200 hover:bg-gray-50","bg-gray-800 text-gray-300 border-gray-700 hover:bg-gray-700")} `,children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"ğŸ“¦"}),e.jsx("span",{children:"Combos"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 lg:hidden",children:C.length===0?e.jsx("div",{className:`p-8 text-center rounded-2xl border ${s(t,"bg-white border-gray-200 text-gray-500","bg-gray-900 border-gray-700 text-gray-400")}`,children:"No hay productos registrados en esta categorÃ­a."}):C.map(l=>e.jsxs("div",{className:`p-4 rounded-2xl shadow-lg border transition-all ${s(t,"bg-white border-gray-100","bg-gray-900/80 border-gray-700")}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center shadow-md relative overflow-hidden ${l.color}`,children:(()=>{if(l.is_combo||h==="combos"){const x=W(l.id,24,l.name);if(x.length>0)return e.jsx("div",{className:"flex items-center -space-x-2",children:x.map((N,L)=>e.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 backdrop-blur-sm shadow-md border border-white/30 flex items-center justify-center overflow-hidden",style:{zIndex:x.length-L},children:N},L))})}const n=k(l.id,0,"w-full h-full object-cover scale-150");return n?e.jsx("div",{className:"w-full h-full flex items-center justify-center overflow-hidden rounded-xl",children:n}):l.logo?.startsWith("http")||l.logo?.startsWith("data:image")?e.jsx("img",{src:l.logo,alt:l.name,className:"w-full h-full object-cover rounded-xl",loading:"lazy"}):e.jsx("span",{className:"text-white font-bold text-xl",children:l.logo})})()}),e.jsxs("div",{children:[e.jsx("div",{className:`font-black tracking-tight ${s(t,"text-gray-900","text-white")}`,children:l.name}),e.jsx("div",{className:`text-xs opacity-50 ${s(t,"text-gray-500","text-gray-400")}`,children:l.id})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>A(l),className:`p-2 rounded-xl transition-all active:scale-95 ${s(t,"bg-blue-50 text-blue-600","bg-blue-500/10 text-blue-400 border border-blue-500/20")}`,children:"âœï¸"}),e.jsx("button",{onClick:()=>S(l.id),className:`p-2 rounded-xl transition-all active:scale-95 ${s(t,"bg-red-50 text-red-600","bg-red-500/10 text-red-400 border border-red-500/20")}`,children:"ğŸ—‘ï¸"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${l.color}`}),e.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider opacity-60 ${s(t,"text-gray-600","text-gray-400")}`,children:"UI COLOR"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-black text-green-500",children:V(l.price)}),e.jsx("div",{className:`text-[10px] font-bold opacity-50 ${s(t,"text-gray-600","text-gray-400")}`,children:l.billing==="annual"?"ANUAL":"MENSUAL"})]})]})]},l.id))}),e.jsx("div",{className:`hidden lg:block overflow-x-auto rounded-2xl shadow-xl backdrop-blur-md border ${s(t,"bg-white/80 border-gray-200","bg-gray-900/80 border-gray-700")}`,children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:s(t,"border-b border-gray-200 bg-gray-50/50","border-b border-gray-700 bg-gray-800/50"),children:[e.jsx("th",{className:"p-4 font-bold",children:"Logo"}),e.jsx("th",{className:"p-4 font-bold",children:"Nombre / ID"}),e.jsx("th",{className:"p-4 font-bold",children:"Precio"}),e.jsx("th",{className:"p-4 font-bold",children:"Color UI"}),e.jsx("th",{className:"p-4 font-bold text-right",children:"Acciones"})]})}),e.jsx("tbody",{children:C.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500",children:"No hay productos registrados en esta categorÃ­a."})}):C.map(l=>e.jsxs("tr",{className:`group border-b last:border-0 transition-colors ${s(t,"border-gray-100 hover:bg-gray-50","border-gray-800 hover:bg-gray-800")}`,children:[e.jsx("td",{className:"p-4 w-16",children:e.jsx("div",{className:`w-12 h-12 min-w-[3rem] min-h-[3rem] max-w-[3rem] max-h-[3rem] rounded-xl flex items-center justify-center shadow-sm relative overflow-hidden ${l.color}`,children:(()=>{if(l.is_combo||h==="combos"){const x=W(l.id,24,l.name);if(x.length>0)return e.jsx("div",{className:"flex items-center -space-x-2",children:x.map((N,L)=>e.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 backdrop-blur-sm shadow-md border border-white/30 flex items-center justify-center overflow-hidden",style:{zIndex:x.length-L},children:N},L))})}const n=k(l.id,0,"w-full h-full object-cover scale-150");return n?e.jsx("div",{className:"w-full h-full flex items-center justify-center overflow-hidden rounded-xl",children:n}):l.logo?.startsWith("http")||l.logo?.startsWith("data:image")?e.jsx("img",{src:l.logo,alt:l.name,className:"w-full h-full object-cover rounded-xl",loading:"lazy"}):e.jsx("span",{className:"text-white font-bold text-lg",children:l.logo})})()})}),e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-bold text-lg",children:l.name}),e.jsx("div",{className:`text-xs ${s(t,"text-gray-500","text-gray-400")}`,children:l.id})]}),e.jsxs("td",{className:"p-4",children:[e.jsx("span",{className:"font-bold text-green-500 bg-green-500/10 px-3 py-1.5 rounded-lg border border-green-500/20",children:V(l.price)}),e.jsx("span",{className:"text-xs ml-2 opacity-70",children:l.billing==="annual"?"/ aÃ±o":"/ mes"})]}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-4 h-4 rounded-full ${l.color}`}),e.jsxs("code",{className:`text-xs px-2 py-1 rounded bg-black/5 ${s(t,"text-gray-600","text-gray-300")}`,children:[l.color.substring(0,15),l.color.length>15?"...":""]})]})}),e.jsx("td",{className:"p-4 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>A(l),className:`p-2 rounded-lg transition-colors hover:bg-blue-500 hover:text-white ${s(t,"bg-gray-100 text-gray-700","bg-gray-700 text-gray-300")}`,title:"Editar",children:"âœï¸"}),e.jsx("button",{onClick:()=>S(l.id),className:`p-2 rounded-lg transition-colors hover:bg-red-500 hover:text-white ${s(t,"bg-gray-100 text-gray-700","bg-gray-700 text-gray-300")}`,title:"Eliminar",children:"ğŸ—‘ï¸"})]})})]},l.id))})]})})]}),v&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-md transition-opacity",onClick:b}),e.jsxs("div",{className:`relative w-full max-w-lg rounded-[2rem] p-6 sm:p-8 shadow-2xl border animate-scale-up overflow-hidden ${s(t,"bg-white border-gray-200 shadow-gray-200/50","bg-zinc-900 border-zinc-800 shadow-black/80")}`,children:[e.jsx("div",{className:`absolute top-0 left-0 w-full h-32 opacity-20 pointer-events-none bg-gradient-to-b ${i.is_combo?"from-orange-500":"from-blue-500"} to-transparent`}),e.jsx("button",{onClick:b,className:`absolute top-4 right-4 w-10 h-10 flex items-center justify-center rounded-full transition-colors z-10 ${s(t,"bg-gray-100 hover:bg-gray-200 text-gray-600","bg-zinc-800 hover:bg-zinc-700 text-gray-300")}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("h2",{className:`text-2xl sm:text-3xl font-black mb-6 flex items-center gap-3 ${s(t,"text-gray-900","text-white")}`,children:[i.is_combo?"ğŸ“¦":"ğŸ“º",y?"Editar ":"Nuevo ",e.jsx("span",{className:`bg-gradient-to-r ${i.is_combo?"from-orange-400 to-red-500":"from-blue-400 to-purple-500"} bg-clip-text text-transparent`,children:i.is_combo?"Combo":"Servicio"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-xs font-bold mb-2 uppercase tracking-wider ${s(t,"text-gray-500","text-zinc-400")}`,children:"Nombre del Producto"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",required:!0,value:i.name,onChange:l=>j({...i,name:l.target.value}),className:`w-full rounded-2xl pl-12 pr-4 py-3.5 outline-none transition-all border-2 focus:ring-4 ${s(t,"bg-gray-50 border-gray-100 focus:border-blue-400 focus:ring-blue-100 text-gray-900","bg-zinc-800/50 border-zinc-700 focus:border-blue-500 focus:ring-blue-500/20 text-white")}`,placeholder:i.is_combo?"ej: Disney + Max":"ej: Netflix Premium"}),e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-xl opacity-50",children:"âœ¨"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:`block text-xs font-bold mb-2 uppercase tracking-wider ${s(t,"text-gray-500","text-zinc-400")}`,children:"Precio ($)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",step:"0.01",min:"0",required:!0,value:i.price,onChange:l=>j({...i,price:parseFloat(l.target.value)}),className:`w-full rounded-2xl pl-12 pr-4 py-3.5 outline-none transition-all border-2 focus:ring-4 font-bold ${s(t,"bg-gray-50 border-gray-100 focus:border-green-400 focus:ring-green-100 text-gray-900","bg-zinc-800/50 border-zinc-700 focus:border-green-500 focus:ring-green-500/20 text-white")}`}),e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 font-bold text-green-500",children:"US$"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:`block text-xs font-bold mb-2 uppercase tracking-wider ${s(t,"text-gray-500","text-zinc-400")}`,children:"MÃ³dulo de Cobro"}),e.jsxs("select",{value:i.billing,onChange:l=>j({...i,billing:l.target.value}),className:`w-full rounded-2xl px-4 py-3.5 outline-none transition-all border-2 focus:ring-4 font-bold appearance-none ${s(t,"bg-gray-50 border-gray-100 focus:border-blue-400 focus:ring-blue-100 text-gray-900","bg-zinc-800/50 border-zinc-700 focus:border-blue-500 focus:ring-blue-500/20 text-white")}`,children:[e.jsx("option",{value:"monthly",children:"ğŸ“… Mensual"}),e.jsx("option",{value:"annual",children:"ğŸ“† Anual"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block text-xs font-bold mb-2 uppercase tracking-wider flex justify-between ${s(t,"text-gray-500","text-zinc-400")}`,children:["Icono o Logo",i.logo&&i.logo.startsWith("data:image")&&e.jsx("span",{className:"text-[10px] text-green-500 bg-green-500/10 px-2 py-0.5 rounded-full",children:"âœ… Se adjuntÃ³ imagen"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:i.logo,onChange:l=>j({...i,logo:l.target.value}),className:`flex-1 rounded-2xl px-4 py-3.5 outline-none transition-all border-2 focus:ring-4 ${s(t,"bg-gray-50 border-gray-100 focus:border-blue-400 focus:ring-blue-100","bg-zinc-800/50 border-zinc-700 focus:border-blue-500 focus:ring-blue-500/20")} placeholder:opacity-40`,placeholder:"Pega URL o Icono (Ej: https://)"}),e.jsxs("label",{className:`cursor-pointer px-5 flex items-center gap-2 rounded-2xl font-bold transition-transform hover:scale-105 shadow-lg active:scale-95 ${s(t,"bg-gradient-to-r from-blue-600 to-indigo-600 text-white","bg-gradient-to-r from-blue-500 to-indigo-500 text-white")}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),e.jsx("span",{className:"hidden sm:inline",children:"Archivo"}),e.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"hidden"})]})]}),i.is_combo&&!i.logo&&e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:`text-[10px] font-bold uppercase tracking-widest mb-2 opacity-50 ${s(t,"text-gray-900","text-white")}`,children:"Logos Detectados AutomÃ¡ticamente:"}),e.jsx("div",{className:"flex items-center gap-2",children:(()=>{const l=W("temp",24,i.name);return l.length>0?l.map((n,x)=>e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center overflow-hidden border ${s(t,"bg-gray-100 border-gray-200","bg-zinc-800 border-zinc-700")}`,children:n},x)):e.jsx("span",{className:"text-[10px] italic opacity-50",children:"Escribe servicios (ej: Netflix + Max) para detectar logos"})})()})]})]}),e.jsxs("label",{className:`relative flex items-center justify-between p-4 sm:p-5 rounded-2xl cursor-pointer transition-all border-2 ${i.is_combo?s(t,"bg-orange-50 border-orange-200 shadow-inner","bg-orange-500/10 border-orange-500/30 shadow-inner"):s(t,"bg-gray-50 border-gray-100","bg-zinc-800/30 border-zinc-800")}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-xl shadow-sm ${i.is_combo?"bg-gradient-to-br from-orange-400 to-red-500 text-white":s(t,"bg-gray-200 text-gray-500","bg-zinc-700 text-zinc-400")}`,children:i.is_combo?"ğŸ“¦":"ğŸ“º"}),e.jsxs("div",{children:[e.jsx("div",{className:`font-bold ${s(t,"text-gray-900","text-white")}`,children:"Esto es un Combo"}),e.jsx("div",{className:`text-xs ${s(t,"text-gray-500","text-zinc-400")}`,children:i.is_combo?"AparecerÃ¡ junto con combos especiales":"AparecerÃ¡ en servicios individuales"})]})]}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-colors flex items-center px-1 ${i.is_combo?s(t,"bg-orange-500","bg-orange-600"):s(t,"bg-gray-300","bg-zinc-600")}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white shadow-md transform transition-transform ${i.is_combo?"translate-x-6":"translate-x-0"}`})}),e.jsx("input",{type:"checkbox",checked:i.is_combo,onChange:l=>j({...i,is_combo:l.target.checked}),className:"hidden"})]})]}),e.jsxs("div",{className:"pt-6 flex gap-3",children:[e.jsx("button",{type:"button",onClick:b,className:`flex-1 py-4 rounded-2xl font-bold transition-all hover:scale-[1.02] active:scale-95 ${s(t,"bg-gray-100 hover:bg-gray-200 text-gray-600","bg-zinc-800 hover:bg-zinc-700 text-gray-300")}`,children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:$,className:`flex-1 flex justify-center items-center gap-2 py-4 rounded-2xl font-bold text-white transition-all shadow-xl hover:scale-[1.02] active:scale-95 ${$?"opacity-70 cursor-wait":""} ${i.is_combo?s(t,"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 shadow-orange-500/30","bg-gradient-to-r from-orange-600 to-red-600 shadow-orange-600/30"):s(t,"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-blue-500/30","bg-gradient-to-r from-blue-600 to-indigo-600 shadow-blue-600/30")}`,children:$?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Guardar Producto"]})})]})]})]})]})]})]})}function ie({isDark:t,purchases:a,pendingPurchases:o=[],expiringServices:m=[],renewalStats:c,services:h=[],combos:f=[],loading:v=!1,error:u=null,adminUsers:y,setAdminUsers:p,onToggleValidate:$,onDeletePurchase:r,onEditPurchase:w,onReminderPurchase:i,onRegisterPurchase:j,onExportCSV:C,refreshAllStats:A,onGoToHome:b,onSetAdminUserRegisterFormPurchaseOpen:g,onSetDrawerOpen:S,onLogout:l,onSetView:n}){const[x,N]=d.useState("dashboard"),[L,E]=d.useState(!1),[M,R]=d.useState(!1),[O,P]=d.useState("pending"),[_,F]=d.useState(!1),T=a.length,I=a.filter(z=>z.validated);return I.reduce((z,q)=>z+(q.price||0),0),e.jsxs("section",{className:`mx-auto max-w-7xl px-4 sm:px-6 pb-16 min-h-screen ${s(t,"bg-gray-50","bg-[#0a0a0a]")}`,children:[e.jsx("div",{className:"mb-8 pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 rounded-2xl ${s(t,"bg-white shadow-md border border-gray-100","bg-zinc-900 border border-zinc-800")}`,children:e.jsx("span",{className:"text-3xl",children:"ğŸ”§"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-2xl sm:text-3xl font-black tracking-tight ${s(t,"text-gray-900","text-white")}`,children:"Panel Administrador"}),e.jsx("p",{className:`text-sm mt-1 font-medium ${s(t,"text-gray-500","text-zinc-500")}`,children:"Gestiona compras, administradores y configuraciÃ³n"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("button",{onClick:()=>R(!0),className:`flex items-center gap-2 rounded-xl px-4 py-2.5 font-bold text-sm transition-all hover:scale-105 ${s(t,"bg-white text-gray-700 border border-gray-200 shadow-sm hover:bg-gray-50","bg-emerald-600/10 text-emerald-400 border border-emerald-500/20 hover:bg-emerald-600/20")}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})}),"MenÃº"]}),e.jsxs("button",{onClick:A,disabled:v,className:`flex items-center gap-2 rounded-xl px-4 py-2.5 font-bold text-sm transition-all hover:scale-105 shadow-lg shadow-blue-600/20 ${s(t,"bg-blue-600 text-white hover:bg-blue-700","bg-blue-600 text-white hover:bg-blue-500")}`,children:[e.jsx("svg",{className:`w-4 h-4 ${v?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),v?"Cargando...":"Actualizar Todo"]}),e.jsxs("button",{onClick:()=>n("home"),className:`flex items-center gap-2 rounded-xl px-4 py-2.5 font-bold text-sm transition-all hover:scale-105 ${s(t,"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200","bg-emerald-500 text-white hover:bg-emerald-400")}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Inicio"]})]})]})}),e.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[e.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-6 border transition-all ${s(t,"bg-white border-gray-100 shadow-sm","bg-zinc-900/50 border-white/5 shadow-xl")}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("span",{className:`text-[10px] sm:text-xs font-black tracking-widest uppercase opacity-60 ${s(t,"text-gray-900","text-white")}`,children:"TOTAL COMPRAS"}),e.jsx("div",{className:`p-2 rounded-lg ${s(t,"bg-blue-50 text-blue-600","bg-blue-500/10 text-blue-400 border border-blue-500/20")}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]}),e.jsx("div",{className:`text-4xl sm:text-5xl font-black ${s(t,"text-gray-900","text-white")}`,children:T}),e.jsx("div",{className:"absolute -bottom-6 -right-6 w-24 h-24 bg-blue-500/5 rounded-full blur-3xl group-hover:bg-blue-500/10 transition-colors"})]}),e.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-6 border transition-all ${s(t,"bg-white border-gray-100 shadow-sm","bg-zinc-900/50 border-white/5 shadow-xl")}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("span",{className:`text-[10px] sm:text-xs font-black tracking-widest uppercase opacity-60 ${s(t,"text-gray-900","text-white")}`,children:"PENDIENTES"}),e.jsx("div",{className:`p-2 rounded-lg ${s(t,"bg-amber-50 text-amber-600","bg-amber-500/10 text-amber-400 border border-amber-500/20")}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),e.jsx("div",{className:`text-4xl sm:text-5xl font-black ${s(t,"text-gray-900","text-white")}`,children:o.length}),e.jsx("div",{className:"absolute -bottom-6 -right-6 w-24 h-24 bg-amber-500/5 rounded-full blur-3xl"})]}),e.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-6 border transition-all ${s(t,"bg-white border-gray-100 shadow-sm","bg-zinc-900/50 border-white/5 shadow-xl")}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("span",{className:`text-[10px] sm:text-xs font-black tracking-widest uppercase opacity-60 ${s(t,"text-gray-900","text-white")}`,children:"VALIDADAS"}),e.jsx("div",{className:`p-2 rounded-lg ${s(t,"bg-emerald-50 text-emerald-600","bg-emerald-500/10 text-emerald-400 border border-emerald-500/20")}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),e.jsx("div",{className:`text-4xl sm:text-5xl font-black ${s(t,"text-gray-900","text-white")}`,children:I.length}),e.jsx("div",{className:"absolute -bottom-6 -right-6 w-24 h-24 bg-emerald-500/5 rounded-full blur-3xl"})]}),e.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-6 border transition-all ${s(t,"bg-white border-gray-100 shadow-sm","bg-zinc-900/50 border-white/5 shadow-xl")}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("span",{className:`text-[10px] sm:text-xs font-black tracking-widest uppercase opacity-60 ${s(t,"text-gray-900","text-white")}`,children:"VENCEN HOY"}),e.jsx("div",{className:`p-2 rounded-lg ${s(t,"bg-rose-50 text-rose-600","bg-rose-500/10 text-rose-400 border border-rose-500/20")}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]}),e.jsx("div",{className:`text-4xl sm:text-5xl font-black ${s(t,"text-gray-900","text-white")}`,children:m.filter(z=>z.days_remaining===0).length}),e.jsx("div",{className:"absolute -bottom-6 -right-6 w-24 h-24 bg-rose-500/5 rounded-full blur-3xl"})]})]}),e.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 mb-8",children:[e.jsxs("button",{onClick:()=>N("purchases"),className:`group relative flex flex-col items-center p-6 rounded-2xl border transition-all hover:scale-[1.03] text-center overflow-hidden ${s(t,"bg-white border-gray-100 shadow-sm hover:border-blue-200","bg-zinc-900/50 border-white/5 shadow-xl hover:border-blue-500/20")}`,children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-blue-500"}),e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center mb-4 border border-blue-500/20 text-blue-400 group-hover:scale-110 transition-transform",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h4",{className:`text-sm sm:text-base font-black tracking-tight mb-2 ${s(t,"text-gray-900","text-white")}`,children:"GESTIONAR COMPRAS"}),e.jsx("p",{className:`text-[10px] sm:text-xs font-medium px-2 leading-relaxed opacity-60 ${s(t,"text-gray-600","text-gray-400")}`,children:"Revisa, valida y notifica por WhatsApp"})]}),e.jsxs("button",{onClick:j,className:`group relative flex flex-col items-center p-6 rounded-2xl border transition-all hover:scale-[1.03] text-center overflow-hidden ${s(t,"bg-white border-gray-100 shadow-sm hover:border-emerald-200","bg-zinc-900/50 border-white/5 shadow-xl hover:border-emerald-500/20")}`,children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-emerald-500"}),e.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-500/10 flex items-center justify-center mb-4 border border-emerald-500/20 text-emerald-400 group-hover:scale-110 transition-transform",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})}),e.jsx("h4",{className:`text-sm sm:text-base font-black tracking-tight mb-2 ${s(t,"text-gray-900","text-white")}`,children:"REGISTRAR COMPRA"}),e.jsx("p",{className:`text-[10px] sm:text-xs font-medium px-2 leading-relaxed opacity-60 ${s(t,"text-gray-600","text-gray-400")}`,children:"Crear compra manual para un usuario"})]}),e.jsxs("button",{onClick:()=>E(!0),className:`group relative flex flex-col items-center p-6 rounded-2xl border transition-all hover:scale-[1.03] text-center overflow-hidden ${s(t,"bg-white border-gray-100 shadow-sm hover:border-purple-200","bg-zinc-900/50 border-white/5 shadow-xl hover:border-purple-500/20")}`,children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-purple-500"}),e.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-500/10 flex items-center justify-center mb-4 border border-purple-500/20 text-purple-400 group-hover:scale-110 transition-transform",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("h4",{className:`text-sm sm:text-base font-black tracking-tight mb-2 ${s(t,"text-gray-900","text-white")}`,children:"ADMINISTRADORES"}),e.jsx("p",{className:`text-[10px] sm:text-xs font-medium px-2 leading-relaxed opacity-60 ${s(t,"text-gray-600","text-gray-400")}`,children:"Agregar o quitar correos con acceso"})]}),e.jsxs("button",{onClick:()=>N("products"),className:`group relative flex flex-col items-center p-6 rounded-2xl border transition-all hover:scale-[1.03] text-center overflow-hidden ${s(t,"bg-white border-gray-100 shadow-sm hover:border-amber-200","bg-zinc-900/50 border-white/5 shadow-xl hover:border-amber-500/20")}`,children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-amber-500"}),e.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-500/10 flex items-center justify-center mb-4 border border-amber-500/20 text-amber-400 group-hover:scale-110 transition-transform",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),e.jsx("h4",{className:`text-sm sm:text-base font-black tracking-tight mb-2 ${s(t,"text-gray-900","text-white")}`,children:"GESTIONAR PRODUCTOS"}),e.jsx("p",{className:`text-[10px] sm:text-xs font-medium px-2 leading-relaxed opacity-60 ${s(t,"text-gray-600","text-gray-400")}`,children:"Servicios individuales y combos"})]})]}),x==="products"?e.jsx(re,{isDark:t,services:h,combos:f,onRefresh:A||(()=>{}),onBack:()=>N("dashboard")}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:`rounded-xl p-4 sm:p-6 shadow-lg mb-4 sm:mb-6 border backdrop-blur-sm ${s(t,"bg-gradient-to-br from-white to-gray-50 border-gray-300 shadow-gray-200/50","bg-gradient-to-br from-gray-800 to-gray-900 border-gray-600 shadow-gray-900/50")}`,children:[e.jsxs("div",{className:`inline-flex p-1 rounded-2xl mb-8 ${s(t,"bg-gray-200/50","bg-zinc-900/50 border border-white/5")}`,children:[e.jsxs("button",{onClick:()=>P("pending"),className:`flex items-center gap-2 px-6 py-2.5 rounded-xl font-bold text-xs transition-all ${O==="pending"?"bg-amber-600/20 text-amber-500 shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:[e.jsx("span",{children:"âŒ›"}),"PENDIENTES (",o.length,")"]}),e.jsxs("button",{onClick:()=>P("active"),className:`flex items-center gap-2 px-6 py-2.5 rounded-xl font-bold text-xs transition-all ${O==="active"?"bg-emerald-600/20 text-emerald-500 shadow-sm":"text-zinc-500 hover:text-zinc-300"}`,children:[e.jsx("span",{children:"ğŸ¬"}),"ACTIVAS (",I.length,")"]})]}),O==="pending"&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl animate-pulse",children:"â³"}),e.jsx("h4",{className:`text-xl font-black tracking-tight ${s(t,"text-gray-900","text-white")}`,children:"Compras Pendientes"})]}),e.jsxs("span",{className:"px-4 py-1.5 rounded-full bg-amber-500/10 text-amber-500 border border-amber-500/20 text-xs font-black uppercase tracking-wider",children:[o.length," pendientes"]})]}),v?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-2xl mb-2",children:"â³"}),e.jsx("p",{className:`text-sm font-medium ${s(t,"text-zinc-700","text-zinc-300")}`,children:"Cargando compras..."})]}):o.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ğŸ‰"}),e.jsx("h5",{className:`text-lg font-bold mb-2 ${s(t,"text-zinc-900","text-white")}`,children:"Â¡No hay compras pendientes!"}),e.jsx("p",{className:`text-sm font-medium ${s(t,"text-zinc-700","text-zinc-300")}`,children:"Todas las compras han sido procesadas"})]}):e.jsx("div",{className:"space-y-3 sm:space-y-4",children:o.map(z=>e.jsx(H,{item:z,isDark:t,onToggleValidate:()=>$(z.id),onDelete:()=>r(z.id),onEdit:()=>w(z),onReminder:()=>i?.(z)},z.id))})]}),O==="active"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-2",children:[e.jsx("h4",{className:`text-lg sm:text-xl font-bold ${s(t,"text-zinc-900","text-white")}`,children:"âœ… Compras Activas"}),e.jsxs("span",{className:`px-4 py-2 rounded-full text-sm font-semibold border-2 ${s(t,"bg-green-200 text-green-900 border-green-400","bg-green-800 text-green-100 border-green-500")}`,children:[I.length," activas"]})]}),I.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ğŸ“Š"}),e.jsx("h5",{className:`text-lg font-bold mb-2 ${s(t,"text-zinc-900","text-white")}`,children:"No hay compras activas"}),e.jsx("p",{className:`text-sm font-medium ${s(t,"text-zinc-700","text-zinc-300")}`,children:"Las compras activas aparecerÃ¡n aquÃ­"})]}):e.jsx("div",{className:"space-y-3 sm:space-y-4",children:I.map(z=>e.jsx(H,{item:z,isDark:t,onToggleValidate:()=>$(z.id),onDelete:()=>r(z.id),onEdit:()=>w(z),onReminder:()=>i?.(z)},z.id))})]})]})}),e.jsx(te,{open:L,onClose:()=>E(!1),isDark:t,adminUsers:y,setAdminUsers:p}),e.jsx(se,{open:M,onClose:()=>R(!1),isDark:t,setSubView:N,openAdmins:()=>E(!0),onExportCSV:C,onLogout:l,onRegisterPurchase:j})]})}function de({isDark:t,onLogin:a,onForgotPassword:o,setView:m}){const[c,h]=d.useState(""),[f,v]=d.useState(""),[u,y]=d.useState(""),[p,$]=d.useState(!1),[r,w]=d.useState(!1),i=async j=>{j.preventDefault(),w(!0),y("");try{const C=await X(c,f);C.data?(y("Login exitoso"),a(C.data),m&&setTimeout(()=>{m("profile")},500)):y("Credenciales incorrectas")}catch{y("Error en el login")}finally{w(!1)}};return e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:s(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Correo electrÃ³nico"}),e.jsx("input",{required:!0,type:"email",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:c,onChange:j=>h(j.target.value),placeholder:"tu@correo.com",disabled:r})]}),e.jsxs("div",{children:[e.jsx("label",{className:s(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"ContraseÃ±a"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{required:!0,type:p?"text":"password",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:f,onChange:j=>v(j.target.value),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢",disabled:r}),e.jsx("button",{type:"button",onClick:()=>$(j=>!j),className:s(t,"rounded-xl bg-zinc-100 px-4 py-3","rounded-xl bg-zinc-700 px-4 py-3"),disabled:r,children:p?"ğŸ‘ï¸":"ğŸ‘ï¸â€ğŸ—¨ï¸"})]})]}),u&&e.jsx("div",{className:`text-sm ${u.includes("exitoso")?"text-green-600":"text-red-600"}`,children:u}),e.jsx("button",{type:"submit",disabled:r,className:`w-full rounded-xl px-4 py-3 font-semibold transition-all ${r?"opacity-50 cursor-not-allowed":""} ${s(t,"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700","bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700")}`,children:r?"â³ Iniciando sesiÃ³n...":"ğŸš€ Iniciar SesiÃ³n"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:o,className:`text-sm ${s(t,"text-zinc-600 hover:text-zinc-800","text-zinc-400 hover:text-zinc-200")}`,disabled:r,children:"Â¿Olvidaste tu contraseÃ±a?"})}),e.jsxs("div",{className:"mt-8 text-center space-y-4",children:[e.jsx("div",{className:`text-sm font-medium ${s(t,"text-gray-600","text-gray-400")}`,children:"Â¿No tienes cuenta?"}),e.jsx("button",{onClick:()=>m&&m("register"),className:`w-full rounded-2xl px-6 py-4 font-bold text-lg transition-all duration-300 hover:scale-105 shadow-xl ${s(t,"bg-gradient-to-r from-green-500 via-blue-500 to-purple-600 text-white hover:from-green-600 hover:via-blue-600 hover:to-purple-700","bg-gradient-to-r from-green-600 via-blue-600 to-purple-700 text-white hover:from-green-700 hover:via-blue-700 hover:to-purple-800")}`,children:e.jsxs("span",{className:"flex items-center justify-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"âœ¨"}),e.jsx("span",{children:"Crear cuenta nueva"}),e.jsx("span",{className:"text-xl",children:"ğŸš€"})]})})]})]})}function le({value:t,onChange:a,isDark:o,disabled:m}){const[c,h]=d.useState(!1),[f,v]=d.useState(""),[u,y]=d.useState(B.find(r=>r.code===t)||B[0]),p=B.filter(r=>r.name.toLowerCase().includes(f.toLowerCase())||r.code.includes(f)||r.flag.includes(f)),$=r=>{y(r),a(r.code),h(!1),v("")};return e.jsxs("div",{className:"relative w-32 sm:w-40",children:[e.jsxs("button",{type:"button",onClick:()=>!m&&h(!c),disabled:m,className:`w-full rounded-xl border-2 px-3 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 flex items-center justify-between ${s(o,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200 hover:border-blue-300","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20 hover:border-blue-400")} ${m?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:u.flag}),e.jsx("span",{className:"text-sm font-medium",children:u.code})]}),e.jsx("svg",{className:`w-4 h-4 transition-transform ${c?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&e.jsxs("div",{className:`absolute top-full left-0 right-0 mt-1 rounded-xl border-2 shadow-lg z-50 max-h-64 overflow-hidden ${s(o,"border-gray-200 bg-white","border-gray-600 bg-gray-800")}`,children:[e.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:e.jsx("input",{type:"text",placeholder:"Buscar paÃ­s...",value:f,onChange:r=>v(r.target.value),className:`w-full px-3 py-2 rounded-lg text-sm border ${s(o,"border-gray-300 bg-white text-gray-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-1 focus:ring-blue-800/20")}`,autoFocus:!0})}),e.jsx("div",{className:"max-h-48 overflow-y-auto",children:p.length>0?p.map(r=>e.jsxs("button",{type:"button",onClick:()=>$(r),className:`w-full px-3 py-2 text-left hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors flex items-center gap-3 ${s(o,"text-gray-900 hover:text-blue-700","text-white hover:text-blue-300")} ${u.code===r.code?"bg-blue-100 dark:bg-blue-900/30":""}`,children:[e.jsx("span",{className:"text-lg",children:r.flag}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:r.name}),e.jsx("div",{className:"text-xs opacity-70",children:r.code})]}),u.code===r.code&&e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},r.code+r.name)):e.jsx("div",{className:`px-3 py-2 text-sm ${s(o,"text-gray-500","text-gray-400")}`,children:"No se encontraron paÃ­ses"})})]}),c&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>h(!1)})]})}function ae({isOpen:t,onClose:a,userName:o,userEmail:m,isDark:c,onContinue:h,onExploreServices:f}){const[v,u]=d.useState(!1),[y,p]=d.useState(!1);return d.useEffect(()=>{t?(setTimeout(()=>u(!0),100),setTimeout(()=>p(!0),300)):(u(!1),p(!1))},[t]),t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:a}),e.jsx("div",{className:`relative w-full max-w-md transform transition-all duration-500 ${v?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 translate-y-4"}`,children:e.jsxs("div",{className:`rounded-2xl shadow-2xl border-2 ${c?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"relative overflow-hidden rounded-t-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500 via-emerald-500 to-teal-500 opacity-90"}),e.jsxs("div",{className:"relative p-6 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 w-16 h-16 flex items-center justify-center",children:e.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center transition-all duration-700 ${y?"bg-white scale-100":"bg-white/20 scale-75"}`,children:e.jsx("svg",{className:`w-8 h-8 text-green-600 transition-all duration-500 ${y?"opacity-100 scale-100":"opacity-0 scale-50"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),e.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"ğŸ‰âœ¨ Â¡Bienvenido a StreamZone! âœ¨ğŸ‰"}),e.jsx("p",{className:"text-lg text-white/90",children:"ğŸ¬ Tu cuenta ha sido creada exitosamente ğŸ¬"})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("h3",{className:`text-xl font-semibold mb-2 ${c?"text-white":"text-gray-900"}`,children:["ğŸ‘‹ Â¡Hola, ",o,"! ğŸ‘‹"]}),e.jsx("p",{className:`text-sm ${c?"text-gray-300":"text-gray-600"}`,children:"ğŸŠ Â¡Tu cuenta ha sido creada con Ã©xito! ğŸŠ\\nğŸ’« Ahora puedes iniciar sesiÃ³n y disfrutar de nuestros servicios ğŸ’«"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:h,className:"w-full py-3 px-4 rounded-xl font-semibold transition-all duration-200 transform hover:scale-105 bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700",children:"ğŸ”âœ¨ Iniciar sesiÃ³n âœ¨ğŸ”"}),f&&e.jsx("button",{onClick:f,className:`w-full py-3 px-4 rounded-xl font-semibold transition-all duration-200 transform hover:scale-105 ${c?"bg-gray-700 text-white hover:bg-gray-600 border border-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300"}`,children:"ğŸ¬âœ¨ Explorar servicios âœ¨ğŸ¬"}),e.jsx("button",{onClick:a,className:`w-full py-2 px-4 rounded-xl text-sm transition-all duration-200 ${c?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,children:"Cerrar"})]})]}),e.jsx("div",{className:`px-6 pb-4 ${c?"bg-gray-800/50":"bg-gray-50/50"}`,children:e.jsx("div",{className:"flex justify-center space-x-1",children:[...Array(5)].map(($,r)=>e.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${c?"bg-green-400":"bg-green-500"}`,style:{animationDelay:`${r*.2}s`,animationDuration:"1.5s"}},r))})})]})})]}):null}function ce({isDark:t,onSubmit:a,setView:o,setAuthStep:m}){const[c,h]=d.useState(""),[f,v]=d.useState(""),[u,y]=d.useState("+593"),[p,$]=d.useState(""),[r,w]=d.useState(""),[i,j]=d.useState(""),[C,A]=d.useState(!1),[b,g]=d.useState(""),[S,l]=d.useState(!1),[n,x]=d.useState(!1),[N,L]=d.useState({name:"",email:""}),E=async P=>{if(P.preventDefault(),g(""),l(!0),!c||!f||!p||!r){g("Todos los campos son obligatorios"),l(!1);return}if(r!==i){g("Las contraseÃ±as no coinciden"),l(!1);return}if(r.length<6){g("La contraseÃ±a debe tener al menos 6 caracteres"),l(!1);return}try{const _=J(f,u),{data:F,error:T}=await Q.from("users").insert([{name:c,phone:_,email:p.toLowerCase().trim(),password:r}]).select().single();if(T){T.code==="23505"?g("Ya existe un usuario con este email o telÃ©fono"):g("Error al crear la cuenta"),l(!1);return}L({name:c,email:p}),l(!1),x(!0),a({name:c,phone:D(f),email:p,password:r})}catch{g("Error al crear la cuenta"),l(!1)}},M=()=>{x(!1),h(""),v(""),$(""),w(""),j("")},R=()=>{x(!1),m&&m("login")},O=()=>{x(!1),o&&o("home")};return e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:s(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Nombre completo"}),e.jsx("input",{required:!0,className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:c,onChange:P=>h(P.target.value),placeholder:"Tu nombre completo",disabled:S})]}),e.jsxs("div",{children:[e.jsx("label",{className:s(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"WhatsApp"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(le,{value:u,onChange:y,isDark:t,disabled:S}),e.jsx("input",{required:!0,className:`flex-1 rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:f,onChange:P=>v(P.target.value),placeholder:"99 999 9999",disabled:S})]}),e.jsxs("div",{className:`text-xs mt-1 ${s(t,"text-gray-500","text-gray-400")}`,children:["NÃºmero completo: ",u," ",f]})]}),e.jsxs("div",{children:[e.jsx("label",{className:s(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Correo electrÃ³nico"}),e.jsx("input",{required:!0,type:"email",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:p,onChange:P=>$(P.target.value),placeholder:"tu@correo.com",disabled:S})]}),e.jsxs("div",{children:[e.jsx("label",{className:s(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"ContraseÃ±a"}),e.jsx("input",{required:!0,type:C?"text":"password",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:r,onChange:P=>w(P.target.value),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",minLength:6,disabled:S})]}),e.jsxs("div",{children:[e.jsx("label",{className:s(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Confirmar contraseÃ±a"}),e.jsx("input",{required:!0,type:C?"text":"password",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:i,onChange:P=>j(P.target.value),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",minLength:6,disabled:S})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showPassword",checked:C,onChange:P=>A(P.target.checked),className:"rounded",disabled:S}),e.jsx("label",{htmlFor:"showPassword",className:s(t,"text-sm text-zinc-700","text-sm text-zinc-300"),children:"Mostrar contraseÃ±a"})]}),b&&e.jsx("div",{className:`text-sm ${b.includes("âœ…")?"text-green-600":"text-red-600"}`,children:b}),e.jsx("button",{type:"submit",disabled:S,className:`w-full rounded-xl px-4 py-3 font-semibold transition-all ${S?"opacity-50 cursor-not-allowed":""} ${s(t,"bg-gradient-to-r from-green-600 to-blue-600 text-white hover:from-green-700 hover:to-blue-700","bg-gradient-to-r from-green-500 to-blue-600 text-white hover:from-green-600 hover:to-blue-700")}`,children:S?"â³ Creando cuenta...":"ğŸš€ Crear cuenta"}),e.jsx(ae,{isOpen:n,onClose:M,userName:N.name,userEmail:N.email,isDark:t,onContinue:R,onExploreServices:O})]})}export{ie as A,ne as H,U as L,ce as U,de as a,te as b,se as c};

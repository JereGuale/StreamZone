(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Qf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Wu={exports:{}},Ri={},qu={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hs=Symbol.for("react.element"),Yf=Symbol.for("react.portal"),Xf=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),e0=Symbol.for("react.profiler"),t0=Symbol.for("react.provider"),r0=Symbol.for("react.context"),n0=Symbol.for("react.forward_ref"),s0=Symbol.for("react.suspense"),i0=Symbol.for("react.memo"),o0=Symbol.for("react.lazy"),mc=Symbol.iterator;function a0(t){return t===null||typeof t!="object"?null:(t=mc&&t[mc]||t["@@iterator"],typeof t=="function"?t:null)}var Hu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ku=Object.assign,Gu={};function dn(t,e,r){this.props=t,this.context=e,this.refs=Gu,this.updater=r||Hu}dn.prototype.isReactComponent={};dn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ju(){}Ju.prototype=dn.prototype;function Za(t,e,r){this.props=t,this.context=e,this.refs=Gu,this.updater=r||Hu}var el=Za.prototype=new Ju;el.constructor=Za;Ku(el,dn.prototype);el.isPureReactComponent=!0;var pc=Array.isArray,Qu=Object.prototype.hasOwnProperty,tl={current:null},Yu={key:!0,ref:!0,__self:!0,__source:!0};function Xu(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Qu.call(e,n)&&!Yu.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:hs,type:t,key:i,ref:a,props:s,_owner:tl.current}}function l0(t,e){return{$$typeof:hs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rl(t){return typeof t=="object"&&t!==null&&t.$$typeof===hs}function c0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var gc=/\/+/g;function co(t,e){return typeof t=="object"&&t!==null&&t.key!=null?c0(""+t.key):e.toString(36)}function Gs(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case hs:case Yf:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+co(a,0):n,pc(s)?(r="",t!=null&&(r=t.replace(gc,"$&/")+"/"),Gs(s,e,r,"",function(u){return u})):s!=null&&(rl(s)&&(s=l0(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(gc,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",pc(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+co(i,l);a+=Gs(i,e,r,c,s)}else if(c=a0(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+co(i,l++),a+=Gs(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Es(t,e,r){if(t==null)return t;var n=[],s=0;return Gs(t,n,"","",function(i){return e.call(r,i,s++)}),n}function u0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ke={current:null},Js={transition:null},d0={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:Js,ReactCurrentOwner:tl};function Zu(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:Es,forEach:function(t,e,r){Es(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Es(t,function(){e++}),e},toArray:function(t){return Es(t,function(e){return e})||[]},only:function(t){if(!rl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=dn;U.Fragment=Xf;U.Profiler=e0;U.PureComponent=Za;U.StrictMode=Zf;U.Suspense=s0;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d0;U.act=Zu;U.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ku({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=tl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Qu.call(e,c)&&!Yu.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:hs,type:t.type,key:s,ref:i,props:n,_owner:a}};U.createContext=function(t){return t={$$typeof:r0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:t0,_context:t},t.Consumer=t};U.createElement=Xu;U.createFactory=function(t){var e=Xu.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:n0,render:t}};U.isValidElement=rl;U.lazy=function(t){return{$$typeof:o0,_payload:{_status:-1,_result:t},_init:u0}};U.memo=function(t,e){return{$$typeof:i0,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=Js.transition;Js.transition={};try{t()}finally{Js.transition=e}};U.unstable_act=Zu;U.useCallback=function(t,e){return ke.current.useCallback(t,e)};U.useContext=function(t){return ke.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return ke.current.useDeferredValue(t)};U.useEffect=function(t,e){return ke.current.useEffect(t,e)};U.useId=function(){return ke.current.useId()};U.useImperativeHandle=function(t,e,r){return ke.current.useImperativeHandle(t,e,r)};U.useInsertionEffect=function(t,e){return ke.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return ke.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return ke.current.useMemo(t,e)};U.useReducer=function(t,e,r){return ke.current.useReducer(t,e,r)};U.useRef=function(t){return ke.current.useRef(t)};U.useState=function(t){return ke.current.useState(t)};U.useSyncExternalStore=function(t,e,r){return ke.current.useSyncExternalStore(t,e,r)};U.useTransition=function(){return ke.current.useTransition()};U.version="18.3.1";qu.exports=U;var N=qu.exports;const h0=Jf(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0=N,m0=Symbol.for("react.element"),p0=Symbol.for("react.fragment"),g0=Object.prototype.hasOwnProperty,x0=f0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v0={key:!0,ref:!0,__self:!0,__source:!0};function ed(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)g0.call(e,n)&&!v0.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:m0,type:t,key:i,ref:a,props:s,_owner:x0.current}}Ri.Fragment=p0;Ri.jsx=ed;Ri.jsxs=ed;Wu.exports=Ri;var o=Wu.exports,Ho={},td={exports:{}},We={},rd={exports:{}},nd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,O){var A=$.length;$.push(O);e:for(;0<A;){var G=A-1>>>1,V=$[G];if(0<s(V,O))$[G]=O,$[A]=V,A=G;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var O=$[0],A=$.pop();if(A!==O){$[0]=A;e:for(var G=0,V=$.length,xt=V>>>1;G<xt;){var H=2*(G+1)-1,Le=$[H],lt=H+1,Cr=$[lt];if(0>s(Le,A))lt<V&&0>s(Cr,Le)?($[G]=Cr,$[lt]=A,G=lt):($[G]=Le,$[H]=A,G=H);else if(lt<V&&0>s(Cr,A))$[G]=Cr,$[lt]=A,G=lt;else break e}}return O}function s($,O){var A=$.sortIndex-O.sortIndex;return A!==0?A:$.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,m=3,p=!1,b=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=$)n(u),O.sortIndex=O.expirationTime,e(c,O);else break;O=r(u)}}function _($){if(w=!1,y($),!b)if(r(c)!==null)b=!0,gt(S);else{var O=r(u);O!==null&&Tt(_,O.startTime-$)}}function S($,O){b=!1,w&&(w=!1,v(T),T=-1),p=!0;var A=m;try{for(y(O),f=r(c);f!==null&&(!(f.expirationTime>O)||$&&!Pe());){var G=f.callback;if(typeof G=="function"){f.callback=null,m=f.priorityLevel;var V=G(f.expirationTime<=O);O=t.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&n(c),y(O)}else n(c);f=r(c)}if(f!==null)var xt=!0;else{var H=r(u);H!==null&&Tt(_,H.startTime-O),xt=!1}return xt}finally{f=null,m=A,p=!1}}var k=!1,P=null,T=-1,W=5,L=-1;function Pe(){return!(t.unstable_now()-L<W)}function ir(){if(P!==null){var $=t.unstable_now();L=$;var O=!0;try{O=P(!0,$)}finally{O?pt():(k=!1,P=null)}}else k=!1}var pt;if(typeof x=="function")pt=function(){x(ir)};else if(typeof MessageChannel<"u"){var gn=new MessageChannel,ro=gn.port2;gn.port1.onmessage=ir,pt=function(){ro.postMessage(null)}}else pt=function(){j(ir,0)};function gt($){P=$,k||(k=!0,pt())}function Tt($,O){T=j(function(){$(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){b||p||(b=!0,gt(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var A=m;m=O;try{return $()}finally{m=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,O){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var A=m;m=$;try{return O()}finally{m=A}},t.unstable_scheduleCallback=function($,O,A){var G=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?G+A:G):A=G,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=A+V,$={id:h++,callback:O,priorityLevel:$,startTime:A,expirationTime:V,sortIndex:-1},A>G?($.sortIndex=A,e(u,$),r(c)===null&&$===r(u)&&(w?(v(T),T=-1):w=!0,Tt(_,A-G))):($.sortIndex=V,e(c,$),b||p||(b=!0,gt(S))),$},t.unstable_shouldYield=Pe,t.unstable_wrapCallback=function($){var O=m;return function(){var A=m;m=O;try{return $.apply(this,arguments)}finally{m=A}}}})(nd);rd.exports=nd;var y0=rd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0=N,Ve=y0;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sd=new Set,Gn={};function Sr(t,e){rn(t,e),rn(t+"Capture",e)}function rn(t,e){for(Gn[t]=e,t=0;t<e.length;t++)sd.add(e[t])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ko=Object.prototype.hasOwnProperty,w0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xc={},vc={};function j0(t){return Ko.call(vc,t)?!0:Ko.call(xc,t)?!1:w0.test(t)?vc[t]=!0:(xc[t]=!0,!1)}function _0(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N0(t,e,r,n){if(e===null||typeof e>"u"||_0(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ce(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new Ce(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new Ce(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new Ce(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new Ce(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new Ce(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new Ce(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new Ce(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new Ce(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new Ce(t,5,!1,t.toLowerCase(),null,!1,!1)});var nl=/[\-:]([a-z])/g;function sl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nl,sl);xe[e]=new Ce(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nl,sl);xe[e]=new Ce(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nl,sl);xe[e]=new Ce(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new Ce(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new Ce(t,1,!1,t.toLowerCase(),null,!0,!0)});function il(t,e,r,n){var s=xe.hasOwnProperty(e)?xe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(N0(e,r,s,n)&&(r=null),n||s===null?j0(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var $t=b0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ks=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),Mr=Symbol.for("react.fragment"),ol=Symbol.for("react.strict_mode"),Go=Symbol.for("react.profiler"),id=Symbol.for("react.provider"),od=Symbol.for("react.context"),al=Symbol.for("react.forward_ref"),Jo=Symbol.for("react.suspense"),Qo=Symbol.for("react.suspense_list"),ll=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),ad=Symbol.for("react.offscreen"),yc=Symbol.iterator;function jn(t){return t===null||typeof t!="object"?null:(t=yc&&t[yc]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,uo;function Tn(t){if(uo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);uo=e&&e[1]||""}return`
`+uo+t}var ho=!1;function fo(t,e){if(!t||ho)return"";ho=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{ho=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Tn(t):""}function S0(t){switch(t.tag){case 5:return Tn(t.type);case 16:return Tn("Lazy");case 13:return Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 2:case 15:return t=fo(t.type,!1),t;case 11:return t=fo(t.type.render,!1),t;case 1:return t=fo(t.type,!0),t;default:return""}}function Yo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mr:return"Fragment";case Lr:return"Portal";case Go:return"Profiler";case ol:return"StrictMode";case Jo:return"Suspense";case Qo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case od:return(t.displayName||"Context")+".Consumer";case id:return(t._context.displayName||"Context")+".Provider";case al:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ll:return e=t.displayName||null,e!==null?e:Yo(t.type)||"Memo";case Mt:e=t._payload,t=t._init;try{return Yo(t(e))}catch{}}return null}function E0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yo(e);case 8:return e===ol?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ld(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function k0(t){var e=ld(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cs(t){t._valueTracker||(t._valueTracker=k0(t))}function cd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=ld(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xo(t,e){var r=e.checked;return re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function bc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Zt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ud(t,e){e=e.checked,e!=null&&il(t,"checked",e,!1)}function Zo(t,e){ud(t,e);var r=Zt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ea(t,e.type,r):e.hasOwnProperty("defaultValue")&&ea(t,e.type,Zt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ea(t,e,r){(e!=="number"||ai(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var zn=Array.isArray;function Qr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Zt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ta(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(E(92));if(zn(r)){if(1<r.length)throw Error(E(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Zt(r)}}function dd(t,e){var r=Zt(e.value),n=Zt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function _c(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ra(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ps,fd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ps=Ps||document.createElement("div"),Ps.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ps.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var In={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C0=["Webkit","ms","Moz","O"];Object.keys(In).forEach(function(t){C0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),In[e]=In[t]})});function md(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||In.hasOwnProperty(t)&&In[t]?(""+e).trim():e+"px"}function pd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=md(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var P0=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function na(t,e){if(e){if(P0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function sa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ia=null;function cl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oa=null,Yr=null,Xr=null;function Nc(t){if(t=ps(t)){if(typeof oa!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Di(e),oa(t.stateNode,t.type,e))}}function gd(t){Yr?Xr?Xr.push(t):Xr=[t]:Yr=t}function xd(){if(Yr){var t=Yr,e=Xr;if(Xr=Yr=null,Nc(t),e)for(t=0;t<e.length;t++)Nc(e[t])}}function vd(t,e){return t(e)}function yd(){}var mo=!1;function bd(t,e,r){if(mo)return t(e,r);mo=!0;try{return vd(t,e,r)}finally{mo=!1,(Yr!==null||Xr!==null)&&(yd(),xd())}}function Qn(t,e){var r=t.stateNode;if(r===null)return null;var n=Di(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(E(231,e,typeof r));return r}var aa=!1;if(Et)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){aa=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{aa=!1}function $0(t,e,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var Ln=!1,li=null,ci=!1,la=null,T0={onError:function(t){Ln=!0,li=t}};function z0(t,e,r,n,s,i,a,l,c){Ln=!1,li=null,$0.apply(T0,arguments)}function O0(t,e,r,n,s,i,a,l,c){if(z0.apply(this,arguments),Ln){if(Ln){var u=li;Ln=!1,li=null}else throw Error(E(198));ci||(ci=!0,la=u)}}function Er(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function wd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sc(t){if(Er(t)!==t)throw Error(E(188))}function A0(t){var e=t.alternate;if(!e){if(e=Er(t),e===null)throw Error(E(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Sc(s),t;if(i===n)return Sc(s),e;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?t:e}function jd(t){return t=A0(t),t!==null?_d(t):null}function _d(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_d(t);if(e!==null)return e;t=t.sibling}return null}var Nd=Ve.unstable_scheduleCallback,Ec=Ve.unstable_cancelCallback,R0=Ve.unstable_shouldYield,I0=Ve.unstable_requestPaint,ie=Ve.unstable_now,L0=Ve.unstable_getCurrentPriorityLevel,ul=Ve.unstable_ImmediatePriority,Sd=Ve.unstable_UserBlockingPriority,ui=Ve.unstable_NormalPriority,M0=Ve.unstable_LowPriority,Ed=Ve.unstable_IdlePriority,Ii=null,ft=null;function U0(t){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Ii,t,void 0,(t.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:B0,D0=Math.log,F0=Math.LN2;function B0(t){return t>>>=0,t===0?32:31-(D0(t)/F0|0)|0}var $s=64,Ts=4194304;function On(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function di(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=On(l):(i&=a,i!==0&&(n=On(i)))}else a=r&~s,a!==0?n=On(a):i!==0&&(n=On(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-it(e),s=1<<r,n|=t[r],e&=~s;return n}function V0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W0(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-it(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=V0(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function ca(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kd(){var t=$s;return $s<<=1,!($s&4194240)&&($s=64),t}function po(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function fs(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-it(e),t[e]=r}function q0(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-it(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function dl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-it(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var K=0;function Cd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Pd,hl,$d,Td,zd,ua=!1,zs=[],qt=null,Ht=null,Kt=null,Yn=new Map,Xn=new Map,Dt=[],H0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kc(t,e){switch(t){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":Yn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xn.delete(e.pointerId)}}function Nn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ps(e),e!==null&&hl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function K0(t,e,r,n,s){switch(e){case"focusin":return qt=Nn(qt,t,e,r,n,s),!0;case"dragenter":return Ht=Nn(Ht,t,e,r,n,s),!0;case"mouseover":return Kt=Nn(Kt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Yn.set(i,Nn(Yn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Xn.set(i,Nn(Xn.get(i)||null,t,e,r,n,s)),!0}return!1}function Od(t){var e=pr(t.target);if(e!==null){var r=Er(e);if(r!==null){if(e=r.tag,e===13){if(e=wd(r),e!==null){t.blockedOn=e,zd(t.priority,function(){$d(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=da(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);ia=n,r.target.dispatchEvent(n),ia=null}else return e=ps(r),e!==null&&hl(e),t.blockedOn=r,!1;e.shift()}return!0}function Cc(t,e,r){Qs(t)&&r.delete(e)}function G0(){ua=!1,qt!==null&&Qs(qt)&&(qt=null),Ht!==null&&Qs(Ht)&&(Ht=null),Kt!==null&&Qs(Kt)&&(Kt=null),Yn.forEach(Cc),Xn.forEach(Cc)}function Sn(t,e){t.blockedOn===e&&(t.blockedOn=null,ua||(ua=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,G0)))}function Zn(t){function e(s){return Sn(s,t)}if(0<zs.length){Sn(zs[0],t);for(var r=1;r<zs.length;r++){var n=zs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qt!==null&&Sn(qt,t),Ht!==null&&Sn(Ht,t),Kt!==null&&Sn(Kt,t),Yn.forEach(e),Xn.forEach(e),r=0;r<Dt.length;r++)n=Dt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Dt.length&&(r=Dt[0],r.blockedOn===null);)Od(r),r.blockedOn===null&&Dt.shift()}var Zr=$t.ReactCurrentBatchConfig,hi=!0;function J0(t,e,r,n){var s=K,i=Zr.transition;Zr.transition=null;try{K=1,fl(t,e,r,n)}finally{K=s,Zr.transition=i}}function Q0(t,e,r,n){var s=K,i=Zr.transition;Zr.transition=null;try{K=4,fl(t,e,r,n)}finally{K=s,Zr.transition=i}}function fl(t,e,r,n){if(hi){var s=da(t,e,r,n);if(s===null)So(t,e,n,fi,r),kc(t,n);else if(K0(s,t,e,r,n))n.stopPropagation();else if(kc(t,n),e&4&&-1<H0.indexOf(t)){for(;s!==null;){var i=ps(s);if(i!==null&&Pd(i),i=da(t,e,r,n),i===null&&So(t,e,n,fi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else So(t,e,n,null,r)}}var fi=null;function da(t,e,r,n){if(fi=null,t=cl(n),t=pr(t),t!==null)if(e=Er(t),e===null)t=null;else if(r=e.tag,r===13){if(t=wd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fi=t,null}function Ad(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L0()){case ul:return 1;case Sd:return 4;case ui:case M0:return 16;case Ed:return 536870912;default:return 16}default:return 16}}var Vt=null,ml=null,Ys=null;function Rd(){if(Ys)return Ys;var t,e=ml,r=e.length,n,s="value"in Vt?Vt.value:Vt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Ys=s.slice(t,1<n?1-n:void 0)}function Xs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Os(){return!0}function Pc(){return!1}function qe(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Os:Pc,this.isPropagationStopped=Pc,this}return re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),e}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=qe(hn),ms=re({},hn,{view:0,detail:0}),Y0=qe(ms),go,xo,En,Li=re({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==En&&(En&&t.type==="mousemove"?(go=t.screenX-En.screenX,xo=t.screenY-En.screenY):xo=go=0,En=t),go)},movementY:function(t){return"movementY"in t?t.movementY:xo}}),$c=qe(Li),X0=re({},Li,{dataTransfer:0}),Z0=qe(X0),em=re({},ms,{relatedTarget:0}),vo=qe(em),tm=re({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),rm=qe(tm),nm=re({},hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sm=qe(nm),im=re({},hn,{data:0}),Tc=qe(im),om={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},am={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lm[t])?!!e[t]:!1}function gl(){return cm}var um=re({},ms,{key:function(t){if(t.key){var e=om[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?am[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gl,charCode:function(t){return t.type==="keypress"?Xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dm=qe(um),hm=re({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zc=qe(hm),fm=re({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gl}),mm=qe(fm),pm=re({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gm=qe(pm),xm=re({},Li,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vm=qe(xm),ym=[9,13,27,32],xl=Et&&"CompositionEvent"in window,Mn=null;Et&&"documentMode"in document&&(Mn=document.documentMode);var bm=Et&&"TextEvent"in window&&!Mn,Id=Et&&(!xl||Mn&&8<Mn&&11>=Mn),Oc=" ",Ac=!1;function Ld(t,e){switch(t){case"keyup":return ym.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Md(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ur=!1;function wm(t,e){switch(t){case"compositionend":return Md(e);case"keypress":return e.which!==32?null:(Ac=!0,Oc);case"textInput":return t=e.data,t===Oc&&Ac?null:t;default:return null}}function jm(t,e){if(Ur)return t==="compositionend"||!xl&&Ld(t,e)?(t=Rd(),Ys=ml=Vt=null,Ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Id&&e.locale!=="ko"?null:e.data;default:return null}}var _m={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_m[t.type]:e==="textarea"}function Ud(t,e,r,n){gd(n),e=mi(e,"onChange"),0<e.length&&(r=new pl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Un=null,es=null;function Nm(t){Qd(t,0)}function Mi(t){var e=Br(t);if(cd(e))return t}function Sm(t,e){if(t==="change")return e}var Dd=!1;if(Et){var yo;if(Et){var bo="oninput"in document;if(!bo){var Ic=document.createElement("div");Ic.setAttribute("oninput","return;"),bo=typeof Ic.oninput=="function"}yo=bo}else yo=!1;Dd=yo&&(!document.documentMode||9<document.documentMode)}function Lc(){Un&&(Un.detachEvent("onpropertychange",Fd),es=Un=null)}function Fd(t){if(t.propertyName==="value"&&Mi(es)){var e=[];Ud(e,es,t,cl(t)),bd(Nm,e)}}function Em(t,e,r){t==="focusin"?(Lc(),Un=e,es=r,Un.attachEvent("onpropertychange",Fd)):t==="focusout"&&Lc()}function km(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mi(es)}function Cm(t,e){if(t==="click")return Mi(e)}function Pm(t,e){if(t==="input"||t==="change")return Mi(e)}function $m(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var at=typeof Object.is=="function"?Object.is:$m;function ts(t,e){if(at(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ko.call(e,s)||!at(t[s],e[s]))return!1}return!0}function Mc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Uc(t,e){var r=Mc(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mc(r)}}function Bd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vd(){for(var t=window,e=ai();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ai(t.document)}return e}function vl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Tm(t){var e=Vd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Bd(r.ownerDocument.documentElement,r)){if(n!==null&&vl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Uc(r,i);var a=Uc(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zm=Et&&"documentMode"in document&&11>=document.documentMode,Dr=null,ha=null,Dn=null,fa=!1;function Dc(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fa||Dr==null||Dr!==ai(n)||(n=Dr,"selectionStart"in n&&vl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dn&&ts(Dn,n)||(Dn=n,n=mi(ha,"onSelect"),0<n.length&&(e=new pl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Dr)))}function As(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Fr={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionend:As("Transition","TransitionEnd")},wo={},Wd={};Et&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function Ui(t){if(wo[t])return wo[t];if(!Fr[t])return t;var e=Fr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Wd)return wo[t]=e[r];return t}var qd=Ui("animationend"),Hd=Ui("animationiteration"),Kd=Ui("animationstart"),Gd=Ui("transitionend"),Jd=new Map,Fc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(t,e){Jd.set(t,e),Sr(e,[t])}for(var jo=0;jo<Fc.length;jo++){var _o=Fc[jo],Om=_o.toLowerCase(),Am=_o[0].toUpperCase()+_o.slice(1);tr(Om,"on"+Am)}tr(qd,"onAnimationEnd");tr(Hd,"onAnimationIteration");tr(Kd,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(Gd,"onTransitionEnd");rn("onMouseEnter",["mouseout","mouseover"]);rn("onMouseLeave",["mouseout","mouseover"]);rn("onPointerEnter",["pointerout","pointerover"]);rn("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var An="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rm=new Set("cancel close invalid load scroll toggle".split(" ").concat(An));function Bc(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,O0(n,e,void 0,t),t.currentTarget=null}function Qd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Bc(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Bc(s,l,u),i=c}}}if(ci)throw t=la,ci=!1,la=null,t}function Y(t,e){var r=e[va];r===void 0&&(r=e[va]=new Set);var n=t+"__bubble";r.has(n)||(Yd(e,t,2,!1),r.add(n))}function No(t,e,r){var n=0;e&&(n|=4),Yd(r,t,n,e)}var Rs="_reactListening"+Math.random().toString(36).slice(2);function rs(t){if(!t[Rs]){t[Rs]=!0,sd.forEach(function(r){r!=="selectionchange"&&(Rm.has(r)||No(r,!1,t),No(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rs]||(e[Rs]=!0,No("selectionchange",!1,e))}}function Yd(t,e,r,n){switch(Ad(e)){case 1:var s=J0;break;case 4:s=Q0;break;default:s=fl}r=s.bind(null,e,r,t),s=void 0,!aa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function So(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=pr(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}bd(function(){var u=i,h=cl(r),f=[];e:{var m=Jd.get(t);if(m!==void 0){var p=pl,b=t;switch(t){case"keypress":if(Xs(r)===0)break e;case"keydown":case"keyup":p=dm;break;case"focusin":b="focus",p=vo;break;case"focusout":b="blur",p=vo;break;case"beforeblur":case"afterblur":p=vo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mm;break;case qd:case Hd:case Kd:p=rm;break;case Gd:p=gm;break;case"scroll":p=Y0;break;case"wheel":p=vm;break;case"copy":case"cut":case"paste":p=sm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zc}var w=(e&4)!==0,j=!w&&t==="scroll",v=w?m!==null?m+"Capture":null:m;w=[];for(var x=u,y;x!==null;){y=x;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,v!==null&&(_=Qn(x,v),_!=null&&w.push(ns(x,_,y)))),j)break;x=x.return}0<w.length&&(m=new p(m,b,null,r,h),f.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&r!==ia&&(b=r.relatedTarget||r.fromElement)&&(pr(b)||b[kt]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=u,b=b?pr(b):null,b!==null&&(j=Er(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(w=$c,_="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=zc,_="onPointerLeave",v="onPointerEnter",x="pointer"),j=p==null?m:Br(p),y=b==null?m:Br(b),m=new w(_,x+"leave",p,r,h),m.target=j,m.relatedTarget=y,_=null,pr(h)===u&&(w=new w(v,x+"enter",b,r,h),w.target=y,w.relatedTarget=j,_=w),j=_,p&&b)t:{for(w=p,v=b,x=0,y=w;y;y=Pr(y))x++;for(y=0,_=v;_;_=Pr(_))y++;for(;0<x-y;)w=Pr(w),x--;for(;0<y-x;)v=Pr(v),y--;for(;x--;){if(w===v||v!==null&&w===v.alternate)break t;w=Pr(w),v=Pr(v)}w=null}else w=null;p!==null&&Vc(f,m,p,w,!1),b!==null&&j!==null&&Vc(f,j,b,w,!0)}}e:{if(m=u?Br(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var S=Sm;else if(Rc(m))if(Dd)S=Pm;else{S=km;var k=Em}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=Cm);if(S&&(S=S(t,u))){Ud(f,S,r,h);break e}k&&k(t,m,u),t==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&ea(m,"number",m.value)}switch(k=u?Br(u):window,t){case"focusin":(Rc(k)||k.contentEditable==="true")&&(Dr=k,ha=u,Dn=null);break;case"focusout":Dn=ha=Dr=null;break;case"mousedown":fa=!0;break;case"contextmenu":case"mouseup":case"dragend":fa=!1,Dc(f,r,h);break;case"selectionchange":if(zm)break;case"keydown":case"keyup":Dc(f,r,h)}var P;if(xl)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ur?Ld(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Id&&r.locale!=="ko"&&(Ur||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ur&&(P=Rd()):(Vt=h,ml="value"in Vt?Vt.value:Vt.textContent,Ur=!0)),k=mi(u,T),0<k.length&&(T=new Tc(T,t,null,r,h),f.push({event:T,listeners:k}),P?T.data=P:(P=Md(r),P!==null&&(T.data=P)))),(P=bm?wm(t,r):jm(t,r))&&(u=mi(u,"onBeforeInput"),0<u.length&&(h=new Tc("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:u}),h.data=P))}Qd(f,e)})}function ns(t,e,r){return{instance:t,listener:e,currentTarget:r}}function mi(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Qn(t,r),i!=null&&n.unshift(ns(t,i,s)),i=Qn(t,e),i!=null&&n.push(ns(t,i,s))),t=t.return}return n}function Pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vc(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Qn(r,i),c!=null&&a.unshift(ns(r,c,l))):s||(c=Qn(r,i),c!=null&&a.push(ns(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Im=/\r\n?/g,Lm=/\u0000|\uFFFD/g;function Wc(t){return(typeof t=="string"?t:""+t).replace(Im,`
`).replace(Lm,"")}function Is(t,e,r){if(e=Wc(e),Wc(t)!==e&&r)throw Error(E(425))}function pi(){}var ma=null,pa=null;function ga(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xa=typeof setTimeout=="function"?setTimeout:void 0,Mm=typeof clearTimeout=="function"?clearTimeout:void 0,qc=typeof Promise=="function"?Promise:void 0,Um=typeof queueMicrotask=="function"?queueMicrotask:typeof qc<"u"?function(t){return qc.resolve(null).then(t).catch(Dm)}:xa;function Dm(t){setTimeout(function(){throw t})}function Eo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Zn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Zn(e)}function Gt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var fn=Math.random().toString(36).slice(2),ht="__reactFiber$"+fn,ss="__reactProps$"+fn,kt="__reactContainer$"+fn,va="__reactEvents$"+fn,Fm="__reactListeners$"+fn,Bm="__reactHandles$"+fn;function pr(t){var e=t[ht];if(e)return e;for(var r=t.parentNode;r;){if(e=r[kt]||r[ht]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Hc(t);t!==null;){if(r=t[ht])return r;t=Hc(t)}return e}t=r,r=t.parentNode}return null}function ps(t){return t=t[ht]||t[kt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Br(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Di(t){return t[ss]||null}var ya=[],Vr=-1;function rr(t){return{current:t}}function X(t){0>Vr||(t.current=ya[Vr],ya[Vr]=null,Vr--)}function Q(t,e){Vr++,ya[Vr]=t.current,t.current=e}var er={},je=rr(er),Ae=rr(!1),br=er;function nn(t,e){var r=t.type.contextTypes;if(!r)return er;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Re(t){return t=t.childContextTypes,t!=null}function gi(){X(Ae),X(je)}function Kc(t,e,r){if(je.current!==er)throw Error(E(168));Q(je,e),Q(Ae,r)}function Xd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(E(108,E0(t)||"Unknown",s));return re({},r,n)}function xi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||er,br=je.current,Q(je,t),Q(Ae,Ae.current),!0}function Gc(t,e,r){var n=t.stateNode;if(!n)throw Error(E(169));r?(t=Xd(t,e,br),n.__reactInternalMemoizedMergedChildContext=t,X(Ae),X(je),Q(je,t)):X(Ae),Q(Ae,r)}var jt=null,Fi=!1,ko=!1;function Zd(t){jt===null?jt=[t]:jt.push(t)}function Vm(t){Fi=!0,Zd(t)}function nr(){if(!ko&&jt!==null){ko=!0;var t=0,e=K;try{var r=jt;for(K=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}jt=null,Fi=!1}catch(s){throw jt!==null&&(jt=jt.slice(t+1)),Nd(ul,nr),s}finally{K=e,ko=!1}}return null}var Wr=[],qr=0,vi=null,yi=0,He=[],Ke=0,wr=null,_t=1,Nt="";function dr(t,e){Wr[qr++]=yi,Wr[qr++]=vi,vi=t,yi=e}function eh(t,e,r){He[Ke++]=_t,He[Ke++]=Nt,He[Ke++]=wr,wr=t;var n=_t;t=Nt;var s=32-it(n)-1;n&=~(1<<s),r+=1;var i=32-it(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,_t=1<<32-it(e)+s|r<<s|n,Nt=i+t}else _t=1<<i|r<<s|n,Nt=t}function yl(t){t.return!==null&&(dr(t,1),eh(t,1,0))}function bl(t){for(;t===vi;)vi=Wr[--qr],Wr[qr]=null,yi=Wr[--qr],Wr[qr]=null;for(;t===wr;)wr=He[--Ke],He[Ke]=null,Nt=He[--Ke],He[Ke]=null,_t=He[--Ke],He[Ke]=null}var Be=null,Fe=null,Z=!1,st=null;function th(t,e){var r=Ge(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Jc(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Be=t,Fe=Gt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Be=t,Fe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=wr!==null?{id:_t,overflow:Nt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ge(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Be=t,Fe=null,!0):!1;default:return!1}}function ba(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wa(t){if(Z){var e=Fe;if(e){var r=e;if(!Jc(t,e)){if(ba(t))throw Error(E(418));e=Gt(r.nextSibling);var n=Be;e&&Jc(t,e)?th(n,r):(t.flags=t.flags&-4097|2,Z=!1,Be=t)}}else{if(ba(t))throw Error(E(418));t.flags=t.flags&-4097|2,Z=!1,Be=t}}}function Qc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Be=t}function Ls(t){if(t!==Be)return!1;if(!Z)return Qc(t),Z=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ga(t.type,t.memoizedProps)),e&&(e=Fe)){if(ba(t))throw rh(),Error(E(418));for(;e;)th(t,e),e=Gt(e.nextSibling)}if(Qc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Fe=Gt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Fe=null}}else Fe=Be?Gt(t.stateNode.nextSibling):null;return!0}function rh(){for(var t=Fe;t;)t=Gt(t.nextSibling)}function sn(){Fe=Be=null,Z=!1}function wl(t){st===null?st=[t]:st.push(t)}var Wm=$t.ReactCurrentBatchConfig;function kn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,t))}return t}function Ms(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yc(t){var e=t._init;return e(t._payload)}function nh(t){function e(v,x){if(t){var y=v.deletions;y===null?(v.deletions=[x],v.flags|=16):y.push(x)}}function r(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function s(v,x){return v=Xt(v,x),v.index=0,v.sibling=null,v}function i(v,x,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<x?(v.flags|=2,x):y):(v.flags|=2,x)):(v.flags|=1048576,x)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,x,y,_){return x===null||x.tag!==6?(x=Ao(y,v.mode,_),x.return=v,x):(x=s(x,y),x.return=v,x)}function c(v,x,y,_){var S=y.type;return S===Mr?h(v,x,y.props.children,_,y.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mt&&Yc(S)===x.type)?(_=s(x,y.props),_.ref=kn(v,x,y),_.return=v,_):(_=ii(y.type,y.key,y.props,null,v.mode,_),_.ref=kn(v,x,y),_.return=v,_)}function u(v,x,y,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Ro(y,v.mode,_),x.return=v,x):(x=s(x,y.children||[]),x.return=v,x)}function h(v,x,y,_,S){return x===null||x.tag!==7?(x=yr(y,v.mode,_,S),x.return=v,x):(x=s(x,y),x.return=v,x)}function f(v,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ao(""+x,v.mode,y),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ks:return y=ii(x.type,x.key,x.props,null,v.mode,y),y.ref=kn(v,null,x),y.return=v,y;case Lr:return x=Ro(x,v.mode,y),x.return=v,x;case Mt:var _=x._init;return f(v,_(x._payload),y)}if(zn(x)||jn(x))return x=yr(x,v.mode,y,null),x.return=v,x;Ms(v,x)}return null}function m(v,x,y,_){var S=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(v,x,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ks:return y.key===S?c(v,x,y,_):null;case Lr:return y.key===S?u(v,x,y,_):null;case Mt:return S=y._init,m(v,x,S(y._payload),_)}if(zn(y)||jn(y))return S!==null?null:h(v,x,y,_,null);Ms(v,y)}return null}function p(v,x,y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(y)||null,l(x,v,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ks:return v=v.get(_.key===null?y:_.key)||null,c(x,v,_,S);case Lr:return v=v.get(_.key===null?y:_.key)||null,u(x,v,_,S);case Mt:var k=_._init;return p(v,x,y,k(_._payload),S)}if(zn(_)||jn(_))return v=v.get(y)||null,h(x,v,_,S,null);Ms(x,_)}return null}function b(v,x,y,_){for(var S=null,k=null,P=x,T=x=0,W=null;P!==null&&T<y.length;T++){P.index>T?(W=P,P=null):W=P.sibling;var L=m(v,P,y[T],_);if(L===null){P===null&&(P=W);break}t&&P&&L.alternate===null&&e(v,P),x=i(L,x,T),k===null?S=L:k.sibling=L,k=L,P=W}if(T===y.length)return r(v,P),Z&&dr(v,T),S;if(P===null){for(;T<y.length;T++)P=f(v,y[T],_),P!==null&&(x=i(P,x,T),k===null?S=P:k.sibling=P,k=P);return Z&&dr(v,T),S}for(P=n(v,P);T<y.length;T++)W=p(P,v,T,y[T],_),W!==null&&(t&&W.alternate!==null&&P.delete(W.key===null?T:W.key),x=i(W,x,T),k===null?S=W:k.sibling=W,k=W);return t&&P.forEach(function(Pe){return e(v,Pe)}),Z&&dr(v,T),S}function w(v,x,y,_){var S=jn(y);if(typeof S!="function")throw Error(E(150));if(y=S.call(y),y==null)throw Error(E(151));for(var k=S=null,P=x,T=x=0,W=null,L=y.next();P!==null&&!L.done;T++,L=y.next()){P.index>T?(W=P,P=null):W=P.sibling;var Pe=m(v,P,L.value,_);if(Pe===null){P===null&&(P=W);break}t&&P&&Pe.alternate===null&&e(v,P),x=i(Pe,x,T),k===null?S=Pe:k.sibling=Pe,k=Pe,P=W}if(L.done)return r(v,P),Z&&dr(v,T),S;if(P===null){for(;!L.done;T++,L=y.next())L=f(v,L.value,_),L!==null&&(x=i(L,x,T),k===null?S=L:k.sibling=L,k=L);return Z&&dr(v,T),S}for(P=n(v,P);!L.done;T++,L=y.next())L=p(P,v,T,L.value,_),L!==null&&(t&&L.alternate!==null&&P.delete(L.key===null?T:L.key),x=i(L,x,T),k===null?S=L:k.sibling=L,k=L);return t&&P.forEach(function(ir){return e(v,ir)}),Z&&dr(v,T),S}function j(v,x,y,_){if(typeof y=="object"&&y!==null&&y.type===Mr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ks:e:{for(var S=y.key,k=x;k!==null;){if(k.key===S){if(S=y.type,S===Mr){if(k.tag===7){r(v,k.sibling),x=s(k,y.props.children),x.return=v,v=x;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Mt&&Yc(S)===k.type){r(v,k.sibling),x=s(k,y.props),x.ref=kn(v,k,y),x.return=v,v=x;break e}r(v,k);break}else e(v,k);k=k.sibling}y.type===Mr?(x=yr(y.props.children,v.mode,_,y.key),x.return=v,v=x):(_=ii(y.type,y.key,y.props,null,v.mode,_),_.ref=kn(v,x,y),_.return=v,v=_)}return a(v);case Lr:e:{for(k=y.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){r(v,x.sibling),x=s(x,y.children||[]),x.return=v,v=x;break e}else{r(v,x);break}else e(v,x);x=x.sibling}x=Ro(y,v.mode,_),x.return=v,v=x}return a(v);case Mt:return k=y._init,j(v,x,k(y._payload),_)}if(zn(y))return b(v,x,y,_);if(jn(y))return w(v,x,y,_);Ms(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(r(v,x.sibling),x=s(x,y),x.return=v,v=x):(r(v,x),x=Ao(y,v.mode,_),x.return=v,v=x),a(v)):r(v,x)}return j}var on=nh(!0),sh=nh(!1),bi=rr(null),wi=null,Hr=null,jl=null;function _l(){jl=Hr=wi=null}function Nl(t){var e=bi.current;X(bi),t._currentValue=e}function ja(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function en(t,e){wi=t,jl=Hr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Oe=!0),t.firstContext=null)}function Ye(t){var e=t._currentValue;if(jl!==t)if(t={context:t,memoizedValue:e,next:null},Hr===null){if(wi===null)throw Error(E(308));Hr=t,wi.dependencies={lanes:0,firstContext:t}}else Hr=Hr.next=t;return e}var gr=null;function Sl(t){gr===null?gr=[t]:gr.push(t)}function ih(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Sl(e)):(r.next=s.next,s.next=r),e.interleaved=r,Ct(t,n)}function Ct(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ut=!1;function El(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function St(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,B&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Ct(t,r)}return s=n.interleaved,s===null?(e.next=e,Sl(n)):(e.next=s.next,s.next=e),n.interleaved=e,Ct(t,r)}function Zs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,dl(t,r)}}function Xc(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ji(t,e,r,n){var s=t.updateQueue;Ut=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=u=c=null,l=i;do{var m=l.lane,p=l.eventTime;if((n&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,w=l;switch(m=e,p=r,w.tag){case 1:if(b=w.payload,typeof b=="function"){f=b.call(p,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,m=typeof b=="function"?b.call(p,f,m):b,m==null)break e;f=re({},f,m);break e;case 2:Ut=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,c=f):h=h.next=p,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);_r|=a,t.lanes=a,t.memoizedState=f}}function Zc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var gs={},mt=rr(gs),is=rr(gs),os=rr(gs);function xr(t){if(t===gs)throw Error(E(174));return t}function kl(t,e){switch(Q(os,e),Q(is,t),Q(mt,gs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ra(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ra(e,t)}X(mt),Q(mt,e)}function an(){X(mt),X(is),X(os)}function ah(t){xr(os.current);var e=xr(mt.current),r=ra(e,t.type);e!==r&&(Q(is,t),Q(mt,r))}function Cl(t){is.current===t&&(X(mt),X(is))}var ee=rr(0);function _i(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Co=[];function Pl(){for(var t=0;t<Co.length;t++)Co[t]._workInProgressVersionPrimary=null;Co.length=0}var ei=$t.ReactCurrentDispatcher,Po=$t.ReactCurrentBatchConfig,jr=0,te=null,ue=null,he=null,Ni=!1,Fn=!1,as=0,qm=0;function ye(){throw Error(E(321))}function $l(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!at(t[r],e[r]))return!1;return!0}function Tl(t,e,r,n,s,i){if(jr=i,te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ei.current=t===null||t.memoizedState===null?Jm:Qm,t=r(n,s),Fn){i=0;do{if(Fn=!1,as=0,25<=i)throw Error(E(301));i+=1,he=ue=null,e.updateQueue=null,ei.current=Ym,t=r(n,s)}while(Fn)}if(ei.current=Si,e=ue!==null&&ue.next!==null,jr=0,he=ue=te=null,Ni=!1,e)throw Error(E(300));return t}function zl(){var t=as!==0;return as=0,t}function ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?te.memoizedState=he=t:he=he.next=t,he}function Xe(){if(ue===null){var t=te.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=he===null?te.memoizedState:he.next;if(e!==null)he=e,ue=t;else{if(t===null)throw Error(E(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},he===null?te.memoizedState=he=t:he=he.next=t}return he}function ls(t,e){return typeof e=="function"?e(t):e}function $o(t){var e=Xe(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=ue,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var h=u.lane;if((jr&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,te.lanes|=h,_r|=h}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,at(n,e.memoizedState)||(Oe=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,te.lanes|=i,_r|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function To(t){var e=Xe(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);at(i,e.memoizedState)||(Oe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function lh(){}function ch(t,e){var r=te,n=Xe(),s=e(),i=!at(n.memoizedState,s);if(i&&(n.memoizedState=s,Oe=!0),n=n.queue,Ol(hh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||he!==null&&he.memoizedState.tag&1){if(r.flags|=2048,cs(9,dh.bind(null,r,n,s,e),void 0,null),me===null)throw Error(E(349));jr&30||uh(r,e,s)}return s}function uh(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function dh(t,e,r,n){e.value=r,e.getSnapshot=n,fh(e)&&mh(t)}function hh(t,e,r){return r(function(){fh(e)&&mh(t)})}function fh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!at(t,r)}catch{return!0}}function mh(t){var e=Ct(t,1);e!==null&&ot(e,t,1,-1)}function eu(t){var e=ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},e.queue=t,t=t.dispatch=Gm.bind(null,te,t),[e.memoizedState,t]}function cs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function ph(){return Xe().memoizedState}function ti(t,e,r,n){var s=ut();te.flags|=t,s.memoizedState=cs(1|e,r,void 0,n===void 0?null:n)}function Bi(t,e,r,n){var s=Xe();n=n===void 0?null:n;var i=void 0;if(ue!==null){var a=ue.memoizedState;if(i=a.destroy,n!==null&&$l(n,a.deps)){s.memoizedState=cs(e,r,i,n);return}}te.flags|=t,s.memoizedState=cs(1|e,r,i,n)}function tu(t,e){return ti(8390656,8,t,e)}function Ol(t,e){return Bi(2048,8,t,e)}function gh(t,e){return Bi(4,2,t,e)}function xh(t,e){return Bi(4,4,t,e)}function vh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yh(t,e,r){return r=r!=null?r.concat([t]):null,Bi(4,4,vh.bind(null,e,t),r)}function Al(){}function bh(t,e){var r=Xe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$l(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function wh(t,e){var r=Xe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$l(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function jh(t,e,r){return jr&21?(at(r,e)||(r=kd(),te.lanes|=r,_r|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Oe=!0),t.memoizedState=r)}function Hm(t,e){var r=K;K=r!==0&&4>r?r:4,t(!0);var n=Po.transition;Po.transition={};try{t(!1),e()}finally{K=r,Po.transition=n}}function _h(){return Xe().memoizedState}function Km(t,e,r){var n=Yt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Nh(t))Sh(e,r);else if(r=ih(t,e,r,n),r!==null){var s=Ee();ot(r,t,n,s),Eh(r,e,n)}}function Gm(t,e,r){var n=Yt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Nh(t))Sh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,at(l,a)){var c=e.interleaved;c===null?(s.next=s,Sl(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=ih(t,e,s,n),r!==null&&(s=Ee(),ot(r,t,n,s),Eh(r,e,n))}}function Nh(t){var e=t.alternate;return t===te||e!==null&&e===te}function Sh(t,e){Fn=Ni=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Eh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,dl(t,r)}}var Si={readContext:Ye,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},Jm={readContext:Ye,useCallback:function(t,e){return ut().memoizedState=[t,e===void 0?null:e],t},useContext:Ye,useEffect:tu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ti(4194308,4,vh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ti(4194308,4,t,e)},useInsertionEffect:function(t,e){return ti(4,2,t,e)},useMemo:function(t,e){var r=ut();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ut();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Km.bind(null,te,t),[n.memoizedState,t]},useRef:function(t){var e=ut();return t={current:t},e.memoizedState=t},useState:eu,useDebugValue:Al,useDeferredValue:function(t){return ut().memoizedState=t},useTransition:function(){var t=eu(!1),e=t[0];return t=Hm.bind(null,t[1]),ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=te,s=ut();if(Z){if(r===void 0)throw Error(E(407));r=r()}else{if(r=e(),me===null)throw Error(E(349));jr&30||uh(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,tu(hh.bind(null,n,i,t),[t]),n.flags|=2048,cs(9,dh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ut(),e=me.identifierPrefix;if(Z){var r=Nt,n=_t;r=(n&~(1<<32-it(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=as++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=qm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qm={readContext:Ye,useCallback:bh,useContext:Ye,useEffect:Ol,useImperativeHandle:yh,useInsertionEffect:gh,useLayoutEffect:xh,useMemo:wh,useReducer:$o,useRef:ph,useState:function(){return $o(ls)},useDebugValue:Al,useDeferredValue:function(t){var e=Xe();return jh(e,ue.memoizedState,t)},useTransition:function(){var t=$o(ls)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:lh,useSyncExternalStore:ch,useId:_h,unstable_isNewReconciler:!1},Ym={readContext:Ye,useCallback:bh,useContext:Ye,useEffect:Ol,useImperativeHandle:yh,useInsertionEffect:gh,useLayoutEffect:xh,useMemo:wh,useReducer:To,useRef:ph,useState:function(){return To(ls)},useDebugValue:Al,useDeferredValue:function(t){var e=Xe();return ue===null?e.memoizedState=t:jh(e,ue.memoizedState,t)},useTransition:function(){var t=To(ls)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:lh,useSyncExternalStore:ch,useId:_h,unstable_isNewReconciler:!1};function tt(t,e){if(t&&t.defaultProps){e=re({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function _a(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:re({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vi={isMounted:function(t){return(t=t._reactInternals)?Er(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ee(),s=Yt(t),i=St(n,s);i.payload=e,r!=null&&(i.callback=r),e=Jt(t,i,s),e!==null&&(ot(e,t,s,n),Zs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ee(),s=Yt(t),i=St(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Jt(t,i,s),e!==null&&(ot(e,t,s,n),Zs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ee(),n=Yt(t),s=St(r,n);s.tag=2,e!=null&&(s.callback=e),e=Jt(t,s,n),e!==null&&(ot(e,t,n,r),Zs(e,t,n))}};function ru(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!ts(r,n)||!ts(s,i):!0}function kh(t,e,r){var n=!1,s=er,i=e.contextType;return typeof i=="object"&&i!==null?i=Ye(i):(s=Re(e)?br:je.current,n=e.contextTypes,i=(n=n!=null)?nn(t,s):er),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function nu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Vi.enqueueReplaceState(e,e.state,null)}function Na(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},El(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ye(i):(i=Re(e)?br:je.current,s.context=nn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(_a(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Vi.enqueueReplaceState(s,s.state,null),ji(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ln(t,e){try{var r="",n=e;do r+=S0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function zo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Sa(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Xm=typeof WeakMap=="function"?WeakMap:Map;function Ch(t,e,r){r=St(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ki||(ki=!0,Ra=n),Sa(t,e)},r}function Ph(t,e,r){r=St(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Sa(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Sa(t,e),typeof n!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function su(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Xm;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=hp.bind(null,t,e,r),e.then(t,t))}function iu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ou(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=St(-1,1),e.tag=2,Jt(r,e,1))),r.lanes|=1),t)}var Zm=$t.ReactCurrentOwner,Oe=!1;function Se(t,e,r,n){e.child=t===null?sh(e,null,r,n):on(e,t.child,r,n)}function au(t,e,r,n,s){r=r.render;var i=e.ref;return en(e,s),n=Tl(t,e,r,n,i,s),r=zl(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Pt(t,e,s)):(Z&&r&&yl(e),e.flags|=1,Se(t,e,n,s),e.child)}function lu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Bl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,$h(t,e,i,n,s)):(t=ii(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ts,r(a,n)&&t.ref===e.ref)return Pt(t,e,s)}return e.flags|=1,t=Xt(i,n),t.ref=e.ref,t.return=e,e.child=t}function $h(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(ts(i,n)&&t.ref===e.ref)if(Oe=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Oe=!0);else return e.lanes=t.lanes,Pt(t,e,s)}return Ea(t,e,r,n,s)}function Th(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(Gr,Ue),Ue|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Q(Gr,Ue),Ue|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Q(Gr,Ue),Ue|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Q(Gr,Ue),Ue|=n;return Se(t,e,s,r),e.child}function zh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ea(t,e,r,n,s){var i=Re(r)?br:je.current;return i=nn(e,i),en(e,s),r=Tl(t,e,r,n,i,s),n=zl(),t!==null&&!Oe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Pt(t,e,s)):(Z&&n&&yl(e),e.flags|=1,Se(t,e,r,s),e.child)}function cu(t,e,r,n,s){if(Re(r)){var i=!0;xi(e)}else i=!1;if(en(e,s),e.stateNode===null)ri(t,e),kh(e,r,n),Na(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ye(u):(u=Re(r)?br:je.current,u=nn(e,u));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&nu(e,a,n,u),Ut=!1;var m=e.memoizedState;a.state=m,ji(e,n,a,s),c=e.memoizedState,l!==n||m!==c||Ae.current||Ut?(typeof h=="function"&&(_a(e,r,h,n),c=e.memoizedState),(l=Ut||ru(e,r,l,n,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,oh(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:tt(e.type,l),a.props=u,f=e.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ye(c):(c=Re(r)?br:je.current,c=nn(e,c));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&nu(e,a,n,c),Ut=!1,m=e.memoizedState,a.state=m,ji(e,n,a,s);var b=e.memoizedState;l!==f||m!==b||Ae.current||Ut?(typeof p=="function"&&(_a(e,r,p,n),b=e.memoizedState),(u=Ut||ru(e,r,u,n,m,b,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),a.props=n,a.state=b,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return ka(t,e,r,n,i,s)}function ka(t,e,r,n,s,i){zh(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&Gc(e,r,!1),Pt(t,e,i);n=e.stateNode,Zm.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=on(e,t.child,null,i),e.child=on(e,null,l,i)):Se(t,e,l,i),e.memoizedState=n.state,s&&Gc(e,r,!0),e.child}function Oh(t){var e=t.stateNode;e.pendingContext?Kc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kc(t,e.context,!1),kl(t,e.containerInfo)}function uu(t,e,r,n,s){return sn(),wl(s),e.flags|=256,Se(t,e,r,n),e.child}var Ca={dehydrated:null,treeContext:null,retryLane:0};function Pa(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ah(t,e,r){var n=e.pendingProps,s=ee.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Q(ee,s&1),t===null)return wa(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Hi(a,n,0,null),t=yr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Pa(r),e.memoizedState=Ca,t):Rl(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ep(t,e,a,n,l,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Xt(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Xt(l,i):(i=yr(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?Pa(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Ca,n}return i=t.child,t=i.sibling,n=Xt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Rl(t,e){return e=Hi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Us(t,e,r,n){return n!==null&&wl(n),on(e,t.child,null,r),t=Rl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ep(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=zo(Error(E(422))),Us(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Hi({mode:"visible",children:n.children},s,0,null),i=yr(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&on(e,t.child,null,a),e.child.memoizedState=Pa(a),e.memoizedState=Ca,i);if(!(e.mode&1))return Us(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(E(419)),n=zo(i,n,void 0),Us(t,e,a,n)}if(l=(a&t.childLanes)!==0,Oe||l){if(n=me,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ct(t,s),ot(n,t,s,-1))}return Fl(),n=zo(Error(E(421))),Us(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=fp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Fe=Gt(s.nextSibling),Be=e,Z=!0,st=null,t!==null&&(He[Ke++]=_t,He[Ke++]=Nt,He[Ke++]=wr,_t=t.id,Nt=t.overflow,wr=e),e=Rl(e,n.children),e.flags|=4096,e)}function du(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ja(t.return,e,r)}function Oo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Rh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Se(t,e,n.children,r),n=ee.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&du(t,r,e);else if(t.tag===19)du(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Q(ee,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&_i(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Oo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&_i(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Oo(e,!0,r,null,i);break;case"together":Oo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ri(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),_r|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,r=Xt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Xt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function tp(t,e,r){switch(e.tag){case 3:Oh(e),sn();break;case 5:ah(e);break;case 1:Re(e.type)&&xi(e);break;case 4:kl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Q(bi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Q(ee,ee.current&1),e.flags|=128,null):r&e.child.childLanes?Ah(t,e,r):(Q(ee,ee.current&1),t=Pt(t,e,r),t!==null?t.sibling:null);Q(ee,ee.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Rh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(ee,ee.current),n)break;return null;case 22:case 23:return e.lanes=0,Th(t,e,r)}return Pt(t,e,r)}var Ih,$a,Lh,Mh;Ih=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$a=function(){};Lh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,xr(mt.current);var i=null;switch(r){case"input":s=Xo(t,s),n=Xo(t,n),i=[];break;case"select":s=re({},s,{value:void 0}),n=re({},n,{value:void 0}),i=[];break;case"textarea":s=ta(t,s),n=ta(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=pi)}na(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Y("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Mh=function(t,e,r,n){r!==n&&(e.flags|=4)};function Cn(t,e){if(!Z)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function rp(t,e,r){var n=e.pendingProps;switch(bl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return Re(e.type)&&gi(),be(e),null;case 3:return n=e.stateNode,an(),X(Ae),X(je),Pl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ls(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,st!==null&&(Ma(st),st=null))),$a(t,e),be(e),null;case 5:Cl(e);var s=xr(os.current);if(r=e.type,t!==null&&e.stateNode!=null)Lh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(E(166));return be(e),null}if(t=xr(mt.current),Ls(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ht]=e,n[ss]=i,t=(e.mode&1)!==0,r){case"dialog":Y("cancel",n),Y("close",n);break;case"iframe":case"object":case"embed":Y("load",n);break;case"video":case"audio":for(s=0;s<An.length;s++)Y(An[s],n);break;case"source":Y("error",n);break;case"img":case"image":case"link":Y("error",n),Y("load",n);break;case"details":Y("toggle",n);break;case"input":bc(n,i),Y("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Y("invalid",n);break;case"textarea":jc(n,i),Y("invalid",n)}na(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Is(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Is(n.textContent,l,t),s=["children",""+l]):Gn.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Y("scroll",n)}switch(r){case"input":Cs(n),wc(n,i,!0);break;case"textarea":Cs(n),_c(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=pi)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[ht]=e,t[ss]=n,Ih(t,e,!1,!1),e.stateNode=t;e:{switch(a=sa(r,n),r){case"dialog":Y("cancel",t),Y("close",t),s=n;break;case"iframe":case"object":case"embed":Y("load",t),s=n;break;case"video":case"audio":for(s=0;s<An.length;s++)Y(An[s],t);s=n;break;case"source":Y("error",t),s=n;break;case"img":case"image":case"link":Y("error",t),Y("load",t),s=n;break;case"details":Y("toggle",t),s=n;break;case"input":bc(t,n),s=Xo(t,n),Y("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=re({},n,{value:void 0}),Y("invalid",t);break;case"textarea":jc(t,n),s=ta(t,n),Y("invalid",t);break;default:s=n}na(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?pd(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fd(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Jn(t,c):typeof c=="number"&&Jn(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Y("scroll",t):c!=null&&il(t,i,c,a))}switch(r){case"input":Cs(t),wc(t,n,!1);break;case"textarea":Cs(t),_c(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Zt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Qr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Qr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=pi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return be(e),null;case 6:if(t&&e.stateNode!=null)Mh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(E(166));if(r=xr(os.current),xr(mt.current),Ls(e)){if(n=e.stateNode,r=e.memoizedProps,n[ht]=e,(i=n.nodeValue!==r)&&(t=Be,t!==null))switch(t.tag){case 3:Is(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Is(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ht]=e,e.stateNode=n}return be(e),null;case 13:if(X(ee),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Z&&Fe!==null&&e.mode&1&&!(e.flags&128))rh(),sn(),e.flags|=98560,i=!1;else if(i=Ls(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[ht]=e}else sn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),i=!1}else st!==null&&(Ma(st),st=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?de===0&&(de=3):Fl())),e.updateQueue!==null&&(e.flags|=4),be(e),null);case 4:return an(),$a(t,e),t===null&&rs(e.stateNode.containerInfo),be(e),null;case 10:return Nl(e.type._context),be(e),null;case 17:return Re(e.type)&&gi(),be(e),null;case 19:if(X(ee),i=e.memoizedState,i===null)return be(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Cn(i,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=_i(t),a!==null){for(e.flags|=128,Cn(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Q(ee,ee.current&1|2),e.child}t=t.sibling}i.tail!==null&&ie()>cn&&(e.flags|=128,n=!0,Cn(i,!1),e.lanes=4194304)}else{if(!n)if(t=_i(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Cn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Z)return be(e),null}else 2*ie()-i.renderingStartTime>cn&&r!==1073741824&&(e.flags|=128,n=!0,Cn(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ie(),e.sibling=null,r=ee.current,Q(ee,n?r&1|2:r&1),e):(be(e),null);case 22:case 23:return Dl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ue&1073741824&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function np(t,e){switch(bl(e),e.tag){case 1:return Re(e.type)&&gi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return an(),X(Ae),X(je),Pl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cl(e),null;case 13:if(X(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));sn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return X(ee),null;case 4:return an(),null;case 10:return Nl(e.type._context),null;case 22:case 23:return Dl(),null;case 24:return null;default:return null}}var Ds=!1,we=!1,sp=typeof WeakSet=="function"?WeakSet:Set,z=null;function Kr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ne(t,e,n)}else r.current=null}function Ta(t,e,r){try{r()}catch(n){ne(t,e,n)}}var hu=!1;function ip(t,e){if(ma=hi,t=Vd(),vl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===r&&++u===s&&(l=a),m===i&&++h===n&&(c=a),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(pa={focusedElem:t,selectionRange:r},hi=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,j=b.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:tt(e.type,w),j);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(_){ne(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return b=hu,hu=!1,b}function Bn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ta(e,r,i)}s=s.next}while(s!==n)}}function Wi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function za(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Uh(t){var e=t.alternate;e!==null&&(t.alternate=null,Uh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ht],delete e[ss],delete e[va],delete e[Fm],delete e[Bm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dh(t){return t.tag===5||t.tag===3||t.tag===4}function fu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Oa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=pi));else if(n!==4&&(t=t.child,t!==null))for(Oa(t,e,r),t=t.sibling;t!==null;)Oa(t,e,r),t=t.sibling}function Aa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Aa(t,e,r),t=t.sibling;t!==null;)Aa(t,e,r),t=t.sibling}var pe=null,rt=!1;function At(t,e,r){for(r=r.child;r!==null;)Fh(t,e,r),r=r.sibling}function Fh(t,e,r){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Ii,r)}catch{}switch(r.tag){case 5:we||Kr(r,e);case 6:var n=pe,s=rt;pe=null,At(t,e,r),pe=n,rt=s,pe!==null&&(rt?(t=pe,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):pe.removeChild(r.stateNode));break;case 18:pe!==null&&(rt?(t=pe,r=r.stateNode,t.nodeType===8?Eo(t.parentNode,r):t.nodeType===1&&Eo(t,r),Zn(t)):Eo(pe,r.stateNode));break;case 4:n=pe,s=rt,pe=r.stateNode.containerInfo,rt=!0,At(t,e,r),pe=n,rt=s;break;case 0:case 11:case 14:case 15:if(!we&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ta(r,e,a),s=s.next}while(s!==n)}At(t,e,r);break;case 1:if(!we&&(Kr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ne(r,e,l)}At(t,e,r);break;case 21:At(t,e,r);break;case 22:r.mode&1?(we=(n=we)||r.memoizedState!==null,At(t,e,r),we=n):At(t,e,r);break;default:At(t,e,r)}}function mu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new sp),e.forEach(function(n){var s=mp.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ze(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:pe=l.stateNode,rt=!1;break e;case 3:pe=l.stateNode.containerInfo,rt=!0;break e;case 4:pe=l.stateNode.containerInfo,rt=!0;break e}l=l.return}if(pe===null)throw Error(E(160));Fh(i,a,s),pe=null,rt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ne(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bh(e,t),e=e.sibling}function Bh(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ze(e,t),ct(t),n&4){try{Bn(3,t,t.return),Wi(3,t)}catch(w){ne(t,t.return,w)}try{Bn(5,t,t.return)}catch(w){ne(t,t.return,w)}}break;case 1:Ze(e,t),ct(t),n&512&&r!==null&&Kr(r,r.return);break;case 5:if(Ze(e,t),ct(t),n&512&&r!==null&&Kr(r,r.return),t.flags&32){var s=t.stateNode;try{Jn(s,"")}catch(w){ne(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ud(s,i),sa(l,a);var u=sa(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?pd(s,f):h==="dangerouslySetInnerHTML"?fd(s,f):h==="children"?Jn(s,f):il(s,h,f,u)}switch(l){case"input":Zo(s,i);break;case"textarea":dd(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Qr(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Qr(s,!!i.multiple,i.defaultValue,!0):Qr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ss]=i}catch(w){ne(t,t.return,w)}}break;case 6:if(Ze(e,t),ct(t),n&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ne(t,t.return,w)}}break;case 3:if(Ze(e,t),ct(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zn(e.containerInfo)}catch(w){ne(t,t.return,w)}break;case 4:Ze(e,t),ct(t);break;case 13:Ze(e,t),ct(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ml=ie())),n&4&&mu(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(we=(u=we)||h,Ze(e,t),we=u):Ze(e,t),ct(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(z=t,h=t.child;h!==null;){for(f=z=h;z!==null;){switch(m=z,p=m.child,m.tag){case 0:case 11:case 14:case 15:Bn(4,m,m.return);break;case 1:Kr(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(w){ne(n,r,w)}}break;case 5:Kr(m,m.return);break;case 22:if(m.memoizedState!==null){gu(f);continue}}p!==null?(p.return=m,z=p):gu(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=md("display",a))}catch(w){ne(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){ne(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ze(e,t),ct(t),n&4&&mu(t);break;case 21:break;default:Ze(e,t),ct(t)}}function ct(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Dh(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Jn(s,""),n.flags&=-33);var i=fu(t);Aa(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=fu(t);Oa(t,l,a);break;default:throw Error(E(161))}}catch(c){ne(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function op(t,e,r){z=t,Vh(t)}function Vh(t,e,r){for(var n=(t.mode&1)!==0;z!==null;){var s=z,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ds;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||we;l=Ds;var u=we;if(Ds=a,(we=c)&&!u)for(z=s;z!==null;)a=z,c=a.child,a.tag===22&&a.memoizedState!==null?xu(s):c!==null?(c.return=a,z=c):xu(s);for(;i!==null;)z=i,Vh(i),i=i.sibling;z=s,Ds=l,we=u}pu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,z=i):pu(t)}}function pu(t){for(;z!==null;){var e=z;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:we||Wi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!we)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:tt(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Zc(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Zc(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Zn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}we||e.flags&512&&za(e)}catch(m){ne(e,e.return,m)}}if(e===t){z=null;break}if(r=e.sibling,r!==null){r.return=e.return,z=r;break}z=e.return}}function gu(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var r=e.sibling;if(r!==null){r.return=e.return,z=r;break}z=e.return}}function xu(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Wi(4,e)}catch(c){ne(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){ne(e,s,c)}}var i=e.return;try{za(e)}catch(c){ne(e,i,c)}break;case 5:var a=e.return;try{za(e)}catch(c){ne(e,a,c)}}}catch(c){ne(e,e.return,c)}if(e===t){z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,z=l;break}z=e.return}}var ap=Math.ceil,Ei=$t.ReactCurrentDispatcher,Il=$t.ReactCurrentOwner,Je=$t.ReactCurrentBatchConfig,B=0,me=null,ae=null,ge=0,Ue=0,Gr=rr(0),de=0,us=null,_r=0,qi=0,Ll=0,Vn=null,Te=null,Ml=0,cn=1/0,bt=null,ki=!1,Ra=null,Qt=null,Fs=!1,Wt=null,Ci=0,Wn=0,Ia=null,ni=-1,si=0;function Ee(){return B&6?ie():ni!==-1?ni:ni=ie()}function Yt(t){return t.mode&1?B&2&&ge!==0?ge&-ge:Wm.transition!==null?(si===0&&(si=kd()),si):(t=K,t!==0||(t=window.event,t=t===void 0?16:Ad(t.type)),t):1}function ot(t,e,r,n){if(50<Wn)throw Wn=0,Ia=null,Error(E(185));fs(t,r,n),(!(B&2)||t!==me)&&(t===me&&(!(B&2)&&(qi|=r),de===4&&Ft(t,ge)),Ie(t,n),r===1&&B===0&&!(e.mode&1)&&(cn=ie()+500,Fi&&nr()))}function Ie(t,e){var r=t.callbackNode;W0(t,e);var n=di(t,t===me?ge:0);if(n===0)r!==null&&Ec(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ec(r),e===1)t.tag===0?Vm(vu.bind(null,t)):Zd(vu.bind(null,t)),Um(function(){!(B&6)&&nr()}),r=null;else{switch(Cd(n)){case 1:r=ul;break;case 4:r=Sd;break;case 16:r=ui;break;case 536870912:r=Ed;break;default:r=ui}r=Yh(r,Wh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Wh(t,e){if(ni=-1,si=0,B&6)throw Error(E(327));var r=t.callbackNode;if(tn()&&t.callbackNode!==r)return null;var n=di(t,t===me?ge:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Pi(t,n);else{e=n;var s=B;B|=2;var i=Hh();(me!==t||ge!==e)&&(bt=null,cn=ie()+500,vr(t,e));do try{up();break}catch(l){qh(t,l)}while(!0);_l(),Ei.current=i,B=s,ae!==null?e=0:(me=null,ge=0,e=de)}if(e!==0){if(e===2&&(s=ca(t),s!==0&&(n=s,e=La(t,s))),e===1)throw r=us,vr(t,0),Ft(t,n),Ie(t,ie()),r;if(e===6)Ft(t,n);else{if(s=t.current.alternate,!(n&30)&&!lp(s)&&(e=Pi(t,n),e===2&&(i=ca(t),i!==0&&(n=i,e=La(t,i))),e===1))throw r=us,vr(t,0),Ft(t,n),Ie(t,ie()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(E(345));case 2:hr(t,Te,bt);break;case 3:if(Ft(t,n),(n&130023424)===n&&(e=Ml+500-ie(),10<e)){if(di(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ee(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xa(hr.bind(null,t,Te,bt),e);break}hr(t,Te,bt);break;case 4:if(Ft(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-it(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ap(n/1960))-n,10<n){t.timeoutHandle=xa(hr.bind(null,t,Te,bt),n);break}hr(t,Te,bt);break;case 5:hr(t,Te,bt);break;default:throw Error(E(329))}}}return Ie(t,ie()),t.callbackNode===r?Wh.bind(null,t):null}function La(t,e){var r=Vn;return t.current.memoizedState.isDehydrated&&(vr(t,e).flags|=256),t=Pi(t,e),t!==2&&(e=Te,Te=r,e!==null&&Ma(e)),t}function Ma(t){Te===null?Te=t:Te.push.apply(Te,t)}function lp(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!at(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ft(t,e){for(e&=~Ll,e&=~qi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-it(e),n=1<<r;t[r]=-1,e&=~n}}function vu(t){if(B&6)throw Error(E(327));tn();var e=di(t,0);if(!(e&1))return Ie(t,ie()),null;var r=Pi(t,e);if(t.tag!==0&&r===2){var n=ca(t);n!==0&&(e=n,r=La(t,n))}if(r===1)throw r=us,vr(t,0),Ft(t,e),Ie(t,ie()),r;if(r===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hr(t,Te,bt),Ie(t,ie()),null}function Ul(t,e){var r=B;B|=1;try{return t(e)}finally{B=r,B===0&&(cn=ie()+500,Fi&&nr())}}function Nr(t){Wt!==null&&Wt.tag===0&&!(B&6)&&tn();var e=B;B|=1;var r=Je.transition,n=K;try{if(Je.transition=null,K=1,t)return t()}finally{K=n,Je.transition=r,B=e,!(B&6)&&nr()}}function Dl(){Ue=Gr.current,X(Gr)}function vr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Mm(r)),ae!==null)for(r=ae.return;r!==null;){var n=r;switch(bl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gi();break;case 3:an(),X(Ae),X(je),Pl();break;case 5:Cl(n);break;case 4:an();break;case 13:X(ee);break;case 19:X(ee);break;case 10:Nl(n.type._context);break;case 22:case 23:Dl()}r=r.return}if(me=t,ae=t=Xt(t.current,null),ge=Ue=e,de=0,us=null,Ll=qi=_r=0,Te=Vn=null,gr!==null){for(e=0;e<gr.length;e++)if(r=gr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}gr=null}return t}function qh(t,e){do{var r=ae;try{if(_l(),ei.current=Si,Ni){for(var n=te.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ni=!1}if(jr=0,he=ue=te=null,Fn=!1,as=0,Il.current=null,r===null||r.return===null){de=1,us=e,ae=null;break}e:{var i=t,a=r.return,l=r,c=e;if(e=ge,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=iu(a);if(p!==null){p.flags&=-257,ou(p,a,l,i,e),p.mode&1&&su(i,u,e),e=p,c=u;var b=e.updateQueue;if(b===null){var w=new Set;w.add(c),e.updateQueue=w}else b.add(c);break e}else{if(!(e&1)){su(i,u,e),Fl();break e}c=Error(E(426))}}else if(Z&&l.mode&1){var j=iu(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),ou(j,a,l,i,e),wl(ln(c,l));break e}}i=c=ln(c,l),de!==4&&(de=2),Vn===null?Vn=[i]:Vn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Ch(i,c,e);Xc(i,v);break e;case 1:l=c;var x=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Qt===null||!Qt.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Ph(i,l,e);Xc(i,_);break e}}i=i.return}while(i!==null)}Gh(r)}catch(S){e=S,ae===r&&r!==null&&(ae=r=r.return);continue}break}while(!0)}function Hh(){var t=Ei.current;return Ei.current=Si,t===null?Si:t}function Fl(){(de===0||de===3||de===2)&&(de=4),me===null||!(_r&268435455)&&!(qi&268435455)||Ft(me,ge)}function Pi(t,e){var r=B;B|=2;var n=Hh();(me!==t||ge!==e)&&(bt=null,vr(t,e));do try{cp();break}catch(s){qh(t,s)}while(!0);if(_l(),B=r,Ei.current=n,ae!==null)throw Error(E(261));return me=null,ge=0,de}function cp(){for(;ae!==null;)Kh(ae)}function up(){for(;ae!==null&&!R0();)Kh(ae)}function Kh(t){var e=Qh(t.alternate,t,Ue);t.memoizedProps=t.pendingProps,e===null?Gh(t):ae=e,Il.current=null}function Gh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=np(r,e),r!==null){r.flags&=32767,ae=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{de=6,ae=null;return}}else if(r=rp(r,e,Ue),r!==null){ae=r;return}if(e=e.sibling,e!==null){ae=e;return}ae=e=t}while(e!==null);de===0&&(de=5)}function hr(t,e,r){var n=K,s=Je.transition;try{Je.transition=null,K=1,dp(t,e,r,n)}finally{Je.transition=s,K=n}return null}function dp(t,e,r,n){do tn();while(Wt!==null);if(B&6)throw Error(E(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(q0(t,i),t===me&&(ae=me=null,ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Fs||(Fs=!0,Yh(ui,function(){return tn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var a=K;K=1;var l=B;B|=4,Il.current=null,ip(t,r),Bh(r,t),Tm(pa),hi=!!ma,pa=ma=null,t.current=r,op(r),I0(),B=l,K=a,Je.transition=i}else t.current=r;if(Fs&&(Fs=!1,Wt=t,Ci=s),i=t.pendingLanes,i===0&&(Qt=null),U0(r.stateNode),Ie(t,ie()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ki)throw ki=!1,t=Ra,Ra=null,t;return Ci&1&&t.tag!==0&&tn(),i=t.pendingLanes,i&1?t===Ia?Wn++:(Wn=0,Ia=t):Wn=0,nr(),null}function tn(){if(Wt!==null){var t=Cd(Ci),e=Je.transition,r=K;try{if(Je.transition=null,K=16>t?16:t,Wt===null)var n=!1;else{if(t=Wt,Wt=null,Ci=0,B&6)throw Error(E(331));var s=B;for(B|=4,z=t.current;z!==null;){var i=z,a=i.child;if(z.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(z=u;z!==null;){var h=z;switch(h.tag){case 0:case 11:case 15:Bn(8,h,i)}var f=h.child;if(f!==null)f.return=h,z=f;else for(;z!==null;){h=z;var m=h.sibling,p=h.return;if(Uh(h),h===u){z=null;break}if(m!==null){m.return=p,z=m;break}z=p}}}var b=i.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}z=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,z=a;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Bn(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,z=v;break e}z=i.return}}var x=t.current;for(z=x;z!==null;){a=z;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,z=y;else e:for(a=x;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wi(9,l)}}catch(S){ne(l,l.return,S)}if(l===a){z=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,z=_;break e}z=l.return}}if(B=s,nr(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Ii,t)}catch{}n=!0}return n}finally{K=r,Je.transition=e}}return!1}function yu(t,e,r){e=ln(r,e),e=Ch(t,e,1),t=Jt(t,e,1),e=Ee(),t!==null&&(fs(t,1,e),Ie(t,e))}function ne(t,e,r){if(t.tag===3)yu(t,t,r);else for(;e!==null;){if(e.tag===3){yu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qt===null||!Qt.has(n))){t=ln(r,t),t=Ph(e,t,1),e=Jt(e,t,1),t=Ee(),e!==null&&(fs(e,1,t),Ie(e,t));break}}e=e.return}}function hp(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ee(),t.pingedLanes|=t.suspendedLanes&r,me===t&&(ge&r)===r&&(de===4||de===3&&(ge&130023424)===ge&&500>ie()-Ml?vr(t,0):Ll|=r),Ie(t,e)}function Jh(t,e){e===0&&(t.mode&1?(e=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):e=1);var r=Ee();t=Ct(t,e),t!==null&&(fs(t,e,r),Ie(t,r))}function fp(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Jh(t,r)}function mp(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(e),Jh(t,r)}var Qh;Qh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ae.current)Oe=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Oe=!1,tp(t,e,r);Oe=!!(t.flags&131072)}else Oe=!1,Z&&e.flags&1048576&&eh(e,yi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ri(t,e),t=e.pendingProps;var s=nn(e,je.current);en(e,r),s=Tl(null,e,n,t,s,r);var i=zl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Re(n)?(i=!0,xi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,El(e),s.updater=Vi,e.stateNode=s,s._reactInternals=e,Na(e,n,t,r),e=ka(null,e,n,!0,i,r)):(e.tag=0,Z&&i&&yl(e),Se(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ri(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=gp(n),t=tt(n,t),s){case 0:e=Ea(null,e,n,t,r);break e;case 1:e=cu(null,e,n,t,r);break e;case 11:e=au(null,e,n,t,r);break e;case 14:e=lu(null,e,n,tt(n.type,t),r);break e}throw Error(E(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:tt(n,s),Ea(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:tt(n,s),cu(t,e,n,s,r);case 3:e:{if(Oh(e),t===null)throw Error(E(387));n=e.pendingProps,i=e.memoizedState,s=i.element,oh(t,e),ji(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ln(Error(E(423)),e),e=uu(t,e,n,r,s);break e}else if(n!==s){s=ln(Error(E(424)),e),e=uu(t,e,n,r,s);break e}else for(Fe=Gt(e.stateNode.containerInfo.firstChild),Be=e,Z=!0,st=null,r=sh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sn(),n===s){e=Pt(t,e,r);break e}Se(t,e,n,r)}e=e.child}return e;case 5:return ah(e),t===null&&wa(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,ga(n,s)?a=null:i!==null&&ga(n,i)&&(e.flags|=32),zh(t,e),Se(t,e,a,r),e.child;case 6:return t===null&&wa(e),null;case 13:return Ah(t,e,r);case 4:return kl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=on(e,null,n,r):Se(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:tt(n,s),au(t,e,n,s,r);case 7:return Se(t,e,e.pendingProps,r),e.child;case 8:return Se(t,e,e.pendingProps.children,r),e.child;case 12:return Se(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Q(bi,n._currentValue),n._currentValue=a,i!==null)if(at(i.value,a)){if(i.children===s.children&&!Ae.current){e=Pt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=St(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ja(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(E(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),ja(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Se(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,en(e,r),s=Ye(s),n=n(s),e.flags|=1,Se(t,e,n,r),e.child;case 14:return n=e.type,s=tt(n,e.pendingProps),s=tt(n.type,s),lu(t,e,n,s,r);case 15:return $h(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:tt(n,s),ri(t,e),e.tag=1,Re(n)?(t=!0,xi(e)):t=!1,en(e,r),kh(e,n,s),Na(e,n,s,r),ka(null,e,n,!0,t,r);case 19:return Rh(t,e,r);case 22:return Th(t,e,r)}throw Error(E(156,e.tag))};function Yh(t,e){return Nd(t,e)}function pp(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,r,n){return new pp(t,e,r,n)}function Bl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gp(t){if(typeof t=="function")return Bl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===al)return 11;if(t===ll)return 14}return 2}function Xt(t,e){var r=t.alternate;return r===null?(r=Ge(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ii(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")Bl(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Mr:return yr(r.children,s,i,e);case ol:a=8,s|=8;break;case Go:return t=Ge(12,r,e,s|2),t.elementType=Go,t.lanes=i,t;case Jo:return t=Ge(13,r,e,s),t.elementType=Jo,t.lanes=i,t;case Qo:return t=Ge(19,r,e,s),t.elementType=Qo,t.lanes=i,t;case ad:return Hi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case id:a=10;break e;case od:a=9;break e;case al:a=11;break e;case ll:a=14;break e;case Mt:a=16,n=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Ge(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function yr(t,e,r,n){return t=Ge(7,t,n,e),t.lanes=r,t}function Hi(t,e,r,n){return t=Ge(22,t,n,e),t.elementType=ad,t.lanes=r,t.stateNode={isHidden:!1},t}function Ao(t,e,r){return t=Ge(6,t,null,e),t.lanes=r,t}function Ro(t,e,r){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xp(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=po(0),this.expirationTimes=po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=po(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Vl(t,e,r,n,s,i,a,l,c){return t=new xp(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ge(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},El(i),t}function vp(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Xh(t){if(!t)return er;t=t._reactInternals;e:{if(Er(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Re(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var r=t.type;if(Re(r))return Xd(t,r,e)}return e}function Zh(t,e,r,n,s,i,a,l,c){return t=Vl(r,n,!0,t,s,i,a,l,c),t.context=Xh(null),r=t.current,n=Ee(),s=Yt(r),i=St(n,s),i.callback=e??null,Jt(r,i,s),t.current.lanes=s,fs(t,s,n),Ie(t,n),t}function Ki(t,e,r,n){var s=e.current,i=Ee(),a=Yt(s);return r=Xh(r),e.context===null?e.context=r:e.pendingContext=r,e=St(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Jt(s,e,a),t!==null&&(ot(t,s,a,i),Zs(t,s,a)),a}function $i(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Wl(t,e){bu(t,e),(t=t.alternate)&&bu(t,e)}function yp(){return null}var ef=typeof reportError=="function"?reportError:function(t){console.error(t)};function ql(t){this._internalRoot=t}Gi.prototype.render=ql.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Ki(t,e,null,null)};Gi.prototype.unmount=ql.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nr(function(){Ki(null,t,null,null)}),e[kt]=null}};function Gi(t){this._internalRoot=t}Gi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Td();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Dt.length&&e!==0&&e<Dt[r].priority;r++);Dt.splice(r,0,t),r===0&&Od(t)}};function Hl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ji(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wu(){}function bp(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=$i(a);i.call(u)}}var a=Zh(e,n,t,0,null,!1,!1,"",wu);return t._reactRootContainer=a,t[kt]=a.current,rs(t.nodeType===8?t.parentNode:t),Nr(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=$i(c);l.call(u)}}var c=Vl(t,0,!1,null,null,!1,!1,"",wu);return t._reactRootContainer=c,t[kt]=c.current,rs(t.nodeType===8?t.parentNode:t),Nr(function(){Ki(e,c,r,n)}),c}function Qi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=$i(a);l.call(c)}}Ki(e,a,t,s)}else a=bp(r,e,t,s,n);return $i(a)}Pd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=On(e.pendingLanes);r!==0&&(dl(e,r|1),Ie(e,ie()),!(B&6)&&(cn=ie()+500,nr()))}break;case 13:Nr(function(){var n=Ct(t,1);if(n!==null){var s=Ee();ot(n,t,1,s)}}),Wl(t,1)}};hl=function(t){if(t.tag===13){var e=Ct(t,134217728);if(e!==null){var r=Ee();ot(e,t,134217728,r)}Wl(t,134217728)}};$d=function(t){if(t.tag===13){var e=Yt(t),r=Ct(t,e);if(r!==null){var n=Ee();ot(r,t,e,n)}Wl(t,e)}};Td=function(){return K};zd=function(t,e){var r=K;try{return K=t,e()}finally{K=r}};oa=function(t,e,r){switch(e){case"input":if(Zo(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Di(n);if(!s)throw Error(E(90));cd(n),Zo(n,s)}}}break;case"textarea":dd(t,r);break;case"select":e=r.value,e!=null&&Qr(t,!!r.multiple,e,!1)}};vd=Ul;yd=Nr;var wp={usingClientEntryPoint:!1,Events:[ps,Br,Di,gd,xd,Ul]},Pn={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jp={bundleType:Pn.bundleType,version:Pn.version,rendererPackageName:Pn.rendererPackageName,rendererConfig:Pn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$t.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jd(t),t===null?null:t.stateNode},findFiberByHostInstance:Pn.findFiberByHostInstance||yp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{Ii=Bs.inject(jp),ft=Bs}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wp;We.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hl(e))throw Error(E(200));return vp(t,e,null,r)};We.createRoot=function(t,e){if(!Hl(t))throw Error(E(299));var r=!1,n="",s=ef;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Vl(t,1,!1,null,null,r,!1,n,s),t[kt]=e.current,rs(t.nodeType===8?t.parentNode:t),new ql(e)};We.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=jd(e),t=t===null?null:t.stateNode,t};We.flushSync=function(t){return Nr(t)};We.hydrate=function(t,e,r){if(!Ji(e))throw Error(E(200));return Qi(null,t,e,!0,r)};We.hydrateRoot=function(t,e,r){if(!Hl(t))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=ef;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Zh(e,null,t,1,r??null,s,!1,i,a),t[kt]=e.current,rs(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Gi(e)};We.render=function(t,e,r){if(!Ji(e))throw Error(E(200));return Qi(null,t,e,!1,r)};We.unmountComponentAtNode=function(t){if(!Ji(t))throw Error(E(40));return t._reactRootContainer?(Nr(function(){Qi(null,null,t,!1,function(){t._reactRootContainer=null,t[kt]=null})}),!0):!1};We.unstable_batchedUpdates=Ul;We.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ji(r))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Qi(t,e,r,!1,n)};We.version="18.3.1-next-f1338f8080-20240426";function tf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tf)}catch(t){console.error(t)}}tf(),td.exports=We;var _p=td.exports,ju=_p;Ho.createRoot=ju.createRoot,Ho.hydrateRoot=ju.hydrateRoot;const Np="modulepreload",Sp=function(t){return"/"+t},_u={},xs=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Sp(c),c in _u)return;_u[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Np,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Ep=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>xs(async()=>{const{default:n}=await Promise.resolve().then(()=>mn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Kl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class kp extends Kl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nu extends Kl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Su extends Kl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ua;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ua||(Ua={}));var Cp=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{u(n.next(h))}catch(f){a(f)}}function c(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Pp{constructor(e,{headers:r={},customFetch:n,region:s=Ua.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Ep(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Cp(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let h;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(l["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(l["Content-Type"]="application/json",h=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:h}).catch(w=>{throw new kp(w)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new Nu(f);if(!f.ok)throw new Su(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return p==="application/json"?b=yield f.json():p==="application/octet-stream"?b=yield f.blob():p==="text/event-stream"?b=f:p==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Su||s instanceof Nu?s.context:void 0}}})}}var ze={},Gl={},Yi={},vs={},Xi={},Zi={},$p=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},un=$p();const Tp=un.fetch,rf=un.fetch.bind(un),nf=un.Headers,zp=un.Request,Op=un.Response,mn=Object.freeze(Object.defineProperty({__proto__:null,Headers:nf,Request:zp,Response:Op,default:rf,fetch:Tp},Symbol.toStringTag,{value:"Module"})),Ap=Qf(mn);var eo={};Object.defineProperty(eo,"__esModule",{value:!0});let Rp=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};eo.default=Rp;var sf=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zi,"__esModule",{value:!0});const Ip=sf(Ap),Lp=sf(eo);let Mp=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ip.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c,u;let h=null,f=null,m=null,p=i.status,b=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?f=x:f=JSON.parse(x))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),v=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");j&&v&&v.length>1&&(m=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,p=406,b="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const j=await i.text();try{h=JSON.parse(j),Array.isArray(h)&&i.status===404&&(f=[],h=null,p=200,b="OK")}catch{i.status===404&&j===""?(p=204,b="No Content"):h={message:j}}if(h&&this.isMaybeSingle&&(!((u=h==null?void 0:h.details)===null||u===void 0)&&u.includes("0 rows"))&&(h=null,p=200,b="OK"),h&&this.shouldThrowOnError)throw new Lp.default(h)}return{error:h,data:f,count:m,status:p,statusText:b}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Zi.default=Mp;var Up=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xi,"__esModule",{value:!0});const Dp=Up(Zi);let Fp=class extends Dp.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Xi.default=Fp;var Bp=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vs,"__esModule",{value:!0});const Vp=Bp(Xi);let Wp=class extends Vp.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};vs.default=Wp;var qp=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yi,"__esModule",{value:!0});const $n=qp(vs);let Hp=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new $n.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new $n.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new $n.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new $n.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new $n.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Yi.default=Hp;var of=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gl,"__esModule",{value:!0});const Kp=of(Yi),Gp=of(vs);let Jp=class af{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Kp.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new af(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",u=r);const h=new Headers(this.headers);return i&&h.set("Prefer",`count=${i}`),new Gp.default({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};Gl.default=Jp;var pn=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ze,"__esModule",{value:!0});ze.PostgrestError=ze.PostgrestBuilder=ze.PostgrestTransformBuilder=ze.PostgrestFilterBuilder=ze.PostgrestQueryBuilder=ze.PostgrestClient=void 0;const lf=pn(Gl);ze.PostgrestClient=lf.default;const cf=pn(Yi);ze.PostgrestQueryBuilder=cf.default;const uf=pn(vs);ze.PostgrestFilterBuilder=uf.default;const df=pn(Xi);ze.PostgrestTransformBuilder=df.default;const hf=pn(Zi);ze.PostgrestBuilder=hf.default;const ff=pn(eo);ze.PostgrestError=ff.default;var Qp=ze.default={PostgrestClient:lf.default,PostgrestQueryBuilder:cf.default,PostgrestFilterBuilder:uf.default,PostgrestTransformBuilder:df.default,PostgrestBuilder:hf.default,PostgrestError:ff.default};const{PostgrestClient:Yp,PostgrestQueryBuilder:Hv,PostgrestFilterBuilder:Kv,PostgrestTransformBuilder:Gv,PostgrestBuilder:Jv,PostgrestError:Qv}=Qp;class Xp{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Zp="2.15.5",eg=`realtime-js/${Zp}`,tg="1.0.0",Da=1e4,rg=1e3,ng=100;var qn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(qn||(qn={}));var le;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(le||(le={}));var nt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(nt||(nt={}));var Fa;(function(t){t.websocket="websocket"})(Fa||(Fa={}));var mr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(mr||(mr={}));class sg{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(e.slice(a,a+s));a=a+s;const c=n.decode(e.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class mf{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(J||(J={}));const Eu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=ig(a,t,e,s),i),{})},ig=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?pf(i,a):Ba(a)},pf=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return cg(e,r)}switch(t){case J.bool:return og(e);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return ag(e);case J.json:case J.jsonb:return lg(e);case J.timestamp:return ug(e);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return Ba(e);default:return Ba(e)}},Ba=t=>t,og=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ag=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},lg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},cg=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>pf(e,l))}return t},ug=t=>typeof t=="string"?t.replace(" ","T"):t,gf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Io{constructor(e,r,n={},s=Da){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ku;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ku||(ku={}));class Hn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Hn.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Hn.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),l={},c={};return this.map(i,(u,h)=>{a[u]||(c[u]=h)}),this.map(a,(u,h)=>{const f=i[u];if(f){const m=h.map(j=>j.presence_ref),p=f.map(j=>j.presence_ref),b=h.filter(j=>p.indexOf(j.presence_ref)<0),w=f.filter(j=>m.indexOf(j.presence_ref)<0);b.length>0&&(l[u]=b),w.length>0&&(c[u]=w)}else l[u]=h}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const h=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),h.length>0){const f=e[l].map(p=>p.presence_ref),m=h.filter(p=>f.indexOf(p.presence_ref)<0);e[l].unshift(...m)}n(l,h,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const h=c.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Cu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Cu||(Cu={}));var Kn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Kn||(Kn={}));var wt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wt||(wt={}));class Jl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Io(this,nt.join,this.params,this.timeout),this.rejoinTimer=new mf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Hn(this),this.broadcastEndpointURL=gf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Kn.PRESENCE]&&this.bindings[Kn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},m={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(wt.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(wt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket.setAuth(),p===void 0){e==null||e(wt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,j=(b=w==null?void 0:w.length)!==null&&b!==void 0?b:0,v=[];for(let x=0;x<j;x++){const y=w[x],{filter:{event:_,schema:S,table:k,filter:P}}=y,T=p&&p[x];if(T&&T.event===_&&T.schema===S&&T.table===k&&T.filter===P)v.push(Object.assign(Object.assign({},y),{id:T.id}));else{this.unsubscribe(),this.state=le.errored,e==null||e(wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(wt.SUBSCRIBED);return}}).receive("error",p=>{this.state=le.errored,e==null||e(wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===le.joined&&e===Kn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=le.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Io(this,nt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Io(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ng){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=nt;if(n&&[l,c,u,h].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,w,j;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((j=(w=p.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(p=>p.callback(m,n)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var b,w,j,v,x,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const _=p.id,S=(b=p.filter)===null||b===void 0?void 0:b.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const _=(x=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:w,table:j,commit_timestamp:v,type:x,errors:y}=b;m=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:v,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(b))}p.callback(m,n)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Jl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nt.close,{},e)}_onError(e){this._on(nt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Eu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Eu(e.columns,e.old_record)),r}}const Lo=()=>{},Vs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dg=[1e3,2e3,5e3,1e4],hg=1e4,fg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mg{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Da,this.transport=null,this.heartbeatIntervalMs=Vs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lo,this.ref=0,this.reconnectTimer=null,this.logger=Lo,this.conn=null,this.sendBuffer=[],this.serializer=new sg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>xs(async()=>{const{default:l}=await Promise.resolve().then(()=>mn);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Fa.websocket}`,this.httpEndpoint=gf(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Xp.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tg}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qn.connecting:return mr.Connecting;case qn.open:return mr.Open;case qn.closing:return mr.Closing;default:return mr.Closed}}isConnected(){return this.connectionState()===mr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Jl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(rg,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Vs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(nt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([fg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:eg};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(nt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new mf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,l,c,u,h;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Da,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Vs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Lo,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:f=>dg[f-1]||hg,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Ql extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ce(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class pg extends Ql{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Va extends Ql{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var gg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{u(n.next(h))}catch(f){a(f)}}function c(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const xf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>xs(async()=>{const{default:n}=await Promise.resolve().then(()=>mn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},xg=()=>gg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xs(()=>Promise.resolve().then(()=>mn),void 0)).Response:Response}),Wa=t=>{if(Array.isArray(t))return t.map(r=>Wa(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Wa(n)}),e},vg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var kr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{u(n.next(h))}catch(f){a(f)}}function c(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Mo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),yg=(t,e,r)=>kr(void 0,void 0,void 0,function*(){const n=yield xg();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,a=(s==null?void 0:s.statusCode)||i+"";e(new pg(Mo(s),i,a))}).catch(s=>{e(new Va(Mo(s),s))}):e(new Va(Mo(t),t))}),bg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(vg(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ys(t,e,r,n,s,i){return kr(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(r,bg(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>yg(c,l,n))})})}function Ti(t,e,r,n){return kr(this,void 0,void 0,function*(){return ys(t,"GET",e,r,n)})}function dt(t,e,r,n,s){return kr(this,void 0,void 0,function*(){return ys(t,"POST",e,n,s,r)})}function qa(t,e,r,n,s){return kr(this,void 0,void 0,function*(){return ys(t,"PUT",e,n,s,r)})}function wg(t,e,r,n){return kr(this,void 0,void 0,function*(){return ys(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function vf(t,e,r,n,s){return kr(this,void 0,void 0,function*(){return ys(t,"DELETE",e,n,s,r)})}var _e=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{u(n.next(h))}catch(f){a(f)}}function c(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const jg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _g{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=xf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return _e(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Pu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),f=yield(e=="PUT"?qa:dt)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ce(i))return{data:null,error:i};throw i}})}upload(e,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return _e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Pu.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const f=yield qa(this.fetch,l.toString(),c,{headers:h});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ce(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return _e(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield dt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new Ql("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}})}update(e,r,n){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return _e(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}})}copy(e,r,n){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return _e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return _e(this,void 0,void 0,function*(){try{const s=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}})}download(e,r){return _e(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Ti(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ce(l))return{data:null,error:l};throw l}})}info(e){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ti(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Wa(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}})}exists(e){return _e(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield wg(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n)&&n instanceof Va){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return _e(this,void 0,void 0,function*(){try{return{data:yield vf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}list(e,r,n){return _e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},jg),r),{prefix:e||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ce(s))return{data:null,error:s};throw s}})}listV2(e,r){return _e(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield dt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ng="2.12.1",Sg={"X-Client-Info":`storage-js/${Ng}`};var $r=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{u(n.next(h))}catch(f){a(f)}}function c(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Eg{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Sg),r),this.fetch=xf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return $r(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ce(e))return{data:null,error:e};throw e}})}getBucket(e){return $r(this,void 0,void 0,function*(){try{return{data:yield Ti(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return $r(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return $r(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ce(n))return{data:null,error:n};throw n}})}emptyBucket(e){return $r(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}deleteBucket(e){return $r(this,void 0,void 0,function*(){try{return{data:yield vf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ce(r))return{data:null,error:r};throw r}})}}class kg extends Eg{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new _g(this.url,this.headers,e,this.fetch)}}const Cg="2.57.4";let Rn="";typeof Deno<"u"?Rn="deno":typeof document<"u"?Rn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rn="react-native":Rn="node";const Pg={"X-Client-Info":`supabase-js-${Rn}/${Cg}`},$g={headers:Pg},Tg={schema:"public"},zg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Og={};var Ag=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{u(n.next(h))}catch(f){a(f)}}function c(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Rg=t=>{let e;return t?e=t:typeof fetch>"u"?e=rf:e=fetch,(...r)=>e(...r)},Ig=()=>typeof Headers>"u"?nf:Headers,Lg=(t,e,r)=>{const n=Rg(r),s=Ig();return(i,a)=>Ag(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var Mg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{u(n.next(h))}catch(f){a(f)}}function c(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function Ug(t){return t.endsWith("/")?t:t+"/"}function Dg(t,e){var r,n;const{db:s,auth:i,realtime:a,global:l}=t,{db:c,auth:u,realtime:h,global:f}=e,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},h),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Mg(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function Fg(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ug(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const yf="2.71.1",Rr=30*1e3,Ha=3,Uo=Ha*Rr,Bg="http://localhost:9999",Vg="supabase.auth.token",Wg={"X-Client-Info":`gotrue-js/${yf}`},Ka="X-Supabase-Api-Version",bf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hg=10*60*1e3;class Yl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Kg extends Yl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Gg(t){return I(t)&&t.name==="AuthApiError"}class wf extends Yl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class sr extends Yl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class It extends sr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jg(t){return I(t)&&t.name==="AuthSessionMissingError"}class Ws extends sr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qs extends sr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Hs extends sr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qg(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class $u extends sr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ga extends sr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Do(t){return I(t)&&t.name==="AuthRetryableFetchError"}class Tu extends sr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ja extends sr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zu=` 	
\r=`.split(""),Yg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<zu.length;e+=1)t[zu[e].charCodeAt(0)]=-2;for(let e=0;e<zi.length;e+=1)t[zi[e].charCodeAt(0)]=e;return t})();function Ou(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(zi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(zi[n]),e.queuedBits-=6}}function jf(t,e,r){const n=Yg[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Au(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{ex(a,n,r)};for(let a=0;a<t.length;a+=1)jf(t.charCodeAt(a),s,i);return e.join("")}function Xg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Zg(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Xg(n,e)}}function ex(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function tx(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)jf(t.charCodeAt(s),r,n);return new Uint8Array(e)}function rx(t){const e=[];return Zg(t,r=>e.push(r)),new Uint8Array(e)}function nx(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Ou(s,r,n)),Ou(null,r,n),e.join("")}function sx(t){return Math.round(Date.now()/1e3)+t}function ix(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",cr={tested:!1,writable:!1},_f=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cr.tested)return cr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),cr.tested=!0,cr.writable=!0}catch{cr.tested=!0,cr.writable=!1}return cr.writable};function ox(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Nf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>xs(async()=>{const{default:n}=await Promise.resolve().then(()=>mn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ax=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ir=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ur=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Rt=async(t,e)=>{await t.removeItem(e)};class to{constructor(){this.promise=new to.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}to.promiseConstructor=Promise;function Fo(t){const e=t.split(".");if(e.length!==3)throw new Ja("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!qg.test(e[n]))throw new Ja("JWT not in base64url format");return{header:JSON.parse(Au(e[0])),payload:JSON.parse(Au(e[1])),signature:tx(e[2]),raw:{header:e[0],payload:e[1]}}}async function lx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function cx(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function ux(t){return("0"+t.toString(16)).substr(-2)}function dx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,ux).join("")}async function hx(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function fx(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await hx(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tr(t,e,r=!1){const n=dx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ir(t,`${e}-code-verifier`,s);const i=await fx(n);return[i,n===i?"plain":"s256"]}const mx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function px(t){const e=t.headers.get(Ka);if(!e||!e.match(mx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function gx(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function xx(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zr(t){if(!vx.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ru(t){return JSON.parse(JSON.stringify(t))}var yx=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const fr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bx=[502,503,504];async function Iu(t){var e;if(!ax(t))throw new Ga(fr(t),0);if(bx.includes(t.status))throw new Ga(fr(t),t.status);let r;try{r=await t.json()}catch(i){throw new wf(fr(i),i)}let n;const s=px(t);if(s&&s.getTime()>=bf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Tu(fr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new It}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Tu(fr(r),t.status,r.weak_password.reasons);throw new Kg(fr(r),t.status||500,n)}const wx=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function M(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ka]||(i[Ka]=bf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await jx(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function jx(t,e,r,n,s,i){const a=wx(e,n,s,i);let l;try{l=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new Ga(fr(c),0)}if(l.ok||await Iu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Iu(c)}}function yt(t){var e;let r=null;Ex(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=sx(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Lu(t){const e=yt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Bt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _x(t){return{data:t,error:null}}function Nx(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=yx(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Sx(t){return t}function Ex(t){return t.access_token&&t.refresh_token&&t.expires_in}const Vo=["global","local","others"];var kx=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class Cx{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Nf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Vo[0]){if(Vo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vo.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Bt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=kx(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Nx,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Bt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Sx});if(h.error)throw h.error;const f=await h.json(),m=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);u[`${j}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){zr(e);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Bt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){zr(e);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Bt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){zr(e);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Bt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){zr(e.userId);try{const{data:r,error:n}=await M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(e){zr(e.userId),zr(e.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}}function Mu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Px(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Or={debug:!!(globalThis&&_f()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $x extends Sf{}async function Tx(t,e,r){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $x(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Or.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Px();const zx={url:Bg,storageKey:Vg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Uu(t,e,r){return await r()}const Ar={};class ds{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ds.nextInstanceID,ds.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},zx),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Cx({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Nf(s.fetch),this.lock=s.lock||Uu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:et()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Tx:this.lock=Uu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:_f()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Mu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Mu(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Ar[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Ar[this.storageKey]=Object.assign(Object.assign({},Ar[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Ar[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ar[this.storageKey]=Object.assign(Object.assign({},Ar[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=ox(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),et()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Qg(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?{error:r}:{error:new wf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:yt}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:h,password:f,options:m}=e;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await Tr(this.storage,this.storageKey)),i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:b},xform:yt})}else if("phone"in e){const{phone:h,password:f,options:m}=e;i=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:yt})}else throw new qs("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:l}=e;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lu})}else if("phone"in e){const{phone:i,password:a,options:l}=e;r=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lu})}else throw new qs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ws}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,a,l,c,u,h,f,m,p;let b,w;if("message"in e)b=e.message,w=e.signature;else{const{chain:j,wallet:v,statement:x,options:y}=e;let _;if(et())if(typeof v=="object")_=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let P;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")P=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)P=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)b=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),w=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(h=y==null?void 0:y.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:j,error:v}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:nx(w)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:yt});if(v)throw v;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Ws}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:v})}catch(j){if(I(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const r=await ur(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:yt});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ws}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(I(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,l=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:yt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ws}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Tr(this.storage,this.storageKey));const{error:f}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:h}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new qs("You must provide either an email or phone number.")}catch(l){if(I(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:yt});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Tr(this.storage,this.storageKey)),await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:_x})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new It;const{error:s}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await M(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:l}=await M(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new qs("You must provide either an email or phone number and a type")}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ur(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Uo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await ur(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Bo()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,h)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Bt}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Bt})})}catch(r){if(I(r))return Jg(r)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new It;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Tr(this.storage,this.storageKey));const{data:u,error:h}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Bt});if(h)throw h;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new It;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Fo(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(I(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:l}=r;if(l)throw l;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new It;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!et())throw new Hs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $u("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $u("No code detected.");const{data:x,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!a||!u)throw new Hs("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let m=h+f;c&&(m=parseInt(c));const p=m-h;p*1e3<=Rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const b=m-f;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,h);const{data:w,error:j}=await this._getUser(i);if(j)throw j;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:m,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(I(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ur(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(Gg(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=ix(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Tr(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,h;const{data:f,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return et()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(I(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await cx(async s=>(s>0&&await lx(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Do(i)&&Date.now()+a-n<Rr})}catch(n){if(this._debug(r,"error",n),I(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),et()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ur(this.storage,this.storageKey);if(s&&this.userStorage){let a=await ur(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Ir(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Bo()}else if(s&&!s.user&&!s.user){const a=await ur(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Rt(this.storage,this.storageKey+"-user"),await Ir(this.storage,this.storageKey,s)):s.user=Bo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Uo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Uo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Do(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new to;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new It;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),I(i)){const a={session:null,error:i};return Do(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ir(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Ru(s);await Ir(this.storage,this.storageKey,i)}else{const s=Ru(r);await Ir(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Rr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Rr}ms, refresh threshold is ${Ha} ticks`),s<=Ha&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Sf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Tr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await M(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await M(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:l}=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Fo(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Hg>s)return n;const{data:i,error:a}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return{data:null,error:b};n=p.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Fo(n);r!=null&&r.allowExpired||gx(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:a},error:null}}const h=xx(s.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,a,rx(`${l}.${c}`)))throw new Ja("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}}ds.nextInstanceID=0;const Ox=ds;class Ax extends Ox{constructor(e){super(e)}}var Rx=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(h){try{u(n.next(h))}catch(f){a(f)}}function c(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Ix{constructor(e,r,n){var s,i,a;this.supabaseUrl=e,this.supabaseKey=r;const l=Fg(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Tg,realtime:Og,auth:Object.assign(Object.assign({},zg),{storageKey:c}),global:$g},h=Dg(n??{},u);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=Lg(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Yp(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new kg(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Pp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Rx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:l,lock:c,debug:u},h,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ax({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new mg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Lx=(t,e,r)=>new Ix(t,e,r);function Mx(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Mx()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Oi="https://gfjwebngyzfftakbbmji.supabase.co",Ai="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdmandlYm5neXpmZnRha2JibWppIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgzMjI1MzEsImV4cCI6MjA3Mzg5ODUzMX0.niC_FqHiHZ4EMNW86VpXX_ouIVsxftfXV8JgZxuCBGE";console.log("🔍 Debug - Variables hardcodeadas:");console.log("URL:",Oi);console.log("ANON_KEY:",Ai.substring(0,20)+"...");console.log("✅ Variables configuradas correctamente");const Ux=Oi.includes("supabase.co")&&Ai.startsWith("eyJ")&&!Oi.includes("tu-proyecto")&&!Ai.includes("tu_clave_anonima");let R=null;if(Ux)try{R=Lx(Oi,Ai),console.log("[StreamZone] Supabase configurado correctamente")}catch(t){console.error("[StreamZone] Error configurando Supabase:",t),R=null}else console.warn("[StreamZone] Supabase no configurado. Para habilitar el guardado en la nube, crea .env.local con VITE_SUPABASE_URL y VITE_SUPABASE_ANON_KEY");const Dx=async t=>{if(!R)return console.warn("Supabase no configurado, no se puede crear usuario"),{data:null,error:new Error("Supabase no configurado")};try{const{data:e,error:r}=await R.from("users").insert([t]).select().single();if(r)throw r;return{data:e,error:null}}catch(e){return console.error("Error creating user:",e),{data:null,error:e}}},Fx=async t=>{if(!R)return console.warn("Supabase no configurado, no se puede obtener usuario"),{data:null,error:new Error("Supabase no configurado")};try{const{data:e,error:r}=await R.from("users").select("*").eq("phone",t).single();if(r&&r.code!=="PGRST116")throw r;return{data:e,error:null}}catch(e){return console.error("Error getting user by phone:",e),{data:null,error:e}}},Bx=async(t,e)=>{if(!R)return console.warn("Supabase no configurado, no se puede actualizar usuario"),{data:null,error:new Error("Supabase no configurado")};try{const{data:r,error:n}=await R.from("users").update(e).eq("id",t).select().single();if(n)throw n;return{data:r,error:null}}catch(r){return console.error("Error updating user:",r),{data:null,error:r}}},Du=async t=>{if(!R)return console.warn("Supabase no configurado, no se puede crear compra"),{data:null,error:new Error("Supabase no configurado")};try{const{data:e,error:r}=await R.from("purchases").insert([t]).select().single();if(r)throw r;return{data:e,error:null}}catch(e){return console.error("Error creating purchase:",e),{data:null,error:e}}},Vx=async t=>{if(!R)return console.warn("Supabase no configurado, no se pueden obtener compras"),{data:[],error:new Error("Supabase no configurado")};try{const{data:e,error:r}=await R.from("purchases").select("*").eq("phone",t).order("created_at",{ascending:!1});if(r)throw r;return{data:e,error:null}}catch(e){return console.error("Error getting user purchases:",e),{data:[],error:e}}},Wx=async(t,e)=>{try{const{data:r,error:n}=await R.from("purchases").update({validated:e}).eq("id",t).select().single();if(n)throw n;return{data:r,error:null}}catch(r){return console.error("Error updating purchase validation:",r),{data:null,error:r}}},qx=async(t,e)=>{try{const{data:r,error:n}=await R.from("purchases").update(e).eq("id",t).select().single();if(n)throw n;return{data:r,error:null}}catch(r){return console.error("Error updating purchase:",r),{data:null,error:r}}},Fu=async t=>{if(!R)return console.warn("Supabase no configurado, saltando sincronización de servicios"),{data:[],error:null};try{const{data:e,error:r}=await R.from("services").select("*");if(r)throw r;const n=new Map((e==null?void 0:e.map(i=>[i.name,i]))||[]),s=t.filter(i=>!n.has(i.name));if(s.length>0){const{data:i,error:a}=await R.from("services").insert(s.map(l=>({id:l.id,name:l.name,price:l.price,billing:l.billing,color:l.color,logo:l.logo}))).select();if(a)throw a;console.log(`Sincronizados ${s.length} servicios nuevos`)}return{data:s,error:null}}catch(e){return console.error("Error syncing services:",e),{data:[],error:e}}},Hx=async()=>{try{const{data:t,error:e}=await R.from("purchases").select(`
        *,
        users!purchases_phone_fkey (
          name,
          email
        )
      `).order("created_at",{ascending:!1});if(e)throw e;return{data:t,error:null}}catch(t){return console.error("Error getting all purchases:",t),{data:null,error:t}}},Kx=async(t,e,r,n,s)=>{if(!R)return console.warn("Supabase no configurado, no se puede aprobar compra"),{data:null,error:new Error("Supabase no configurado")};try{const{data:i,error:a}=await R.from("purchases").update({validated:!0,service_email:e,service_password:r,admin_notes:n,approved_by:s,approved_at:new Date().toISOString()}).eq("id",t).select().single();if(a)throw a;return{data:i,error:null}}catch(i){return console.error("Error approving purchase:",i),{data:null,error:i}}},Gx=async()=>{if(!R)return console.warn("Supabase no configurado, no se puede obtener compras pendientes"),{data:null,error:new Error("Supabase no configurado")};try{const{data:t,error:e}=await R.from("purchases").select(`
        *,
        users!purchases_phone_fkey (
          name,
          email
        )
      `).eq("validated",!1).order("created_at",{ascending:!1});if(e)throw e;return{data:t,error:null}}catch(t){return console.error("Error getting pending purchases:",t),{data:null,error:t}}},Jx=async t=>{if(!R)return console.warn("Supabase no configurado, no se puede obtener compras del usuario"),{data:null,error:new Error("Supabase no configurado")};try{const{data:e,error:r}=await R.from("purchases").select("*").eq("phone",t).eq("validated",!0).gte("end",new Date().toISOString().split("T")[0]).order("end",{ascending:!0});if(r)throw r;return{data:e,error:null}}catch(e){return console.error("Error getting user active purchases:",e),{data:null,error:e}}},Qx=async(t=7)=>{if(!R)return console.warn("Supabase no configurado, no se puede obtener servicios próximos a vencer"),{data:null,error:new Error("Supabase no configurado")};try{const{data:e,error:r}=await R.rpc("get_expiring_services",{days_ahead:t});if(r)throw r;return{data:e,error:null}}catch(e){return console.error("Error getting expiring services:",e),{data:null,error:e}}},Yx=async(t,e,r="system")=>{if(!R)return console.warn("Supabase no configurado, no se puede crear renovación"),{data:null,error:new Error("Supabase no configurado")};try{const{data:n,error:s}=await R.rpc("create_renewal",{purchase_uuid:t,renewal_months:e,admin_user:r});if(s)throw s;return{data:n,error:null}}catch(n){return console.error("Error creating renewal:",n),{data:null,error:n}}},Xx=async()=>{if(!R)return console.warn("Supabase no configurado, no se pueden obtener estadísticas"),{data:null,error:new Error("Supabase no configurado")};try{const{data:t,error:e}=await R.from("purchases").select("auto_renewal, is_renewal, end, validated");if(e)throw e;return{data:{totalPurchases:t.length,autoRenewalEnabled:t.filter(n=>n.auto_renewal).length,renewalPurchases:t.filter(n=>n.is_renewal).length,expiringThisWeek:t.filter(n=>{const s=new Date(n.end),i=new Date,a=new Date(i.getTime()+7*24*60*60*1e3);return s>=i&&s<=a&&n.validated}).length,expiredServices:t.filter(n=>new Date(n.end)<new Date&&n.validated).length},error:null}}catch(t){return console.error("Error getting renewal stats:",t),{data:null,error:t}}},Zx=async t=>{if(!R)return console.warn("Supabase no configurado, no se puede buscar usuario"),{data:null,error:new Error("Supabase no configurado")};try{const{data:e,error:r}=await R.from("users").select("*").eq("email",t.toLowerCase().trim()).single();if(r&&r.code!=="PGRST116")throw r;return{data:e,error:null}}catch(e){return console.error("Error buscando usuario por email:",e),{data:null,error:e}}},Ef=async t=>{if(!R)return console.warn("Supabase no configurado, no se puede generar token"),{data:null,error:new Error("Supabase no configurado")};try{if(!(await Zx(t)).data)return{data:null,error:{message:`No existe un usuario con el email: ${t}. Verifica que el email sea correcto o crea una cuenta primero.`}};const r=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),n=new Date(Date.now()+30*60*1e3),{data:s,error:i}=await R.from("users").update({reset_token:r,reset_token_expires:n.toISOString()}).eq("email",t.toLowerCase().trim()).select().single();if(i)throw i;return{data:{token:r,user:s},error:null}}catch(e){return console.error("Error generando token de recuperación:",e),{data:null,error:e}}},Xl=async t=>{if(!R)return console.warn("Supabase no configurado, no se puede verificar token"),{data:null,error:new Error("Supabase no configurado")};try{const{data:e,error:r}=await R.from("users").select("*").eq("reset_token",t).gt("reset_token_expires",new Date().toISOString()).single();if(r&&r.code!=="PGRST116")throw r;return{data:e,error:null}}catch(e){return console.error("Error verificando token:",e),{data:null,error:e}}},ev=async(t,e)=>{if(!R)return console.warn("Supabase no configurado, no se puede restablecer contraseña"),{data:null,error:new Error("Supabase no configurado")};try{if(!(await Xl(t)).data)return{data:null,error:{message:"Token inválido o expirado"}};const{data:n,error:s}=await R.from("users").update({password:e,reset_token:null,reset_token_expires:null}).eq("reset_token",t).select().single();if(s)throw s;return{data:n,error:null}}catch(r){return console.error("Error restableciendo contraseña:",r),{data:null,error:r}}},tv=async(t,e)=>{if(!R)return console.warn("Supabase no configurado, no se puede hacer login"),{data:null,error:new Error("Supabase no configurado")};try{const{data:r,error:n}=await R.from("users").select("*").eq("email",t.toLowerCase().trim()).eq("password",e).single();if(n&&n.code!=="PGRST116")throw n;return{data:r,error:null}}catch(r){return console.error("Error en login:",r),{data:null,error:r}}},Lt=[{id:"netflix",name:"Netflix",price:4,billing:"monthly",color:"bg-red-600",logo:"N"},{id:"disney_premium",name:"Disney+ Premium",price:3.75,billing:"monthly",color:"bg-blue-600",logo:"D+"},{id:"disney_standard",name:"Disney+ Standard",price:3.25,billing:"monthly",color:"bg-blue-500",logo:"D+"},{id:"max",name:"Max",price:3,billing:"monthly",color:"bg-purple-700",logo:"MAX"},{id:"vix",name:"ViX",price:2.5,billing:"monthly",color:"bg-orange-500",logo:"ViX"},{id:"prime",name:"Prime Video",price:3,billing:"monthly",color:"bg-sky-700",logo:"PV"},{id:"youtube_premium",name:"YouTube Premium",price:3.35,billing:"monthly",color:"bg-red-700",logo:"YT"},{id:"paramount",name:"Paramount+",price:2.75,billing:"monthly",color:"bg-indigo-600",logo:"P+"},{id:"chatgpt",name:"ChatGPT",price:4,billing:"monthly",color:"bg-zinc-800",logo:"GPT"},{id:"crunchy",name:"Crunchyroll",price:2.5,billing:"monthly",color:"bg-orange-600",logo:"CR"},{id:"spotify",name:"Spotify",price:3.5,billing:"monthly",color:"bg-emerald-600",logo:"SP"},{id:"deezer",name:"Deezer",price:3,billing:"monthly",color:"bg-blue-700",logo:"DZ"},{id:"apple_tv",name:"Apple TV+",price:3.5,billing:"monthly",color:"bg-neutral-900",logo:"ATV"},{id:"canva_pro",name:"Canva Pro",price:2,billing:"monthly",color:"bg-indigo-500",logo:"C"},{id:"canva_pro_annual",name:"Canva Pro (1 año)",price:17.5,billing:"annual",color:"bg-indigo-600",logo:"C"},{id:"microsoft365",name:"Microsoft 365 (1 año)",price:15,billing:"annual",color:"bg-blue-500",logo:"M365"},{id:"autodesk",name:"Autodesk (1 año)",price:12.5,billing:"annual",color:"bg-zinc-700",logo:"AD"},{id:"office365",name:"Office 365 (1 año)",price:15,billing:"annual",color:"bg-blue-600",logo:"O365"}],Wo=[{code:"+593",name:"Ecuador",flag:"🇪🇨"},{code:"+1",name:"Estados Unidos",flag:"🇺🇸"},{code:"+1",name:"Canadá",flag:"🇨🇦"},{code:"+52",name:"México",flag:"🇲🇽"},{code:"+54",name:"Argentina",flag:"🇦🇷"},{code:"+55",name:"Brasil",flag:"🇧🇷"},{code:"+56",name:"Chile",flag:"🇨🇱"},{code:"+57",name:"Colombia",flag:"🇨🇴"},{code:"+51",name:"Perú",flag:"🇵🇪"},{code:"+58",name:"Venezuela",flag:"🇻🇪"},{code:"+591",name:"Bolivia",flag:"🇧🇴"},{code:"+598",name:"Uruguay",flag:"🇺🇾"},{code:"+595",name:"Paraguay",flag:"🇵🇾"},{code:"+34",name:"España",flag:"🇪🇸"},{code:"+33",name:"Francia",flag:"🇫🇷"},{code:"+49",name:"Alemania",flag:"🇩🇪"},{code:"+39",name:"Italia",flag:"🇮🇹"},{code:"+44",name:"Reino Unido",flag:"🇬🇧"},{code:"+86",name:"China",flag:"🇨🇳"},{code:"+81",name:"Japón",flag:"🇯🇵"},{code:"+82",name:"Corea del Sur",flag:"🇰🇷"},{code:"+91",name:"India",flag:"🇮🇳"},{code:"+61",name:"Australia",flag:"🇦🇺"},{code:"+64",name:"Nueva Zelanda",flag:"🇳🇿"}],Ks=[{id:"netflix_disney_std",name:"Netflix + Disney Estándar",price:6,billing:"monthly",color:"bg-gradient-to-r from-red-600 to-blue-500",logo:"N+D"},{id:"netflix_disney_premium",name:"Netflix + Disney Premium",price:6.5,billing:"monthly",color:"bg-gradient-to-r from-red-600 to-blue-600",logo:"N+D+"},{id:"netflix_max",name:"Netflix + Max",price:5.5,billing:"monthly",color:"bg-gradient-to-r from-red-600 to-purple-700",logo:"N+MAX"},{id:"netflix_prime",name:"Netflix + Prime Video",price:5.5,billing:"monthly",color:"bg-gradient-to-r from-red-600 to-sky-700",logo:"N+PV"},{id:"prime_disney_std",name:"Prime Video + Disney Estándar",price:5.75,billing:"monthly",color:"bg-gradient-to-r from-sky-700 to-blue-500",logo:"PV+D"},{id:"disney_premium_max",name:"Disney Premium + Max",price:6,billing:"monthly",color:"bg-gradient-to-r from-blue-600 to-purple-700",logo:"D++MAX"},{id:"max_prime",name:"Max + Prime Video",price:5.5,billing:"monthly",color:"bg-gradient-to-r from-purple-700 to-sky-700",logo:"MAX+PV"},{id:"paramount_max_prime",name:"Paramount + Max + Prime Video",price:7,billing:"monthly",color:"bg-gradient-to-r from-indigo-600 via-purple-700 to-sky-700",logo:"P+MAX+PV"},{id:"mega_combo",name:"Netflix + Max + Disney + Prime + Paramount",price:11.5,billing:"monthly",color:"bg-gradient-to-r from-red-600 via-purple-700 via-blue-500 via-sky-700 to-indigo-600",logo:"MEGA"},{id:"spotify_netflix",name:"Spotify + Netflix",price:6.5,billing:"monthly",color:"bg-gradient-to-r from-emerald-600 to-red-600",logo:"SP+N"},{id:"spotify_disney_premium",name:"Spotify + Disney Premium",price:6.5,billing:"monthly",color:"bg-gradient-to-r from-emerald-600 to-blue-600",logo:"SP+D+"}],rv="+593984280334",nv="+593998799579",sv=[{email:"gualejeremi@gmail.com",role:"principal",canGenerateKeys:!1,canDeleteOthers:!0,isProtected:!0}],fe=t=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"USD"}).format(t),Ne={load(t,e){try{return JSON.parse(localStorage.getItem(t)||JSON.stringify(e))}catch{return e}},save(t,e){localStorage.setItem(t,JSON.stringify(e))},del(t){localStorage.removeItem(t)}};function iv(){return Math.random().toString(36).slice(2,10)}function oi(t,e){const r=new Date(t),s=new Date(e).getTime()-r.getTime();return Math.round(s/(1e3*60*60*24))}function kf(t,e){return`https://wa.me/${t}?text=${encodeURIComponent(e)}`}function d(t,e,r){return t?r:e}function De(t,e,r,n,s){return t?n:e&&s?s:r}const Qa=t=>{const e=new Date,n=new Date(t).getTime()-e.getTime();return Math.round(n/(1e3*60*60*24))},ov=t=>{const e=Qa(t);return e<0?{status:"expired",color:"red",icon:"❌",message:"Servicio Caducado"}:e===0?{status:"expires-today",color:"red",icon:"⚠️",message:"Caduca Hoy"}:{status:"active",color:"red",icon:"⏰",message:`${e} ${e===1?"día":"días"} restantes`}};function Zl(t){let e=String(t||"").replace(/[^\d+]/g,"");return e&&!e.startsWith("+")&&e.startsWith("0")?e="+593"+e.substring(1):e&&!e.startsWith("+")&&e.length>=9&&(e="+593"+e),e}function av(t){return/.+@.+\..+/.test(t)}function qo({className:t="h-9 w-9"}){return o.jsxs("svg",{viewBox:"0 0 64 64",className:t,"aria-label":"StreamZone logo",role:"img",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"szg",x1:"0",y1:"0",x2:"1",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:"#ef4444"}),o.jsx("stop",{offset:"100%",stopColor:"#8b5cf6"})]})}),o.jsx("rect",{x:"0",y:"0",width:"64",height:"64",rx:"14",fill:"url(#szg)"}),o.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Inter,system-ui,Arial",fontSize:"26",fontWeight:"700",fill:"#ffffff",children:"SZ"})]})}function lv(t,e){return{answer:async(n,s=[])=>{var c,u,h;const i=n.toLowerCase().trim();if([...s,i].join(" "),console.log("Chatbot recibió:",i),console.log("Servicios disponibles:",t.length),console.log("Combos disponibles:",e.length),/hola|buenas|hey|hi|hello|buenos|buenas tardes|buenas noches|buenos días/.test(i))return`¡Hola! Bienvenido a StreamZone. Soy su asistente especializado en streaming. Puedo ayudarle con:

💰 Ver precios - Catálogo completo de servicios
🎯 Combos especiales - Grandes ahorros
📺 Contenido disponible - Por plataforma
🛒 Cómo comprar - Proceso paso a paso
📱 Información de cuentas - Dispositivos y perfiles
🔐 Recuperar contraseña - Si olvidó su acceso
💳 Métodos de pago - Información bancaria
🛠️ Soporte técnico - Ayuda y problemas

Comandos rápidos:
• Escriba "ver precios" para el catálogo
• Escriba "combos" para ofertas especiales
• Escriba "cómo comprar" para el proceso
• Escriba "métodos de pago" para información bancaria

¿En qué puedo ayudarle?`;if(/olvide|olvidé|contraseña|password|recuperar|reset|resetear/.test(i))return`🔐 RECUPERACIÓN DE CONTRASEÑA

No se preocupe, puedo ayudarle a recuperar su contraseña.

Proporcione su email y le generaré un código de recuperación.

Ejemplo: miemail@gmail.com

Importante: El código se mostrará aquí en el chat, no se envía por email.

¿Cuál es su email registrado?`;if(/@.*\./.test(i)&&!/netflix|disney|hbo|amazon|spotify/.test(i)){const f=i.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/);if(f){const m=f[1];try{console.log("🔍 Chatbot generando token para:",m);const p=await Ef(m);return console.log("🔍 Chatbot resultado completo:",p),console.log("🔍 Token generado:",(c=p.data)==null?void 0:c.token),console.log("🔍 Usuario:",(u=p.data)==null?void 0:u.user),p.data?`🔐 **¡CÓDIGO GENERADO EXITOSAMENTE!** ✅

📧 Email: ${m}
🔑 **Tu código de recuperación:**

**${p.data.token}**

📋 **Instrucciones:**
1. Ve a "Iniciar sesión" → "¿Olvidaste tu contraseña?"
2. Ingresa tu email: ${m}
3. Copia y pega este código: **${p.data.token}**
4. Crea tu nueva contraseña

⏰ **El código expira en 30 minutos**

💡 ¡Guarda este código en un lugar seguro!`:(console.log("🔍 Error en resultado:",p.error),`❌ **Error generando código**

📧 Email: ${m}
🚫 ${((h=p.error)==null?void 0:h.message)||"Error desconocido"}

💡 **Posibles causas:**
• El email no está registrado
• Problema de conexión

🔧 **Solución:**
• Verifica que el email sea correcto
• Intenta crear una cuenta nueva si no tienes una`)}catch(p){return console.log("🔍 Chatbot error en catch:",p),`❌ **Error en el proceso**

📧 Email: ${m}
🚫 Error: ${p}

💡 Intenta de nuevo o contacta soporte.`}}}if(/recomendar|recomendación|recomendaciones|qué|que ver|mejor|sugerir|cuál|que plataforma|anime|familia|marvel|star wars|hbo|blockbuster|presupuesto bajo|dame|quiero ver|ayuda|opciones/.test(i))return/anime|manga|japonés|japones/.test(i)?`🎌 Para ANIME te recomiendo:

1️⃣ **Crunchyroll** - El catálogo más grande de anime
   Ejemplos: Attack on Titan, Demon Slayer, Jujutsu Kaisen

2️⃣ **Netflix** - Anime original y clásicos
   Ejemplos: Naruto, One Piece, Castlevania

💡 ¿Prefieres anime clásico o series nuevas?`:/familia|niños|kids|disney|marvel|star wars|pixar/.test(i)?`👨‍👩‍👧‍👦 Para CONTENIDO FAMILIAR te recomiendo:

1️⃣ **Disney+** - Marvel, Star Wars, Pixar
   Ejemplos: Loki, The Mandalorian, Encanto

2️⃣ **Combo Netflix + Disney+** - $6/mes (¡Ahorro!) 💰

🎭 ¿Buscas contenido para adultos o toda la familia?`:/hbo|warner|premiadas|premios|calidad|premium/.test(i)?`🏆 Para SERIES PREMIUM te recomiendo:

1️⃣ **Max (HBO)** - Contenido de alta calidad
   Ejemplos: House of the Dragon, The Last of Us, Succession

2️⃣ **Combo Max + Prime Video** - $5.50/mes

🎬 ¿Te gustan las series dramáticas o prefieres acción?`:/blockbuster|películas|peliculas|acción|accion|superhéroes/.test(i)?`🎬 Para BLOCKBUSTERS te recomiendo:

1️⃣ **Prime Video** - Películas + canales
   Ejemplos: The Boys, Jack Ryan, Fast & Furious

2️⃣ **Netflix** - Originales y éxitos
   Ejemplos: Stranger Things, The Witcher, Extraction

💥 ¿Prefieres películas de acción o series?`:/presupuesto bajo|barato|económico|economico|combo|ahorro/.test(i)?`💰 Para PRESUPUESTO BAJO te recomiendo:

1️⃣ **Netflix + Disney+** - $6/mes (¡50% descuento!)
2️⃣ **Netflix + Max** - $5.50/mes
3️⃣ **Prime Video + Disney+** - $5.75/mes

🎯 Todos incluyen: 1 perfil + 1 dispositivo
💡 ¿Cuánto quieres gastar al mes?`:`🎯 Te recomiendo estas opciones populares:

`+t.slice(0,3).map((m,p)=>`${p+1}️⃣ **${m.name}** - ${fe(m.price)}/${m.billing==="annual"?"año":"mes"}
   ${Bu(m.id)}`).join(`

`)+`

🤔 ¿Qué tipo de contenido te gusta más? (anime, familia, acción, etc.)`;if(/película|pelicula|serie|contenido|qué hay|que hay|disponible|ver|catálogo|catalogo/.test(i))return/netflix/.test(i)?`📺 **NETFLIX** - Catálogo completo:

🎬 **Series Originales:**
• Stranger Things, The Crown, La Casa de Papel
• Bridgerton, Ozark, The Witcher
• Wednesday, Dahmer, Money Heist

🎭 **Géneros:** Drama, Thriller, Comedia, Documentales
🌍 **Países:** Disponible en Ecuador y Latinoamérica

💡 ¿Te interesa algún género específico?`:/disney/.test(i)?`🏰 **DISNEY+** - Catálogo completo:

🦸 **Marvel:** Loki, WandaVision, Hawkeye, Moon Knight
⭐ **Star Wars:** The Mandalorian, Obi-Wan Kenobi
🎨 **Pixar:** Soul, Luca, Turning Red
🏰 **Disney Clásico:** Frozen, Moana, Encanto

👨‍👩‍👧‍👦 **Perfecto para:** Familias, fans de Marvel/Star Wars

🎯 ¿Buscas contenido para niños o adultos?`:/max|hbo/.test(i)?`👑 **MAX (HBO)** - Contenido Premium:

🐉 **Series Épicas:** Game of Thrones, House of the Dragon
🎮 **Videojuegos:** The Last of Us, Arcane
💼 **Drama:** Succession, Euphoria, White Lotus
🎬 **Películas:** Batman, Dune, Matrix

🏆 **Calidad:** 4K, HDR, Dolby Atmos

🎭 ¿Prefieres series dramáticas o películas épicas?`:/prime/.test(i)?`📦 **PRIME VIDEO** - Exclusivas + Beneficios:

🦸 **Originales:** The Boys, The Marvelous Mrs. Maisel
🎬 **Blockbusters:** Jack Ryan, Tom Clancy's
📚 **Beneficios Extra:** Envío gratis Amazon

🌍 **Disponibilidad:** Ecuador, Latinoamérica
💰 **Valor:** Incluye envíos de Amazon

🛒 ¿Te interesan las exclusivas o los beneficios de Amazon?`:/spotify/.test(i)?`🎵 **SPOTIFY** - Música Sin Límites:

🎶 **Música:** 100M+ canciones
🎧 **Podcasts:** Joe Rogan, Serial, Crime Junkie
🎤 **Audiolibros:** Harry Potter, El Principito

📱 **Dispositivos:** Móvil, PC, TV, Auto
🎯 **Perfecto para:** Música, podcasts, audiolibros

🎧 ¿Prefieres música, podcasts o audiolibros?`:`📺 **CATÁLOGOS DISPONIBLES:**

🎬 **Netflix:** Series originales, thrillers, documentales
🏰 **Disney+:** Marvel, Star Wars, Pixar, Disney clásico
👑 **Max:** HBO premium, Game of Thrones, películas épicas
📦 **Prime Video:** Exclusivas, blockbusters + Amazon
🎵 **Spotify:** Música, podcasts, audiolibros

🤔 ¿Qué plataforma te interesa más?`;if(/dónde ver|donde ver|donde puedo ver|buscar|encontrar/.test(i)){const f=[{name:"Stranger Things",platforms:["Netflix"]},{name:"The Mandalorian",platforms:["Disney+"]},{name:"House of the Dragon",platforms:["Max"]},{name:"The Boys",platforms:["Prime Video"]},{name:"Loki",platforms:["Disney+"]},{name:"The Last of Us",platforms:["Max"]},{name:"Bridgerton",platforms:["Netflix"]},{name:"The Witcher",platforms:["Netflix"]}];for(const m of f)if(i.includes(m.name.toLowerCase()))return`🎬 **${m.name}** está disponible en:

${m.platforms.map(p=>`📺 **${p}**`).join(`
`)}

💡 **¿Sabías que?** Una cuenta = 1 perfil + 1 dispositivo
💰 **Precio:** ${m.platforms.map(p=>{const b=t.find(w=>w.name.toLowerCase().includes(p.toLowerCase()));return b?`${p}: ${fe(b.price)}/mes`:""}).filter(Boolean).join(", ")}

🎯 ¿Te interesa alguna de estas plataformas?`;return`🔍 **BÚSQUEDA DE TÍTULOS:**

Puedo ayudarte a encontrar:
• Stranger Things → Netflix
• The Mandalorian → Disney+
• House of the Dragon → Max
• The Boys → Prime Video
• Loki → Disney+
• The Last of Us → Max

📝 **Escribe el nombre del título** que buscas y te diré dónde verlo

🎯 ¿Qué película o serie te interesa?`}if(/cuenta|perfil|dispositivo|device|cuántos|cuantos|compartir|usuarios|como funciona|funciona|incluye|que incluye/.test(i))return`📱 **INFORMACIÓN IMPORTANTE SOBRE CUENTAS:**

✅ **1 Cuenta = 1 Perfil + 1 Dispositivo**
📺 **Dispositivos soportados:** TV, móvil, tablet, PC
👤 **Perfiles:** Cada cuenta tiene su perfil personalizado

🔒 **Reglas de uso:**
• No compartir con otras personas
• Solo en un dispositivo a la vez
• Acceso 24/7 garantizado

💡 **¿Necesitas múltiples dispositivos?** Considera comprar varias cuentas

🎯 ¿Tienes alguna pregunta específica sobre el uso?`;if(i.includes("ver precios")||i.includes("precios")||i.includes("precio")||i.includes("cuanto")||i.includes("cuánto")||i.includes("costo")||i.includes("valor")||i.includes("vale")||i.includes("tarifas")||i.includes("listado")||i.includes("lista")){if(console.log("Detectado: consulta de precios"),i.includes("ver precios")||i.includes("listado")||i.includes("lista")||i.includes("tarifas")){console.log("Ejecutando respuesta de VER PRECIOS");const f=t.slice(0,8).map((b,w)=>`${w+1}️⃣ ${b.name} - ${fe(b.price)}/${b.billing==="annual"?"año":"mes"}`).join(`
`),m=e.slice(0,3).map((b,w)=>`${w+1}️⃣ ${b.name} - ${fe(b.price)}/mes (Ahorro significativo)`).join(`
`),p=`💰 CATÁLOGO DE PRECIOS - STREAMZONE

SERVICIOS INDIVIDUALES:
${f}

🎯 COMBOS RECOMENDADOS (Más Económicos):
${m}

Los combos le beneficiarán más ya que salen más baratos que comprar cuentas sueltas. Por ejemplo, un combo de 2 servicios por $6.50/mes es más económico que pagar $4.00 + $3.50 por separado.

¿Qué incluye cada servicio?
• 1 perfil personalizado
• 1 dispositivo simultáneo
• Acceso completo a todo el contenido
• Soporte técnico 24/7

Para realizar compras, debe enviar mensaje a nuestros agentes para validar la compra.

¿Le interesa algún servicio o combo específico?`;return console.log("Respuesta generada:",p),p}for(const f of t)if(i.includes(f.id.toLowerCase())||i.includes(f.name.toLowerCase()))return`💰 ${f.name}

Precio: ${fe(f.price)}/${f.billing==="annual"?"año":"mes"}
Incluye: 1 perfil + 1 dispositivo
Perfecto para: ${Bu(f.id)}

Para proceder con la compra, debe enviar mensaje a nuestros agentes para validar la compra.

¿Le interesa este servicio o prefiere ver nuestros combos más económicos?`;return`💰 PRECIOS ACTUALES:

${t.slice(0,6).map((f,m)=>`${m+1}️⃣ ${f.name} - ${fe(f.price)}/${f.billing==="annual"?"año":"mes"}`).join(`
`)}

Especifique una plataforma para más detalles.
¿Busca descuentos? Pregunte por nuestros combos especiales.

Para realizar compras, debe enviar mensaje a nuestros agentes para validar la compra.`}return i.includes("combo")||i.includes("combos")||i.includes("descuento")||i.includes("ahorro")||i.includes("barato")||i.includes("ofertas")||i.includes("especiales")?(console.log("Detectado: consulta de combos"),`🎯 COMBOS ESPECIALES - Grandes Ahorros

${e.slice(0,5).map((m,p)=>`${p+1}️⃣ ${m.name} - ${fe(m.price)}/mes (Ahorro significativo)`).join(`
`)}

Los combos le beneficiarán más ya que salen más baratos que comprar cuentas sueltas. Por ejemplo, un combo de 2 servicios por $6.50/mes es más económico que pagar los servicios por separado.

Todos incluyen:
• 1 perfil personalizado
• 1 dispositivo simultáneo
• Acceso completo a todo el contenido
• Soporte técnico 24/7

Activación: Inmediata tras pago
Métodos de pago: Banco, PayPal, móvil

Para realizar compras, debe enviar mensaje a nuestros agentes para validar la compra.

¿Cuál le interesa más?`):/contenido|que hay|que tiene|series|películas|documentales|disponible|que puedo ver|que ofrece/.test(i)?`📺 **CONTENIDO DISPONIBLE POR PLATAFORMA:** 📺

🎬 **Netflix:** Series originales, thrillers, documentales
🏰 **Disney+:** Marvel, Star Wars, Pixar, Disney clásico
👑 **Max:** HBO premium, Game of Thrones, películas épicas
📦 **Prime Video:** Exclusivas, blockbusters + Amazon
🎵 **Spotify:** Música, podcasts, audiolibros

🎯 **¿Qué plataforma te interesa más?** Te doy detalles específicos
💡 **¿Buscas algo en particular?** Dime el título o género

🛒 **¿Listo para disfrutar?** Te ayudo con la compra`:i.includes("como compro")||i.includes("como comprar")||i.includes("cómo comprar")||i.includes("proceso")||i.includes("pasos")||i.includes("quiero comprar")||i.includes("necesito comprar")||i.includes("como hago")||i.includes("como puedo")||i.includes("como pago")||i.includes("donde compro")?(console.log("Detectado: consulta de proceso de compra"),`🛒 CÓMO COMPRAR - Proceso Simple:

1️⃣ Seleccione su plataforma favorita
2️⃣ Haga clic en 'Comprar Ahora'
3️⃣ Complete sus datos (nombre, email, teléfono)
4️⃣ Elija método de pago (banco, PayPal, móvil)
5️⃣ Realice el pago
6️⃣ Envíe comprobante por WhatsApp
7️⃣ Reciba acceso inmediato

Tiempo total: 5-10 minutos
Garantía: 24/7 soporte técnico
Métodos aceptados: Todos los bancos, PayPal

IMPORTANTE: Para realizar compras, debe enviar mensaje a nuestros agentes para validar la compra.

¿Necesita ayuda con algún paso específico?`):i.includes("metodo")||i.includes("metodos")||i.includes("pago")||i.includes("transferencia")||i.includes("deposito")||i.includes("efectivo")||i.includes("forma de pago")||i.includes("banco")||i.includes("paypal")||i.includes("pago móvil")||i.includes("como pago")||i.includes("donde pago")||i.includes("donde deposito")||i.includes("transferir")?(console.log("Detectado: consulta de métodos de pago"),`💳 MÉTODOS DE PAGO ACEPTADOS:

BANCOS ECUATORIANOS:
• Banco Pichincha
  Tipo de cuenta: Ahorro Transaccional
  Número: 2209034638
  Titular: Jeremias Guale Santana

• Banco Guayaquil
  Tipo de cuenta: Ahorros
  Número: 0122407273
  Titular: Jeremias Joel Guale Santana

• Banco Pacífico
  Tipo de cuenta: Ahorros
  Número: 1061220256
  Titular: Byron Guale Santana

DIGITALES:
• PayPal: guale2023@outlook.com
• Pago móvil (todas las operadoras)

100% SEGURO: Todos los pagos están protegidos
IMPORTANTE: Debe enviar comprobante por WhatsApp para activación

Para realizar compras, debe enviar mensaje a nuestros agentes para validar la compra.

¿Prefiere pago bancario o digital?`):i.includes("problema")||i.includes("error")||i.includes("no funciona")||i.includes("no me funciona")||i.includes("ayuda")||i.includes("soporte")||i.includes("técnico")||i.includes("falla")||i.includes("bug")||i.includes("lento")||i.includes("cuelga")?(console.log("Detectado: consulta de soporte técnico"),`🛠️ **SOPORTE TÉCNICO - ESTAMOS AQUÍ PARA AYUDARTE** 🛠️

🔧 **Problemas comunes y soluciones:**

📱 **Si tu cuenta no funciona:**
• Verifica tu email y contraseña
• Intenta cerrar y abrir la app
• Reinicia tu dispositivo

🌐 **Si hay problemas de conexión:**
• Verifica tu internet
• Prueba con datos móviles
• Reinicia el router

⏰ **Si es lento:**
• Cierra otras apps
• Actualiza la app
• Reinicia el dispositivo

📞 **¿Necesitas ayuda directa?**
• WhatsApp: +593 98 428 0334
• Disponible 24/7

💡 **Describe tu problema** y te ayudo específicamente`):i.includes("cuando")||i.includes("tiempo")||i.includes("activa")||i.includes("activacion")||i.includes("activación")||i.includes("cuanto tarda")||i.includes("cuánto tarda")||i.includes("inmediato")||i.includes("rápido")?(console.log("Detectado: consulta de tiempo de activación"),`⚡ **TIEMPO DE ACTIVACIÓN - SÚPER RÁPIDO** ⚡

🚀 **Activación inmediata:**
• Recibes credenciales en 5-10 minutos
• Máximo 30 minutos en casos excepcionales
• Activación automática tras confirmar pago

📱 **Proceso:**
1️⃣ Realizas el pago
2️⃣ Envías comprobante por WhatsApp
3️⃣ Recibes credenciales al instante
4️⃣ ¡Disfrutas tu contenido!

⏰ **Horarios de atención:**
• Lunes a Domingo: 24/7
• WhatsApp: +593 98 428 0334

💡 **¿Ya pagaste?** Envía tu comprobante ahora`):i.includes("garantia")||i.includes("garantía")||i.includes("seguro")||i.includes("seguridad")||i.includes("confiable")||i.includes("confianza")||i.includes("reembolso")||i.includes("dinero de vuelta")?(console.log("Detectado: consulta de garantía"),`🛡️ **GARANTÍA Y SEGURIDAD - 100% CONFIABLE** 🛡️

✅ **Nuestra garantía:**
• Cuentas 100% legítimas y funcionales
• Soporte técnico 24/7
• Reemplazo inmediato si hay problemas
• Sin preguntas, sin complicaciones

🔒 **Tu seguridad:**
• Pagos protegidos y seguros
• Datos personales protegidos
• No almacenamos información sensible
• Transacciones encriptadas

💯 **Compromiso:**
• Si no funciona, te damos otra cuenta
• Si hay problemas, los solucionamos
• Siempre disponibles para ayudarte

📞 **Contacto directo:**
• WhatsApp: +593 98 428 0334
• Respuesta en menos de 5 minutos`):/combo|combos|especial|oferta/.test(i)?`🎯 **COMBOS ESPECIALES DISPONIBLES:**

${e.slice(0,4).map((m,p)=>`${p+1}️⃣ **${m.name}**
   💰 ${fe(m.price)}/mes
   🎁 Ahorro del ${Math.round((1-m.price/10)*100)}%
   📱 1 perfil + 1 dispositivo`).join(`

`)}

✨ **Beneficios:** Mayor ahorro, múltiples plataformas
🚀 **Activación:** Inmediata tras pago

💡 ¿Te interesa algún combo específico?`:/contacto|whatsapp|hablar|agente|soporte|ayuda|telefono|problema|error|no funciona|garantia/.test(i)?`👨‍💼 **SOPORTE 24/7 DISPONIBLE:**

📱 **Agente Principal:** +593 98 428 0334 (Jeremi)
📞 **Agente Soporte:** +593 99 879 9579

⚡ **Tiempo de respuesta:** Menos de 30 minutos
🔧 **Resolución:** 24 horas máximo
✅ **Garantía:** 100% satisfacción o reembolso

💬 **WhatsApp directo** para consultas rápidas
🎯 ¿Qué problema específico tienes?`:/streaming|plataforma|app|aplicación|servicio/.test(i)?`🎬 **STREAMZONE - TU MEJOR OPCIÓN EN STREAMING:**

✨ **Plataformas Premium:** Netflix, Disney+, Max, Prime Video, Spotify
🚀 **Activación:** Inmediata tras pago
📱 **Soporte:** 24/7 WhatsApp
🔒 **Seguridad:** Cuentas 100% legales
💰 **Precios:** Los más competitivos del mercado

🎯 **¿Por qué elegirnos?**
• Sin publicidad
• Calidad 4K
• Múltiples dispositivos
• Soporte técnico incluido

💡 ¿Qué plataforma te interesa más?`:/calidad|4k|hd|ultra|hdr|dolby|audio|subs|subtítulos|idioma/.test(i)?`🎥 **CALIDAD Y CARACTERÍSTICAS:**

📺 **Calidades disponibles:**
• 4K Ultra HD (donde esté disponible)
• HDR10 y Dolby Vision
• Dolby Atmos (audio premium)

🌍 **Idiomas:**
• Audio: Español, inglés, portugués
• Subtítulos: Múltiples idiomas
• Doblaje: Latino y España

📱 **Dispositivos compatibles:**
• Smart TV, móvil, tablet, PC
• Chromecast, Apple TV, Roku

🎯 ¿Tienes alguna preferencia específica de calidad?`:/gracias|bye|adios|chao|hasta luego|nos vemos/.test(i)?`¡De nada! 😊 Ha sido un placer ayudarte. Si necesitas algo más, no dudes en contactarnos. ¡Que disfrutes mucho de tu streaming! 🎬✨

💡 **Recuerda:** Nuestros agentes están disponibles 24/7
📱 **WhatsApp:** +593 98 428 0334

¡Hasta pronto! 👋`:i.split(" ").some(f=>["netflix","disney","max","hbo","prime","spotify","streaming","película","serie","música"].includes(f.toLowerCase()))?`🎬 Veo que mencionas contenido de streaming. Te puedo ayudar con:

📺 **Información sobre plataformas:**
• Netflix, Disney+, Max, Prime Video, Spotify
• Catálogos completos y precios
• Recomendaciones personalizadas

🔍 **¿Qué te interesa más?**
• Ver precios de una plataforma específica
• Saber qué contenido tiene cada una
• Encontrar títulos específicos

💡 **Ejemplo:** '¿Qué hay en Netflix?' o '¿Cuánto cuesta Disney+?'`:`No estoy seguro de entender exactamente qué necesita. Pero puedo ayudarle.

Comandos que sí entiendo:
• "ver precios" - Catálogo completo de servicios
• "combos" - Ofertas especiales con descuentos
• "cómo comprar" - Proceso paso a paso
• "contenido" - Qué hay en cada plataforma
• "recuperar contraseña" - Si olvidó su acceso
• "soporte" - Ayuda técnica y problemas
• "garantía" - Información de seguridad
• "activación" - Tiempo de entrega
• "métodos de pago" - Información bancaria

También puede preguntar por:
• Una plataforma específica (Netflix, Disney+, etc.)
• Precios individuales
• Información sobre cuentas
• Métodos de pago
• Problemas técnicos
• Tiempo de activación

¿Qué le interesa más? Estoy aquí para ayudarle.`}}}function Bu(t){return{netflix:"Series originales, thrillers, documentales",disney:"Marvel, Star Wars, Pixar, familias",max:"HBO premium, series épicas, películas",prime:"Exclusivas, blockbusters, Amazon",spotify:"Música, podcasts, audiolibros",paramount:"Paramount, Nickelodeon, MTV",apple:"Originales Apple, 4K premium"}[t]||"Contenido premium de calidad"}function Vu({children:t,isDark:e}){return o.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ring-1 ring-inset ${d(e,"bg-zinc-100 text-zinc-700 ring-zinc-200","bg-zinc-800 text-zinc-200 ring-zinc-700")}`,children:t})}function cv({s:t,onReserve:e,isDark:r}){return o.jsxs("div",{className:`group relative overflow-hidden rounded-3xl border-2 p-6 shadow-xl transition-all duration-300 hover:shadow-2xl hover:scale-105 hover:-translate-y-2 ${d(r,"border-gray-200 bg-gradient-to-br from-white to-gray-50","border-gray-700 bg-gradient-to-br from-zinc-800 to-zinc-900")}`,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsxs("div",{className:"relative text-center",children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx("div",{className:`h-16 w-16 md:h-20 md:w-20 ${t.color} rounded-3xl text-white grid place-content-center text-2xl md:text-3xl font-bold mx-auto mb-4 shadow-2xl group-hover:scale-110 transition-transform duration-300`,children:t.logo}),o.jsx("div",{className:`absolute -top-2 -right-2 w-6 h-6 rounded-full ${d(r,"bg-green-500","bg-green-400")} flex items-center justify-center text-white text-xs font-bold animate-pulse`,children:"✓"})]}),o.jsxs("div",{className:"mb-6 space-y-2",children:[o.jsx("div",{className:d(r,"text-gray-900 font-bold text-lg md:text-xl mb-2","text-white font-bold text-lg md:text-xl mb-2"),children:t.name}),o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("span",{className:d(r,"text-3xl md:text-4xl font-bold text-gray-700","text-3xl md:text-4xl font-bold text-gray-200"),children:fe(t.price)}),o.jsxs("span",{className:d(r,"text-sm text-gray-500","text-sm text-gray-400"),children:["/",t.billing==="annual"?"año":"mes"]})]}),o.jsxs("div",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold ${d(r,"bg-green-100 text-green-700","bg-green-900/30 text-green-300")}`,children:[o.jsx("span",{children:"⚡"}),"Acceso inmediato"]})]}),o.jsx("button",{onClick:()=>e(t),className:`w-full rounded-2xl px-6 py-4 text-sm font-bold transition-all duration-200 shadow-lg hover:shadow-xl ${d(r,"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700","bg-gradient-to-r from-blue-700 to-purple-700 text-white hover:from-blue-800 hover:to-purple-800")}`,children:o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx("span",{children:"🚀"}),"Comprar Ahora",o.jsx("span",{children:"✨"})]})})]})]})}function uv({open:t,onClose:e,children:r,title:n,isDark:s,className:i}){return t?o.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/50 p-4",onClick:e,children:o.jsxs("div",{className:`w-full max-w-lg rounded-2xl p-6 shadow-2xl ${d(s,"bg-white","bg-zinc-900")} ${i||""}`,onClick:a=>a.stopPropagation(),children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold",children:n}),o.jsx("button",{onClick:e,className:`w-8 h-8 rounded-full flex items-center justify-center text-lg font-bold transition-colors ${d(s,"text-zinc-500 hover:text-zinc-700 hover:bg-zinc-100","text-zinc-300 hover:text-zinc-100 hover:bg-zinc-800")}`,children:"×"})]}),r]})}):null}function dv({answerFn:t,isDark:e}){const[r,n]=N.useState(!1),[s,i]=N.useState([{role:"bot",text:"¡Hola! 👋 ¡Bienvenido a StreamZone! 🎬✨ Soy tu asistente especializado en streaming. ¿En qué puedo ayudarte hoy?"}]),[a,l]=N.useState(""),[c,u]=N.useState(!1),[h,f]=N.useState([]),m=async()=>{const b=a.trim();if(b){i(w=>[...w,{role:"user",text:b}]),l(""),u(!0),f(w=>[...w.slice(-3),b.toLowerCase()]);try{const w=await t(b,h);i(j=>[...j,{role:"bot",text:w}])}catch(w){console.error("Error en chatbot:",w),i(j=>[...j,{role:"bot",text:"❌ Lo siento, hubo un error. Por favor intenta de nuevo."}])}finally{u(!1)}}},p=b=>b.split(`
`).map((w,j)=>o.jsxs("span",{children:[w,j<b.split(`
`).length-1&&o.jsx("br",{})]},j));return o.jsxs(o.Fragment,{children:[o.jsx("button",{"data-chat-button":!0,onClick:()=>n(!r),className:`fixed bottom-5 right-5 z-40 rounded-full px-6 py-4 shadow-2xl transition-all duration-300 hover:scale-110 animate-pulse ${d(e,"bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 text-white hover:from-purple-700 hover:via-pink-700 hover:to-blue-700","bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white hover:from-blue-600 hover:via-purple-600 hover:to-pink-600")}`,children:o.jsxs("span",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl animate-bounce",children:"💬"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-bold text-sm",children:"¿Necesitas ayuda?"}),o.jsx("div",{className:"text-xs opacity-90",children:"Chat en vivo"})]})]})}),r&&o.jsxs("div",{className:`fixed bottom-20 right-5 z-40 w-96 rounded-2xl border shadow-2xl transition-all duration-300 ${d(e,"border-gray-300 bg-white shadow-gray-200","border-zinc-700 bg-zinc-900")}`,children:[o.jsxs("div",{className:`rounded-t-2xl border-b p-4 font-semibold flex items-center gap-2 ${d(e,"bg-gradient-to-r from-blue-100 to-purple-100 border-gray-300 text-gray-800","bg-gradient-to-r from-purple-900/20 to-blue-900/20 border-zinc-700")}`,children:[o.jsx("span",{className:"text-xl",children:"🤖"}),o.jsx("span",{className:d(e,"text-gray-800","text-white"),children:"Asistente StreamZone"}),o.jsx("div",{className:`ml-auto w-3 h-3 rounded-full ${d(e,"bg-green-500","bg-green-500")}`})]}),o.jsxs("div",{className:"p-4 h-96 overflow-y-auto flex flex-col gap-3",children:[s.map((b,w)=>o.jsx("div",{className:b.role==="bot"?"self-start":"self-end",children:o.jsx("div",{className:`max-w-[90%] rounded-2xl px-4 py-3 text-sm leading-relaxed ${b.role==="bot"?d(e,"bg-gradient-to-br from-blue-100 to-purple-100 text-gray-800 border border-blue-200 shadow-sm","bg-gradient-to-br from-blue-900/30 to-purple-900/30 text-zinc-100 border border-blue-700/30"):d(e,"bg-gradient-to-br from-purple-600 to-blue-600 text-white shadow-md","bg-gradient-to-br from-purple-500 to-blue-600 text-white")}`,children:p(b.text)})},w)),c&&o.jsx("div",{className:"self-start",children:o.jsx("div",{className:`max-w-[90%] rounded-2xl px-4 py-3 text-sm ${d(e,"bg-gray-100 text-gray-700 border border-gray-200","bg-zinc-800 text-zinc-300")}`,children:o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{children:"Escribiendo"}),o.jsx("span",{className:"animate-pulse",children:"..."})]})})}),s.length<=1&&o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["🎯 Recomiéndame algo","💰 Ver precios","📺 ¿Qué hay en Netflix?","🛒 ¿Cómo compro?"].map((b,w)=>o.jsx("button",{onClick:()=>l(b),className:`px-3 py-2 rounded-full text-xs font-medium transition-all hover:scale-105 ${d(e,"bg-zinc-100 text-zinc-700 hover:bg-zinc-200","bg-zinc-700 text-zinc-300 hover:bg-zinc-600")}`,children:b},w))})]}),o.jsxs("div",{className:"p-4 flex gap-2 border-t",children:[o.jsx("input",{value:a,onChange:b=>l(b.target.value),onKeyDown:b=>b.key==="Enter"&&m(),placeholder:"Escribe tu pregunta...",className:`flex-1 rounded-xl border px-4 py-3 text-sm focus:outline-none focus:ring-2 transition-all ${d(e,"border-zinc-300 bg-white focus:ring-purple-500 focus:border-purple-500","border-zinc-600 bg-zinc-800 text-zinc-100 focus:ring-blue-500 focus:border-blue-500")}`}),o.jsx("button",{onClick:m,disabled:!a.trim()||c,className:`rounded-xl px-4 py-3 text-sm font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed ${d(e,"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700","bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700")}`,children:c?"⏳":"🚀"})]})]})]})}function hv({isDark:t,onToggle:e}){return o.jsx("button",{title:t?"Cambiar a modo claro":"Cambiar a modo oscuro",onClick:e,className:`fixed bottom-5 left-5 z-40 grid h-11 w-11 place-content-center rounded-full shadow-lg ring-1 ${t?"bg-white text-zinc-900 ring-zinc-200":"bg-zinc-900 text-white ring-zinc-800"}`,children:t?"☀":"☾"})}function fv(){const[t,e]=N.useState(()=>{try{return localStorage.getItem("sz_theme")||"dark"}catch{return"dark"}}),r=t==="dark",[n,s]=N.useState(!1);N.useEffect(()=>{const g=window.matchMedia("(prefers-color-scheme: dark)");s(g.matches);const C=F=>{s(F.matches)};return g.addEventListener("change",C),()=>g.removeEventListener("change",C)},[]),N.useEffect(()=>{try{localStorage.setItem("sz_theme",t)}catch{}},[t]);const i=()=>e(r?"light":"dark"),[a,l]=N.useState("home"),[c,u]=N.useState(()=>Ne.load("userProfile",null)),[h,f]=N.useState(()=>!!Ne.load("adminLogged",!1)),[m,p]=N.useState(()=>Ne.load("userProfileData",null)),[b,w]=N.useState(()=>Ne.load("allPurchases",[]));N.useEffect(()=>{Ne.save("userProfile",c)},[c]),N.useEffect(()=>{Ne.save("userProfileData",m)},[m]),N.useEffect(()=>{Ne.save("allPurchases",b)},[b]),N.useEffect(()=>{Ne.save("adminLogged",h)},[h]);const j=async()=>{try{const g=await Hx();return g.data?(w(g.data),js(g.data),console.log("✅ Todas las compras cargadas desde Supabase:",g.data.length),g.data):(console.warn("⚠️ No se pudieron cargar las compras desde Supabase"),[])}catch(g){return console.error("❌ Error cargando todas las compras:",g),[]}};N.useEffect(()=>{(async()=>{try{await Fu([...Lt]),console.log("Servicios sincronizados con Supabase"),await Fu([...Ks]),console.log("Combos sincronizados con Supabase"),await j(),console.log("Compras cargadas desde Supabase")}catch(C){console.error("Error sincronizando servicios:",C)}})()},[]);const[v,x]=N.useState(()=>Ne.load("admin_users",sv).map(C=>({...C,email:C.email.toLowerCase()})));N.useEffect(()=>{Ne.save("admin_users",v)},[v]);const y=v.map(g=>g.email),[_,S]=N.useState(!1),[k,P]=N.useState(!1),[T,W]=N.useState("login"),[L,Pe]=N.useState(""),[ir,pt]=N.useState(""),[gn,ro]=N.useState(""),[gt,Tt]=N.useState([]),[$,O]=N.useState(!1),[A,G]=N.useState(null),[V,xt]=N.useState({email:"",password:"",notes:""}),[H,Le]=N.useState({customer:"",phone:"",email:"",service:"",months:1,serviceEmail:"",servicePassword:"",notes:""}),[lt,Cr]=N.useState([]),[bs,Cf]=N.useState([]),[zv,Ov]=N.useState([]),[xn,Pf]=N.useState(null),[Av,Rv]=N.useState(null),[ec,tc]=N.useState(!1);N.useEffect(()=>{console.log("🔍 authStep cambió a:",T),console.log("🔍 view actual:",a)},[T,a]),N.useEffect(()=>{a==="profile"&&c&&rc(c.phone)},[a,c]),N.useEffect(()=>{a==="admin"&&(no(),so())},[a]);const $f=async()=>{O(!0);try{const g=await Gx();g.data?(Tt(g.data),console.log("✅ Compras pendientes cargadas:",g.data.length)):(console.log("⚠️ No se pudieron cargar las compras pendientes"),Tt([]))}catch(g){console.error("Error cargando compras pendientes:",g)}finally{O(!1)}},zt=async()=>{try{await j(),await $f(),await no(),await so(),console.log("✅ Todas las estadísticas actualizadas desde Supabase")}catch(g){console.error("❌ Error actualizando estadísticas:",g)}},rc=async g=>{try{const C=await Jx(g);C.data&&Cr(C.data)}catch(C){console.error("Error cargando compras del usuario:",C)}},Tf=async()=>{if(!A||!V.email||!V.password){alert("Por favor completa el email y contraseña del servicio");return}O(!0);try{(await Kx(A.id,V.email,V.password,V.notes,"admin")).data?(Tt(C=>C.filter(F=>F.id!==A.id)),alert("✅ Compra aprobada exitosamente"),G(null),xt({email:"",password:"",notes:""}),setTimeout(()=>{zt()},500)):alert("❌ Error aprobando la compra")}catch(g){console.error("Error aprobando compra:",g),alert("❌ Error aprobando la compra")}finally{O(!1)}},zf=async g=>{if(confirm("¿Estás seguro de que quieres rechazar esta compra? Esta acción no se puede deshacer.")){O(!0);try{const{error:C}=await R.from("purchases").delete().eq("id",g);if(C)throw C;Tt(F=>F.filter(q=>q.id!==g)),alert("❌ Compra rechazada y eliminada"),setTimeout(()=>{zt()},500)}catch(C){console.error("Error rechazando compra:",C),alert("❌ Error rechazando la compra")}finally{O(!1)}}},Of=async(g,C,F)=>{if(!confirm(`⚠️ ADVERTENCIA: ¿Estás seguro de que quieres ELIMINAR PERMANENTEMENTE la compra activa de ${C} - ${F}?

Esta acción:
• Eliminará la compra de la base de datos
• El cliente perderá acceso al servicio
• NO se puede deshacer

Escribe "ELIMINAR" para confirmar:`))return;if(prompt("Para confirmar la eliminación, escribe exactamente: ELIMINAR")!=="ELIMINAR"){alert('❌ Eliminación cancelada. Debes escribir "ELIMINAR" para confirmar.');return}O(!0);try{const{error:se}=await R.from("purchases").delete().eq("id",g);if(se)throw se;alert(`✅ Compra de ${C} - ${F} eliminada permanentemente`),setTimeout(()=>{zt()},500)}catch(se){console.error("Error eliminando compra activa:",se),alert("❌ Error eliminando la compra")}finally{O(!1)}},Af=async g=>{const C=$e.find(se=>se.id===g);if(!C)return;const F=!C.validated,q=F?"validar":"invalidar";if(confirm(`¿Estás seguro de que quieres ${q} la compra de ${C.customer} - ${C.service}?`)){O(!0);try{(await Wx(g,F)).data?(alert(`✅ Compra ${q}ada exitosamente`),setTimeout(()=>{zt()},500)):alert("❌ Error actualizando la validación")}catch(se){console.error("Error actualizando validación:",se),alert("❌ Error actualizando la validación")}finally{O(!1)}}},no=async()=>{try{const g=await Qx(7);g.data&&Cf(g.data)}catch(g){console.error("Error cargando servicios próximos a vencer:",g)}},so=async()=>{try{const g=await Xx();g.data&&Pf(g.data)}catch(g){console.error("Error cargando estadísticas de renovaciones:",g)}},nc=async(g,C)=>{tc(!0);try{(await Yx(g,C,"admin")).data?(alert("✅ Renovación creada exitosamente"),no(),so()):alert("❌ Error creando renovación")}catch(F){console.error("Error creando renovación:",F),alert("❌ Error creando renovación")}finally{tc(!1)}},Rf=async()=>{if(!H.customer||!H.phone||!H.service||!H.serviceEmail||!H.servicePassword){alert("Por favor completa todos los campos obligatorios");return}O(!0);try{const g=new Date,C=new Date;C.setMonth(C.getMonth()+H.months);const F={customer:H.customer,phone:H.phone,service:H.service,start:g.toISOString().split("T")[0],end:C.toISOString().split("T")[0],months:H.months,validated:!0,service_email:H.serviceEmail,service_password:H.servicePassword,admin_notes:H.notes||"Compra registrada manualmente por admin",approved_by:"admin",approved_at:new Date().toISOString()};(await Du(F)).data?(alert("✅ Compra personalizada creada exitosamente"),Le({customer:"",phone:"",email:"",service:"",months:1,serviceEmail:"",servicePassword:"",notes:""}),Ot(!1),zt()):alert("❌ Error creando compra personalizada")}catch(g){console.error("Error creando compra personalizada:",g),alert("❌ Error creando compra personalizada")}finally{O(!1)}},[If,ws]=N.useState(!1),[vn,Lf]=N.useState(null),[$e,js]=N.useState(()=>Ne.load("purchases",[]));N.useEffect(()=>Ne.save("purchases",$e),[$e]);const sc=g=>{c?(Ff(g),oc(!0)):(Lf(g),ws(!0))},Mf=async g=>{const C={...g,id:iv(),validated:!1};try{const{data:D,error:ve}=await Fx(g.phone);let oe;if(ve||!D){const lr={name:g.customer,phone:g.phone,email:g.email||""},{data:wn,error:Ss}=await Dx(lr);if(Ss||!wn)throw console.error("Error creating user:",Ss),new Error("No se pudo crear el usuario");oe=wn.id}else oe=D.id,(D.name!==g.customer||D.email!==(g.email||""))&&await Bx(oe,{name:g.customer,email:g.email||""});const bn=new Date,or=new Date;if(or.setMonth(or.getMonth()+g.duration),!g.duration||isNaN(g.duration))throw console.error("❌ Duración inválida:",g.duration),new Error("Duración inválida: "+g.duration);if(isNaN(bn.getTime())||isNaN(or.getTime()))throw new Error("Fechas inválidas generadas");const Ns={customer:g.customer,phone:g.phone,service:g.service,start:bn.toISOString().split("T")[0],end:or.toISOString().split("T")[0],months:g.duration,validated:!1},{data:ar,error:vt}=await Du(Ns);if(vt||!ar)throw console.error("Error saving purchase to Supabase:",vt),new Error("No se pudo guardar la compra");const Gf={...C,id:ar.id};if(js(lr=>[Gf,...lr]),m){const lr=Lt.find(lo=>lo.name===g.service),wn={id:ar.id,serviceId:(lr==null?void 0:lr.id)||"unknown",serviceName:g.service,price:g.total,duration:g.duration,isAnnual:g.duration>6,paymentMethod:"pichincha",notes:g.notes,status:"pending",purchaseDate:new Date().toISOString(),whatsappSent:!1},Ss={...m,purchases:[...m.purchases||[],wn]};p(Ss),w(lo=>[...lo,wn])}console.log("Compra guardada exitosamente en Supabase:",ar)}catch(D){console.error("Error en addPurchase:",D),js(ve=>[C,...ve]),console.log("⚠️ Error en addPurchase, pero la compra se procesó correctamente:",D)}const F=`🎬 *CONFIRMACIÓN DE COMPRA - STREAMZONE*

👤 *Cliente:* ${g.customer}
📱 *WhatsApp:* ${g.phone}
${g.email?`📧 *Email:* ${g.email}`:""}

🛍️ *Servicio:* ${g.service}
💰 *Precio:* ${fe(g.total)}
⏱️ *Duración:* ${g.duration} ${g.duration>6?"años":"meses"}
💳 *Método:* Banco Pichincha
${g.notes?`📝 *Notas:* ${g.notes}`:""}

📅 *Fecha de compra:* ${new Date().toLocaleDateString("es-ES")}
🆔 *ID de compra:* ${C.id}

⚠️ *IMPORTANTE: Envía el comprobante de pago para activar tu servicio*

📋 *Cuentas disponibles:*
🏦 Pichincha: 2209034638 (Jeremias Guale)
🏛️ Guayaquil: 0122407273 (Jeremias Joel Guale)
🌊 Pacífico: 1061220256 (Byron Guale)
💳 PayPal: guale2023@outlook.com`,q=`https://wa.me/${rv.replace("+","")}?text=${encodeURIComponent(F)}`,se=`https://wa.me/${nv.replace("+","")}?text=${encodeURIComponent(F)}`;(()=>{var bn,or,Ns,ar;const D=document.createElement("div");D.className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",D.innerHTML=`
        <div class="bg-white rounded-xl p-6 max-w-md mx-4 shadow-2xl">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-xl font-bold text-gray-800">¡Compra Exitosa! 🎉</h3>
            <button id="closeModal" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
          </div>
          <p class="text-gray-600 mb-6">Selecciona un agente para enviar tu comprobante de pago:</p>
          <div class="space-y-3">
            <button id="agent1" class="w-full bg-green-500 hover:bg-green-600 text-white py-3 px-4 rounded-lg font-semibold transition-colors">
              👨‍💼 Agente 1 (+593 98 428 0334)
            </button>
            <button id="agent2" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold transition-colors">
              👨‍💼 Agente 2 (+593 99 879 9579)
            </button>
            <button id="cancel" class="w-full bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-semibold transition-colors">
              ❌ Cancelar
            </button>
          </div>
        </div>
      `,document.body.appendChild(D);const ve=()=>{try{D&&D.parentNode&&document.body.removeChild(D)}catch{console.log("Modal ya cerrado")}};(bn=document.getElementById("agent1"))==null||bn.addEventListener("click",()=>{ve(),setTimeout(()=>{try{window.open(q,"_blank")}catch{alert("No se pudo abrir WhatsApp automáticamente. Por favor, contacta al Agente 1: +593 98 428 0334")}},100)}),(or=document.getElementById("agent2"))==null||or.addEventListener("click",()=>{ve(),setTimeout(()=>{try{window.open(se,"_blank")}catch{alert("No se pudo abrir WhatsApp automáticamente. Por favor, contacta al Agente 2: +593 99 879 9579")}},100)}),(Ns=document.getElementById("closeModal"))==null||Ns.addEventListener("click",ve),(ar=document.getElementById("cancel"))==null||ar.addEventListener("click",ve),D.addEventListener("click",vt=>{vt.target===D&&ve()});const oe=vt=>{vt.key==="Escape"&&(ve(),document.removeEventListener("keydown",oe))};document.addEventListener("keydown",oe)})()},ic=(g,C,F)=>({id:Date.now().toString(),name:g,whatsapp:C,email:F,purchases:[],createdAt:new Date().toISOString()}),[Uf,oc]=N.useState(!1),[Iv,Lv]=N.useState(""),[Df,Ff]=N.useState(null),[ac,Ot]=N.useState(!1),[Bf,yn]=N.useState(!1),[io,lc]=N.useState(null),Vf=g=>{Ot(!1),yn(!1),lc(g),yn(!0)},Wf=async g=>{if(io){O(!0);try{(await qx(io.id,g)).data?(alert("✅ Compra actualizada exitosamente"),zt(),yn(!1),lc(null)):alert("❌ Error actualizando compra")}catch(C){console.error("Error actualizando compra:",C),alert("❌ Error actualizando compra")}finally{O(!1)}}},qf=g=>{var D,ve;yn(!1);let C=null;try{const oe=JSON.parse(localStorage.getItem("userProfileData")||"null");oe&&(oe.whatsapp===g.phone||oe.email===g.email)&&(C=oe)}catch{console.log("No se pudo buscar perfil existente")}C||(C=ic(g.name,g.phone,g.email));const F=Lt.find(oe=>oe.name===g.service),q={id:Date.now().toString(),serviceId:(F==null?void 0:F.id)||"unknown",serviceName:g.service,price:g.price,duration:g.duration,isAnnual:g.isAnnual||!1,paymentMethod:g.paymentMethod||"pichincha",notes:g.notes,status:"active",purchaseDate:new Date().toISOString(),startDate:g.startDate||new Date().toISOString(),endDate:g.endDate,validatedBy:"admin",validatedAt:new Date().toISOString(),whatsappSent:!1},se={...C,purchases:[...C.purchases,q]};p(se),w(oe=>[...oe,q]);const Me={id:q.id,customer:g.name,phone:g.phone,service:q.serviceName,price:q.price,duration:q.duration,total:q.price,start:((D=q.startDate)==null?void 0:D.slice(0,10))||new Date().toISOString().slice(0,10),end:((ve=q.endDate)==null?void 0:ve.slice(0,10))||new Date(Date.now()+q.duration*(q.isAnnual?365:30)*24*60*60*1e3).toISOString().slice(0,10),validated:!0,notes:q.notes||""};js(oe=>[Me,...oe]),Ot(!1),alert(`✅ Compra registrada exitosamente para ${g.name} (${g.phone})

Servicio: ${q.serviceName}
Precio: ${fe(q.price)}
Duración: ${q.duration} ${q.isAnnual?"años":"meses"}
Estado: Activo

La compra aparecerá en la cuenta del usuario si tiene una cuenta registrada.`)},Hf=new Date().toISOString().slice(0,10);$e.filter(g=>g.end===Hf);const cc=()=>{h?(l("admin"),zt()):l("adminLogin")},uc=()=>{u(null),p(null),Ne.del("userProfile"),Ne.del("userProfileData"),a==="profile"&&l("home")},Kf=()=>{f(!1),Ne.del("adminLogged"),a==="admin"&&l("home")},[Mv,oo]=N.useState("dashboard"),[_s,dc]=N.useState("pending"),[hc,Uv]=N.useState("pending"),[ao,Dv]=N.useState("");$e.filter(g=>!g.validated).length,$e.filter(g=>g.validated).length,$e.filter(g=>(hc==="all"?!0:hc==="pending"?!g.validated:g.validated)&&((g.customer||"").toLowerCase().includes(ao.toLowerCase())||(g.phone||"").includes(ao)||(g.service||"").toLowerCase().includes(ao.toLowerCase())));const fc=()=>{const C=[["Cliente","Telefono","Servicio","Inicio","Fin","Validada"]].concat($e.map(Me=>[Me.customer,Me.phone,Me.service,Me.start,Me.end,Me.validated?"si":"no"])).map(Me=>Me.map(D=>`"${String(D).replace(/"/g,'""')}"`).join(",")).join(`
`),F=new Blob([C],{type:"text/csv"}),q=URL.createObjectURL(F),se=document.createElement("a");se.href=q,se.download="compras.csv",se.click(),URL.revokeObjectURL(q)};return o.jsxs("div",{className:`min-h-screen ${d(r,"bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 text-zinc-900","bg-gradient-to-br from-zinc-950 via-blue-950 to-purple-950 text-zinc-100")}`,children:[o.jsx("header",{className:`sticky top-0 z-30 border-b backdrop-blur-md shadow-lg ${d(r,"bg-white/90 border-zinc-200/50","bg-zinc-950/90 border-zinc-800/50")}`,children:o.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-4",children:[o.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(qo,{className:"h-12 w-12"}),o.jsx("div",{className:`absolute -top-1 -right-1 w-4 h-4 rounded-full ${d(r,"bg-green-500","bg-green-400")} animate-pulse`})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-xl bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"StreamZone"}),o.jsx("div",{className:`text-xs ${d(r,"text-gray-500","text-gray-400")}`,children:"Tu entretenimiento digital"})]}),o.jsx(Vu,{isDark:r,children:"✨ Seguridad garantizada"})]}),o.jsxs("nav",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("button",{onClick:()=>l("home"),className:`px-3 sm:px-4 py-2 rounded-xl text-xs sm:text-sm font-semibold transition-all duration-200 hover:scale-105 ${d(r,"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg hover:from-blue-600 hover:to-blue-700","bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg hover:from-blue-700 hover:to-blue-800")}`,children:"🏠 Inicio"}),o.jsx("button",{onClick:()=>l("combos"),className:`px-3 sm:px-4 py-2 rounded-xl text-xs sm:text-sm font-semibold transition-all duration-200 hover:scale-105 ${d(r,"text-purple-600 hover:text-purple-700 hover:bg-purple-50","text-purple-400 hover:text-purple-300 hover:bg-purple-900/20")}`,children:"📦 Combos"}),c&&o.jsx("button",{onClick:()=>l("profile"),className:`px-3 sm:px-4 py-2 rounded-xl text-xs sm:text-sm font-semibold transition-all duration-200 hover:scale-105 ${d(r,"text-green-600 hover:text-green-700 hover:bg-green-50","text-green-400 hover:text-green-300 hover:bg-green-900/20")}`,children:"👤 Mi Perfil"}),c?o.jsx("button",{onClick:uc,className:`px-3 sm:px-4 py-2 rounded-xl text-xs sm:text-sm font-semibold transition-all duration-200 hover:scale-105 ${d(r,"bg-red-100 text-red-700 hover:bg-red-200","bg-red-800 text-red-100 hover:bg-red-700")}`,children:"Cerrar sesión"}):o.jsx("button",{onClick:()=>l("auth"),className:d(r,"rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-1.5 text-sm hover:from-blue-600 hover:to-purple-700 shadow-lg","rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-1.5 text-sm hover:from-blue-600 hover:to-purple-700 shadow-lg"),children:"Iniciar sesión"}),o.jsx("button",{onClick:cc,className:d(r,"rounded-xl bg-zinc-900 text-white px-3 py-1.5 text-sm hover:bg-zinc-800","rounded-xl bg-white text-zinc-900 px-3 py-1.5 text-sm hover:bg-zinc-200"),children:h?"Admin":"Login Admin"})]})]}),o.jsxs("div",{className:"md:hidden",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qo,{className:"h-8 w-8"}),o.jsx("div",{className:"font-semibold text-lg",children:"StreamZone"})]}),o.jsx("button",{onClick:cc,className:d(r,"rounded-lg bg-zinc-900 text-white px-3 py-1.5 text-xs","rounded-lg bg-white text-zinc-900 px-3 py-1.5 text-xs"),children:"Admin"})]}),o.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[o.jsx("button",{onClick:()=>l("home"),className:d(r,"rounded-lg bg-zinc-100 px-3 py-1.5 text-xs whitespace-nowrap","rounded-lg bg-zinc-800 px-3 py-1.5 text-xs whitespace-nowrap"),children:"Inicio"}),o.jsx("button",{onClick:()=>l("combos"),className:d(r,"rounded-lg px-3 py-1.5 text-xs whitespace-nowrap hover:bg-zinc-100","rounded-lg px-3 py-1.5 text-xs whitespace-nowrap hover:bg-zinc-800"),children:"🎯 Combos"}),c&&o.jsx("button",{onClick:()=>l("profile"),className:d(r,"rounded-lg bg-green-100 text-green-700 px-3 py-1.5 text-xs whitespace-nowrap hover:bg-green-200","rounded-lg bg-green-800 text-green-100 px-3 py-1.5 text-xs whitespace-nowrap hover:bg-green-700"),children:"👤 Mi Perfil"}),c?o.jsx("button",{onClick:uc,className:d(r,"rounded-lg bg-red-100 text-red-700 px-3 py-1.5 text-xs whitespace-nowrap","rounded-lg bg-red-800 text-red-100 px-3 py-1.5 text-xs whitespace-nowrap"),children:"Cerrar sesión"}):o.jsx("button",{onClick:()=>l("auth"),className:d(r,"rounded-lg bg-gradient-to-r from-blue-500 to-purple-600 text-white px-3 py-1.5 text-xs whitespace-nowrap shadow-lg","rounded-lg bg-gradient-to-r from-blue-500 to-purple-600 text-white px-3 py-1.5 text-xs whitespace-nowrap shadow-lg"),children:"Iniciar sesión"})]}),o.jsx("div",{className:"mt-2",children:o.jsx(Vu,{isDark:r,children:"Seguridad y confianza"})})]})]})}),a==="home"&&o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 via-purple-600/10 to-pink-600/10"}),o.jsx("div",{className:"absolute top-0 left-1/4 w-72 h-72 bg-blue-500/20 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"}),o.jsx("div",{className:"absolute top-0 right-1/4 w-72 h-72 bg-purple-500/20 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse animation-delay-2000"}),o.jsx("div",{className:"relative mx-auto max-w-7xl px-4 py-16 md:py-24 lg:py-32",children:o.jsxs("div",{className:"grid items-center gap-8 md:gap-12 lg:grid-cols-2",children:[o.jsxs("div",{className:"relative z-10 space-y-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20",children:[o.jsx("span",{className:"text-2xl",children:"🎬"}),o.jsx("span",{className:`text-sm font-semibold ${d(r,"text-blue-600","text-blue-400")}`,children:"Entretenimiento Premium"})]}),o.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-extrabold tracking-tight",children:o.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"StreamZone"})}),o.jsx("p",{className:`text-xl md:text-2xl font-semibold ${d(r,"text-gray-700","text-gray-200")}`,children:"Tus plataformas favoritas, al mejor precio"}),o.jsxs("p",{className:`text-base md:text-lg ${d(r,"text-gray-600","text-gray-300")}`,children:["Reserva por WhatsApp, recibe acceso con soporte inmediato y renueva sin complicaciones.",o.jsx("span",{className:"font-semibold text-blue-600",children:" Administra tus servicios desde tu cuenta."})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c?o.jsxs("a",{href:"#catalogo",className:`inline-flex items-center justify-center px-8 py-4 rounded-2xl font-semibold text-lg transition-all duration-200 hover:scale-105 shadow-lg ${d(r,"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700","bg-gradient-to-r from-blue-600 to-purple-700 text-white hover:from-blue-700 hover:to-purple-800")}`,children:[o.jsx("span",{className:"mr-2",children:"✨"}),"Ver Catálogo",o.jsx("span",{className:"ml-2",children:"🚀"})]}):o.jsxs("button",{onClick:()=>l("auth"),className:`inline-flex items-center justify-center px-8 py-4 rounded-2xl font-semibold text-lg transition-all duration-200 hover:scale-105 shadow-lg ${d(r,"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700","bg-gradient-to-r from-blue-600 to-purple-700 text-white hover:from-blue-700 hover:to-purple-800")}`,children:[o.jsx("span",{className:"mr-2",children:"🔐"}),"Iniciar Sesión",o.jsx("span",{className:"ml-2",children:"✨"})]}),o.jsxs("button",{onClick:()=>l("combos"),className:`inline-flex items-center justify-center px-8 py-4 rounded-2xl font-semibold text-lg transition-all duration-200 hover:scale-105 ${d(r,"bg-white text-purple-600 border-2 border-purple-200 hover:bg-purple-50","bg-zinc-800 text-purple-400 border-2 border-purple-600 hover:bg-purple-900/20")}`,children:[o.jsx("span",{className:"mr-2",children:"📦"}),"Ver Combos"]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-6 pt-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:`text-2xl font-bold ${d(r,"text-blue-600","text-blue-400")}`,children:"500+"}),o.jsx("div",{className:`text-sm ${d(r,"text-gray-600","text-gray-400")}`,children:"Clientes felices"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:`text-2xl font-bold ${d(r,"text-purple-600","text-purple-400")}`,children:"24/7"}),o.jsx("div",{className:`text-sm ${d(r,"text-gray-600","text-gray-400")}`,children:"Soporte"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:`text-2xl font-bold ${d(r,"text-green-600","text-green-400")}`,children:"100%"}),o.jsx("div",{className:`text-sm ${d(r,"text-gray-600","text-gray-400")}`,children:"Garantía"})]})]})]}),o.jsx("div",{className:"relative z-10",children:o.jsxs("div",{className:`relative rounded-3xl p-8 shadow-2xl backdrop-blur-md border-2 ${d(r,"bg-gradient-to-br from-white/80 to-blue-50/80 border-blue-200/50","bg-gradient-to-br from-zinc-900/80 to-blue-900/80 border-blue-700/50")}`,children:[o.jsxs("div",{className:"relative h-80 flex items-center justify-center",children:[o.jsx("div",{className:"absolute top-4 left-4 w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl shadow-lg flex items-center justify-center text-white text-2xl animate-float",children:"🎬"}),o.jsx("div",{className:"absolute top-8 right-8 w-14 h-14 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl shadow-lg flex items-center justify-center text-white text-xl animate-float animation-delay-1000",children:"🎧"}),o.jsx("div",{className:"absolute bottom-8 left-8 w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl shadow-lg flex items-center justify-center text-white text-lg animate-float animation-delay-2000",children:"📺"}),o.jsx("div",{className:"absolute bottom-4 right-4 w-18 h-18 bg-gradient-to-r from-pink-500 to-pink-600 rounded-2xl shadow-lg flex items-center justify-center text-white text-2xl animate-float animation-delay-3000",children:"🏰"}),o.jsx("div",{className:`w-24 h-24 rounded-3xl shadow-2xl flex items-center justify-center text-white text-4xl ${d(r,"bg-gradient-to-r from-blue-600 to-purple-600","bg-gradient-to-r from-blue-700 to-purple-700")}`,children:"✨"})]}),o.jsxs("div",{className:"mt-6 space-y-4",children:[o.jsx("div",{className:`text-center font-bold text-lg ${d(r,"text-gray-800","text-gray-200")}`,children:"💳 Métodos de Pago"}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("div",{className:`p-3 rounded-xl text-center ${d(r,"bg-blue-50 border border-blue-200","bg-blue-900/30 border border-blue-700")}`,children:[o.jsx("div",{className:"text-2xl mb-1",children:"🏦"}),o.jsx("div",{className:`text-xs font-semibold ${d(r,"text-blue-700","text-blue-300")}`,children:"Bancos"})]}),o.jsxs("div",{className:`p-3 rounded-xl text-center ${d(r,"bg-green-50 border border-green-200","bg-green-900/30 border border-green-700")}`,children:[o.jsx("div",{className:"text-2xl mb-1",children:"💚"}),o.jsx("div",{className:`text-xs font-semibold ${d(r,"text-green-700","text-green-300")}`,children:"PayPal"})]}),o.jsxs("div",{className:`p-3 rounded-xl text-center ${d(r,"bg-purple-50 border border-purple-200","bg-purple-900/30 border border-purple-700")}`,children:[o.jsx("div",{className:"text-2xl mb-1",children:"📱"}),o.jsx("div",{className:`text-xs font-semibold ${d(r,"text-purple-700","text-purple-300")}`,children:"Pago Móvil"})]})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[o.jsx("span",{className:`text-xs px-3 py-2 rounded-lg text-center ${d(r,"bg-green-100 text-green-700","bg-green-800 text-green-200")}`,children:"🏦 Pichincha"}),o.jsx("span",{className:`text-xs px-3 py-2 rounded-lg text-center ${d(r,"bg-blue-100 text-blue-700","bg-blue-800 text-blue-200")}`,children:"🏛️ Guayaquil"}),o.jsx("span",{className:`text-xs px-3 py-2 rounded-lg text-center ${d(r,"bg-purple-100 text-purple-700","bg-purple-800 text-purple-200")}`,children:"🌊 Pacífico"}),o.jsx("span",{className:`text-xs px-3 py-2 rounded-lg text-center ${d(r,"bg-orange-100 text-orange-700","bg-orange-800 text-orange-200")}`,children:"💳 PayPal"})]})]})]})})]})}),o.jsx("div",{className:"absolute inset-0 -z-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),o.jsx("div",{className:"pointer-events-none absolute inset-0 -z-10 bg-gradient-to-br from-zinc-900 via-zinc-800 to-zinc-700"})]}),o.jsxs("section",{id:"catalogo",className:"relative py-16 md:py-24",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 via-purple-50/50 to-pink-50/50 dark:from-blue-950/50 dark:via-purple-950/50 dark:to-pink-950/50"}),o.jsxs("div",{className:"relative mx-auto max-w-7xl px-4",children:[o.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20 mb-6",children:[o.jsx("span",{className:"text-xl",children:"✨"}),o.jsx("span",{className:`text-sm font-semibold ${d(r,"text-blue-600","text-blue-400")}`,children:"Plataformas Premium"})]}),o.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6",children:o.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Nuestro Catálogo"})}),o.jsx("p",{className:`text-lg md:text-xl max-w-3xl mx-auto ${d(r,"text-gray-600","text-gray-300")}`,children:"Descubre todas las plataformas de streaming disponibles con acceso inmediato y soporte 24/7"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8",children:Lt.map((g,C)=>o.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${C*100}ms`},children:o.jsx(cv,{s:g,onReserve:sc,isDark:r})},g.id))}),o.jsx("div",{className:"text-center mt-12 md:mt-16",children:o.jsxs("div",{className:`inline-flex items-center gap-3 px-8 py-4 rounded-2xl shadow-lg ${d(r,"bg-gradient-to-r from-blue-500 to-purple-600 text-white","bg-gradient-to-r from-blue-600 to-purple-700 text-white")}`,children:[o.jsx("span",{className:"text-2xl",children:"🎯"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-lg",children:"¿No encuentras lo que buscas?"}),o.jsx("div",{className:"text-sm opacity-90",children:"Contáctanos por WhatsApp para más opciones"})]})]})})]})]}),o.jsx("footer",{className:`relative py-16 ${d(r,"bg-gradient-to-r from-gray-900 to-gray-800","bg-gradient-to-r from-zinc-900 to-zinc-800")}`,children:o.jsxs("div",{className:"mx-auto max-w-7xl px-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(qo,{className:"h-12 w-12"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-2xl bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"StreamZone"}),o.jsx("div",{className:"text-sm text-gray-400",children:"Tu entretenimiento digital"})]})]}),o.jsx("p",{className:"text-gray-300 mb-6 max-w-md",children:"La mejor plataforma para acceder a todos tus servicios de streaming favoritos con precios increíbles y soporte 24/7."}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white text-lg hover:scale-110 transition-transform cursor-pointer",children:"📱"}),o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center text-white text-lg hover:scale-110 transition-transform cursor-pointer",children:"💬"}),o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full flex items-center justify-center text-white text-lg hover:scale-110 transition-transform cursor-pointer",children:"✨"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Enlaces Rápidos"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("button",{onClick:()=>l("home"),className:"text-gray-300 hover:text-blue-400 transition-colors",children:"🏠 Inicio"})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>l("combos"),className:"text-gray-300 hover:text-purple-400 transition-colors",children:"📦 Combos"})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>l("register"),className:"text-gray-300 hover:text-green-400 transition-colors",children:"✨ Registro"})}),o.jsx("li",{children:o.jsx("button",{onClick:()=>l("auth"),className:"text-gray-300 hover:text-blue-400 transition-colors",children:"🔐 Iniciar Sesión"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Contacto"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsxs("li",{className:"text-gray-300 flex items-center gap-2",children:[o.jsx("span",{children:"📱"}),"WhatsApp 24/7"]}),o.jsxs("li",{className:"text-gray-300 flex items-center gap-2",children:[o.jsx("span",{children:"💬"}),"Soporte Inmediato"]}),o.jsxs("li",{className:"text-gray-300 flex items-center gap-2",children:[o.jsx("span",{children:"⚡"}),"Acceso Rápido"]}),o.jsxs("li",{className:"text-gray-300 flex items-center gap-2",children:[o.jsx("span",{children:"🔒"}),"Pago Seguro"]})]})]})]}),o.jsx("div",{className:"border-t border-gray-700 mt-12 pt-8 text-center",children:o.jsxs("p",{className:"text-gray-400",children:["© 2024 StreamZone. Todos los derechos reservados.",o.jsx("span",{className:"text-blue-400",children:" Hecho con ❤️ para tu entretenimiento"})]})})]})})]}),a==="auth"&&o.jsxs("section",{className:"min-h-screen relative flex items-center justify-center",children:[o.jsxs("div",{className:"absolute inset-0 -z-10",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900"}),o.jsx("div",{className:"absolute inset-0 bg-[url('/img/bg-cinema.jpg')] bg-cover bg-center opacity-20"}),o.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),o.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl animate-pulse animation-delay-1000"}),o.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-pink-500/20 rounded-full blur-2xl animate-pulse animation-delay-2000"}),o.jsx("div",{className:"relative z-10 mx-auto max-w-md px-4 py-8",children:o.jsxs("div",{className:`rounded-3xl p-8 shadow-2xl backdrop-blur-md border ${d(r,"bg-white/95 border-gray-200","bg-gray-900/95 border-gray-700")}`,children:[o.jsxs("div",{className:"text-center mb-8",children:[T==="login"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center text-3xl shadow-xl",children:"🔐"}),o.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-green-400 to-blue-500 rounded-full animate-pulse"})]}),o.jsx("h3",{className:"text-4xl font-bold mb-3 bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Iniciar Sesión"}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Accede a tu cuenta de StreamZone"})]}),T==="email"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-r from-blue-600 to-cyan-600 flex items-center justify-center text-3xl shadow-xl",children:"📧"}),o.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-orange-400 to-red-500 rounded-full animate-pulse"})]}),o.jsx("h3",{className:"text-4xl font-bold mb-3 bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Recuperar Contraseña"}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Paso 1: Ingresa tu email para recibir el código"})]})]}),T==="login"&&o.jsx(yv,{isDark:r,onLogin:g=>{u(g),p(g),l("home")},onForgotPassword:()=>W("email")}),T==="email"&&o.jsx(bv,{isDark:r,onBack:()=>W("login"),onRegister:()=>l("register"),onTokenSent:(g,C)=>{Pe(g),pt(C),W("code")}}),T==="code"&&o.jsx(wv,{isDark:r,email:L,onBack:()=>W("email"),onCodeVerified:g=>{pt(g),W("newpassword")}}),T==="newpassword"&&o.jsx(jv,{isDark:r,email:L,token:ir,onSuccess:()=>{W("login"),Pe(""),pt("")}}),T==="login"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mt-8 text-center space-y-4",children:[o.jsx("div",{className:`text-sm font-medium ${d(r,"text-gray-600","text-gray-400")}`,children:"¿No tienes cuenta?"}),o.jsx("button",{onClick:()=>l("register"),className:`w-full rounded-2xl px-6 py-4 font-bold text-lg transition-all duration-300 hover:scale-105 shadow-xl ${d(r,"bg-gradient-to-r from-green-500 via-blue-500 to-purple-600 text-white hover:from-green-600 hover:via-blue-600 hover:to-purple-700","bg-gradient-to-r from-green-600 via-blue-600 to-purple-700 text-white hover:from-green-700 hover:via-blue-700 hover:to-purple-800")}`,children:o.jsxs("span",{className:"flex items-center justify-center gap-3",children:[o.jsx("span",{className:"text-xl",children:"✨"}),o.jsx("span",{children:"Crear cuenta nueva"}),o.jsx("span",{className:"text-xl",children:"🚀"})]})})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("button",{onClick:()=>l("home"),className:`inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold transition-all duration-200 hover:scale-105 ${d(r,"text-gray-600 hover:text-gray-800 hover:bg-gray-100","text-gray-400 hover:text-gray-200 hover:bg-gray-800")}`,children:[o.jsx("span",{children:"←"}),o.jsx("span",{children:"Volver al inicio"})]})})]})]})})]}),a==="auth"&&T==="code"&&o.jsxs("section",{className:"min-h-[80vh] relative",children:[o.jsx("div",{className:"absolute inset-0 -z-10",style:{backgroundImage:"url(/img/bg-cinema.jpg)",backgroundSize:"cover",backgroundPosition:"center"}}),o.jsx("div",{className:"absolute inset-0 -z-0 bg-black/60"}),o.jsx("div",{className:"relative z-10 mx-auto max-w-md px-4 py-16",children:o.jsxs("div",{className:d(r,"rounded-3xl bg-white/95 p-8 shadow-2xl","rounded-3xl bg-zinc-900/95 p-8 shadow-2xl text-zinc-100"),children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-3xl font-bold mb-2",children:"🔢 Verificar Código"}),o.jsxs("p",{className:"text-sm opacity-80",children:["Paso 2: Ingresa el código que enviamos a ",L]})]}),o.jsxs("form",{onSubmit:async g=>{g.preventDefault(),(await Xl(gn)).data?W("newpassword"):alert("Código inválido o expirado")},className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:d(r,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Código de verificación"}),o.jsx("input",{required:!0,type:"text",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${d(r,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:gn,onChange:g=>ro(g.target.value),placeholder:"123456",maxLength:6})]}),o.jsx("button",{type:"submit",className:`w-full rounded-xl px-4 py-3 font-semibold transition-all ${d(r,"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700","bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700")}`,children:"🔍 Verificar Código"}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>W("email"),className:`text-sm ${d(r,"text-zinc-600 hover:text-zinc-800","text-zinc-400 hover:text-zinc-200")}`,children:"← Volver al paso anterior"})})]})]})})]}),a==="register"&&o.jsxs("section",{className:"min-h-[80vh] relative",children:[o.jsx("div",{className:"absolute inset-0 -z-10",style:{backgroundImage:"url(/img/bg-cinema.jpg)",backgroundSize:"cover",backgroundPosition:"center"}}),o.jsx("div",{className:"absolute inset-0 -z-0 bg-black/60"}),o.jsx("div",{className:"relative z-10 mx-auto max-w-md px-4 py-16",children:o.jsxs("div",{className:d(r,"rounded-3xl bg-white/95 p-8 shadow-2xl","rounded-3xl bg-zinc-900/95 p-8 shadow-2xl text-zinc-100"),children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Crear cuenta"}),o.jsx("p",{className:"text-sm opacity-80",children:"Regístrate para guardar tus compras y ver el estado"})]}),o.jsx(vv,{isDark:r,onSubmit:async g=>{u(g);const C=ic(g.name,g.phone,g.email);p(C);try{const{data:F,error:q}=await Vx(g.phone);if(!q&&F&&F.length>0){const se=F.map(D=>{var ve;return{id:D.id,serviceId:((ve=Lt.find(oe=>oe.name===D.service))==null?void 0:ve.id)||"unknown",serviceName:D.service,price:0,duration:D.months,isAnnual:D.months>6,paymentMethod:"pichincha",notes:"",status:D.validated?"validated":"pending",purchaseDate:D.created_at,startDate:D.start,endDate:D.end,validatedBy:D.validated?"admin":void 0,validatedAt:D.validated?D.created_at:void 0,whatsappSent:!1}}),Me={...C,purchases:[...C.purchases||[],...se]};p(Me),w(D=>[...D,...se]),console.log(`Cargadas ${se.length} compras existentes desde Supabase`)}}catch(F){console.error("Error cargando compras existentes:",F)}l("home")}}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("button",{onClick:()=>l("auth"),className:d(r,"text-zinc-600 hover:text-zinc-800 text-sm","text-zinc-400 hover:text-zinc-200 text-sm"),children:"← Volver a autenticación"})})]})})]}),a==="combos"&&o.jsxs("section",{className:"mx-auto max-w-6xl px-4 pb-16",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-3xl font-bold mb-2",children:"🎯 Combos Especiales"}),o.jsx("p",{className:d(r,"text-zinc-600","text-zinc-300"),children:"Ahorra más con nuestras combinaciones exclusivas"})]}),o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Ks.map(g=>o.jsxs("div",{className:`${g.color} rounded-2xl p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center text-white font-bold text-lg",children:g.logo}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold",children:fe(g.price)}),o.jsx("div",{className:"text-sm opacity-80",children:"por mes"})]})]}),o.jsx("h4",{className:"text-xl font-semibold mb-3",children:g.name}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"text-sm opacity-90",children:"💰 Ahorro significativo vs compras individuales"}),o.jsx("div",{className:"text-sm opacity-90",children:"🎬 Acceso completo a todas las plataformas"}),o.jsx("div",{className:"text-sm opacity-90",children:"⚡ Activación inmediata"})]}),o.jsx("button",{onClick:()=>sc(g),className:"w-full bg-white/20 hover:bg-white/30 text-white font-semibold py-3 px-4 rounded-xl transition-colors",children:"Comprar Combo"})]},g.id))}),o.jsx("div",{className:"mt-12 text-center",children:o.jsxs("div",{className:`${d(r,"bg-blue-50 border-blue-200","bg-blue-900/20 border-blue-700")} border rounded-2xl p-6`,children:[o.jsx("h4",{className:"text-xl font-bold mb-2",children:"💡 ¿Por qué elegir nuestros combos?"}),o.jsx("p",{className:d(r,"text-zinc-600","text-zinc-300"),children:"Combinamos las mejores plataformas de streaming en paquetes exclusivos que te permiten ahorrar hasta un 30% comparado con comprar cada servicio por separado."})]})})]}),a==="profile"&&o.jsxs("section",{className:"mx-auto max-w-6xl px-3 sm:px-4 pb-8 sm:pb-16",children:[o.jsx("div",{className:"mb-4 sm:mb-8",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-1 sm:mb-2",children:"👤 Mi Perfil"}),o.jsx("p",{className:`text-sm sm:text-base ${d(r,"text-zinc-600","text-zinc-300")}`,children:"Gestiona tu cuenta y compras activas"})]}),o.jsx("button",{onClick:()=>l("home"),className:`rounded-xl px-3 sm:px-4 py-2 text-xs sm:text-sm hover:scale-105 transition-transform ${d(r,"bg-zinc-100 text-zinc-700 hover:bg-zinc-200","bg-zinc-800 text-zinc-200 hover:bg-zinc-700")}`,children:"← Inicio"})]})}),c?o.jsxs("div",{className:"grid gap-6",children:[o.jsxs("div",{className:`p-4 sm:p-6 rounded-2xl border ${d(r,"bg-white border-zinc-200","bg-zinc-800 border-zinc-700")}`,children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-3 sm:mb-4",children:"👤 Información Personal"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:`text-xs sm:text-sm ${d(r,"text-zinc-800","text-zinc-300")}`,children:"Nombre"}),o.jsx("p",{className:`font-medium text-sm sm:text-base ${d(r,"text-zinc-900","text-zinc-100")}`,children:c.name})]}),o.jsxs("div",{children:[o.jsx("label",{className:`text-xs sm:text-sm ${d(r,"text-zinc-800","text-zinc-300")}`,children:"WhatsApp"}),o.jsx("p",{className:`font-medium text-sm sm:text-base ${d(r,"text-zinc-900","text-zinc-100")}`,children:c.phone})]}),o.jsxs("div",{children:[o.jsx("label",{className:`text-xs sm:text-sm ${d(r,"text-zinc-800","text-zinc-300")}`,children:"Email"}),o.jsx("p",{className:`font-medium text-sm sm:text-base ${d(r,"text-zinc-900","text-zinc-100")}`,children:c.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:`text-xs sm:text-sm ${d(r,"text-zinc-800","text-zinc-300")}`,children:"Miembro desde"}),o.jsx("p",{className:`font-medium text-sm sm:text-base ${d(r,"text-zinc-900","text-zinc-100")}`,children:new Date().toLocaleDateString("es-ES")})]})]})]}),o.jsxs("div",{className:`p-4 sm:p-6 rounded-2xl border ${d(r,"bg-white border-zinc-200","bg-zinc-800 border-zinc-700")}`,children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-3 sm:mb-4 gap-2",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold",children:"🛍️ Mis Compras Activas"}),o.jsx("button",{onClick:()=>rc(c.phone),className:`px-3 py-1 rounded-lg text-xs sm:text-sm ${d(r,"bg-blue-100 text-blue-700 hover:bg-blue-200","bg-blue-900/30 text-blue-400 hover:bg-blue-900/50")}`,children:"🔄 Actualizar"})]}),lt.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-4xl mb-2",children:"📺"}),o.jsx("p",{className:d(r,"text-zinc-600","text-zinc-400"),children:"No tienes compras activas"}),o.jsx("button",{onClick:()=>l("home"),className:`mt-4 px-4 py-2 rounded-xl text-sm ${d(r,"bg-blue-600 text-white hover:bg-blue-700","bg-blue-500 text-white hover:bg-blue-600")}`,children:"Ver Catálogo"})]}):o.jsx("div",{className:"space-y-4",children:lt.filter(g=>Qa(g.end)>=0).map(g=>{const C=ov(g.end);return Qa(g.end),o.jsxs("div",{className:`p-3 sm:p-4 rounded-xl border ${d(r,"bg-green-50 border-green-200","bg-green-900/20 border-green-700")}`,children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-2 sm:mb-3 gap-2 sm:gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"text-xl sm:text-2xl",children:g.service==="Netflix"?"🎬":g.service==="Disney+"?"🏰":g.service==="Max"?"🎭":g.service==="Prime Video"?"📺":g.service==="Spotify"?"🎧":"📱"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-base sm:text-lg",children:g.service}),o.jsxs("p",{className:`text-xs sm:text-sm ${d(r,"text-zinc-800","text-zinc-300")}`,children:[g.months," meses • Activo"]})]})]}),o.jsx("div",{className:"flex justify-end sm:justify-start",children:o.jsx("div",{className:`px-3 sm:px-4 py-1 sm:py-2 rounded-full text-xs sm:text-sm font-bold text-center min-w-[100px] sm:min-w-[120px] ${d(r,"bg-red-100 text-red-800","bg-red-900/30 text-red-400")}`,children:C.message})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-2 sm:mb-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:`text-xs sm:text-sm font-medium ${d(r,"text-zinc-800","text-zinc-300")}`,children:"📅 Fecha de inicio"}),o.jsx("p",{className:`font-medium text-sm sm:text-base ${d(r,"text-zinc-900","text-zinc-100")}`,children:new Date(g.start).toLocaleDateString("es-ES")})]}),o.jsxs("div",{children:[o.jsx("label",{className:`text-xs sm:text-sm font-medium ${d(r,"text-zinc-800","text-zinc-300")}`,children:"⏰ Fecha de vencimiento"}),o.jsx("p",{className:`font-medium text-sm sm:text-base ${d(r,"text-zinc-900","text-zinc-100")}`,children:new Date(g.end).toLocaleDateString("es-ES")})]})]}),g.service_email&&g.service_password&&o.jsxs("div",{className:`p-2 sm:p-3 rounded-lg ${d(r,"bg-blue-50 border border-blue-200","bg-blue-900/20 border border-blue-700")}`,children:[o.jsx("h5",{className:"font-semibold mb-2 text-blue-800 dark:text-blue-300 text-sm sm:text-base",children:"🔑 Credenciales del Servicio"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:`text-xs ${d(r,"text-blue-600","text-blue-400")}`,children:"Email:"}),o.jsx("p",{className:`font-mono text-xs sm:text-sm p-2 rounded border ${d(r,"bg-gray-50 border-gray-200 text-gray-900","bg-zinc-800 border-zinc-600 text-zinc-100")}`,children:g.service_email})]}),o.jsxs("div",{children:[o.jsx("label",{className:`text-xs ${d(r,"text-blue-600","text-blue-400")}`,children:"Contraseña:"}),o.jsx("p",{className:`font-mono text-xs sm:text-sm p-2 rounded border ${d(r,"bg-gray-50 border-gray-200 text-gray-900","bg-zinc-800 border-zinc-600 text-zinc-100")}`,children:g.service_password})]})]}),g.admin_notes&&o.jsxs("div",{className:"mt-2",children:[o.jsx("label",{className:`text-xs ${d(r,"text-blue-600","text-blue-400")}`,children:"Notas:"}),o.jsx("p",{className:`text-xs sm:text-sm p-2 rounded border ${d(r,"bg-gray-50 border-gray-200 text-gray-900","bg-zinc-800 border-zinc-600 text-zinc-100")}`,children:g.admin_notes})]})]}),o.jsxs("div",{className:`p-2 sm:p-3 rounded-lg mt-2 sm:mt-3 ${d(r,"bg-blue-50 border border-blue-200","bg-blue-900/20 border border-blue-700")}`,children:[o.jsx("h5",{className:"font-semibold mb-2 text-blue-800 dark:text-blue-300 text-sm sm:text-base",children:"ℹ️ Información del Servicio"}),o.jsxs("div",{className:"text-xs sm:text-sm text-blue-700 dark:text-blue-300",children:[o.jsxs("p",{children:["📅 ",o.jsx("strong",{children:"Duración:"})," ",g.months," ",g.months===1?"mes":"meses"]}),o.jsxs("p",{children:["📧 ",o.jsx("strong",{children:"Contacto:"})," Para renovaciones, contacta al administrador"]})]})]})]},g.id)})})]})]}):o.jsxs("div",{className:`text-center py-16 rounded-2xl border-2 border-dashed ${d(r,"border-zinc-200 bg-zinc-50","border-zinc-700 bg-zinc-800")}`,children:[o.jsx("div",{className:"text-6xl mb-4",children:"🔐"}),o.jsx("h4",{className:"text-xl font-semibold mb-2",children:"Inicia sesión para ver tu perfil"}),o.jsx("p",{className:d(r,"text-zinc-600","text-zinc-400"),children:"Necesitas iniciar sesión para ver tus compras"}),o.jsx("button",{onClick:()=>l("auth"),className:d(r,"mt-4 rounded-xl bg-zinc-900 text-white px-6 py-3","mt-4 rounded-xl bg-white text-zinc-900 px-6 py-3"),children:"Iniciar sesión"})]}),ac&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:`w-full max-w-2xl rounded-2xl p-6 shadow-2xl ${d(r,"bg-white","bg-zinc-800")}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-bold",children:"➕ Registrar Compra Personalizada"}),o.jsx("button",{onClick:()=>Ot(!1),className:"text-2xl hover:text-red-500",children:"×"})]}),o.jsx("p",{className:`text-sm ${d(r,"text-zinc-800","text-zinc-300")} mb-4`,children:"Para registrar compras realizadas fuera de la página web"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"👤 Nombre del Cliente *"}),o.jsx("input",{type:"text",value:H.customer,onChange:g=>Le(C=>({...C,customer:g.target.value})),className:`w-full rounded-xl border px-4 py-3 ${d(r,"border-zinc-300 bg-white text-zinc-900","border-zinc-600 bg-zinc-700 text-zinc-100")}`,placeholder:"Ej: Juan Pérez"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"📱 Teléfono *"}),o.jsx("input",{type:"tel",value:H.phone,onChange:g=>Le(C=>({...C,phone:g.target.value})),className:`w-full rounded-xl border px-4 py-3 ${d(r,"border-zinc-300 bg-white text-zinc-900","border-zinc-600 bg-zinc-700 text-zinc-100")}`,placeholder:"Ej: 0999123456"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"📧 Email del Cliente"}),o.jsx("input",{type:"email",value:H.email,onChange:g=>Le(C=>({...C,email:g.target.value})),className:`w-full rounded-xl border px-4 py-3 ${d(r,"border-zinc-300 bg-white text-zinc-900","border-zinc-600 bg-zinc-700 text-zinc-100")}`,placeholder:"Ej: cliente@email.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"📺 Servicio *"}),o.jsxs("select",{value:H.service,onChange:g=>Le(C=>({...C,service:g.target.value})),className:`w-full rounded-xl border px-4 py-3 ${d(r,"border-zinc-300 bg-white text-zinc-900","border-zinc-600 bg-zinc-700 text-zinc-100")}`,children:[o.jsx("option",{value:"",children:"Seleccionar servicio"}),Lt.map(g=>o.jsx("option",{value:g.name,children:g.name},g.id)),Ks.map(g=>o.jsx("option",{value:g.name,children:g.name},g.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"📅 Duración (meses) *"}),o.jsxs("select",{value:H.months,onChange:g=>Le(C=>({...C,months:parseInt(g.target.value)})),className:`w-full rounded-xl border px-4 py-3 ${d(r,"border-zinc-300 bg-white text-zinc-900","border-zinc-600 bg-zinc-700 text-zinc-100")}`,children:[o.jsx("option",{value:1,children:"1 mes"}),o.jsx("option",{value:3,children:"3 meses"}),o.jsx("option",{value:6,children:"6 meses"}),o.jsx("option",{value:12,children:"12 meses"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"📧 Email del Servicio *"}),o.jsx("input",{type:"email",value:H.serviceEmail,onChange:g=>Le(C=>({...C,serviceEmail:g.target.value})),className:`w-full rounded-xl border px-4 py-3 ${d(r,"border-zinc-300 bg-white text-zinc-900","border-zinc-600 bg-zinc-700 text-zinc-100")}`,placeholder:"Ej: usuario@netflix.com"})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"🔑 Contraseña del Servicio *"}),o.jsx("input",{type:"password",value:H.servicePassword,onChange:g=>Le(C=>({...C,servicePassword:g.target.value})),className:`w-full rounded-xl border px-4 py-3 ${d(r,"border-zinc-300 bg-white text-zinc-900","border-zinc-600 bg-zinc-700 text-zinc-100")}`,placeholder:"Contraseña del servicio"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"📝 Notas Adicionales"}),o.jsx("textarea",{value:H.notes,onChange:g=>Le(C=>({...C,notes:g.target.value})),className:`w-full rounded-xl border px-4 py-3 ${d(r,"border-zinc-300 bg-white text-zinc-900","border-zinc-600 bg-zinc-700 text-zinc-100")}`,rows:3,placeholder:"Información adicional sobre esta compra..."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>Ot(!1),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${d(r,"bg-zinc-200 text-zinc-700 hover:bg-zinc-300","bg-zinc-700 text-zinc-200 hover:bg-zinc-600")}`,children:"Cancelar"}),o.jsx("button",{onClick:Rf,disabled:$,className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${$?"opacity-50 cursor-not-allowed":""} ${d(r,"bg-blue-600 text-white hover:bg-blue-700","bg-blue-500 text-white hover:bg-blue-600")}`,children:$?"⏳ Creando...":"✅ Registrar Compra"})]})]})})]}),a==="adminLogin"&&o.jsxs("section",{className:"min-h-[80vh] relative",children:[o.jsx("div",{className:"absolute inset-0 -z-10",style:{backgroundImage:"url(/img/bg-cinema.jpg)",backgroundSize:"cover",backgroundPosition:"center"}}),o.jsx("div",{className:"absolute inset-0 -z-0 bg-black/60"}),o.jsx("div",{className:"relative z-10 min-h-[80vh] grid place-items-center",children:o.jsxs("div",{className:d(r,"w-full max-w-md rounded-3xl bg-white/95 p-8 shadow-2xl border border-gray-200","w-full max-w-md rounded-3xl bg-white/95 p-8 shadow-2xl border border-gray-200"),children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mb-4",children:o.jsx("span",{className:"text-2xl text-white",children:"🔐"})}),o.jsx("h3",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Acceso Administrador"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Ingresa tus credenciales para acceder al panel"})]}),o.jsx(_v,{isDark:r,adminEmails:y,onLogin:g=>{g&&(f(!0),l("admin"),oo("dashboard"))}}),o.jsx("div",{className:"mt-8 text-center",children:o.jsxs("button",{onClick:()=>l("home"),className:"text-gray-600 hover:text-gray-800 text-sm transition-colors duration-200 flex items-center justify-center gap-2",children:[o.jsx("span",{children:"←"})," Volver al inicio"]})})]})})]}),a==="admin"&&o.jsxs("section",{className:"mx-auto max-w-6xl px-3 sm:px-4 pb-8 sm:pb-16",children:[o.jsx("div",{className:"mb-4 sm:mb-8",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl sm:text-3xl font-bold",children:"🔧 Panel Administrador"}),o.jsx("p",{className:`text-sm sm:text-base ${d(r,"text-zinc-600","text-zinc-300")}`,children:"Gestiona compras, administradores y configuración"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3",children:[o.jsx("button",{onClick:()=>P(!0),className:`rounded-xl px-3 sm:px-4 py-2 text-xs sm:text-sm hover:scale-105 transition-transform ${d(r,"bg-zinc-200 text-zinc-800 hover:bg-zinc-300","bg-zinc-700 text-zinc-200 hover:bg-zinc-600")}`,children:"☰ Menú"}),o.jsx("button",{onClick:zt,disabled:$,className:`rounded-xl px-3 sm:px-4 py-2 text-xs sm:text-sm hover:scale-105 transition-transform disabled:opacity-50 ${d(r,"bg-blue-600 text-white hover:bg-blue-700","bg-blue-500 text-white hover:bg-blue-600")}`,children:$?"⏳ Cargando...":"🔄 Actualizar Todo"}),o.jsx("button",{onClick:()=>l("home"),className:`rounded-xl px-3 sm:px-4 py-2 text-xs sm:text-sm hover:scale-105 transition-transform ${d(r,"bg-zinc-100 text-zinc-700 hover:bg-zinc-200","bg-zinc-800 text-zinc-200 hover:bg-zinc-700")}`,children:"← Inicio"})]})]})}),o.jsxs("div",{className:"grid gap-3 sm:gap-6 grid-cols-2 lg:grid-cols-4 mb-6 sm:mb-8",children:[o.jsx("div",{className:`rounded-xl p-3 sm:p-6 shadow-lg ${d(r,"bg-white border border-zinc-200","bg-zinc-800 border border-zinc-700")}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm font-medium text-zinc-500 mb-1",children:"Total Compras"}),o.jsx("div",{className:"text-xl sm:text-3xl font-bold",children:$e.length})]}),o.jsx("div",{className:"text-xl sm:text-3xl",children:"📊"})]})}),o.jsx("div",{className:`rounded-xl p-3 sm:p-6 shadow-lg ${d(r,"bg-white border border-zinc-200","bg-zinc-800 border border-zinc-700")}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm font-medium text-zinc-500 mb-1",children:"Pendientes"}),o.jsx("div",{className:"text-xl sm:text-3xl font-bold text-amber-600",children:gt.length})]}),o.jsx("div",{className:"text-xl sm:text-3xl",children:"⏳"})]})}),o.jsx("div",{className:`rounded-xl p-3 sm:p-6 shadow-lg ${d(r,"bg-white border border-zinc-200","bg-zinc-800 border border-zinc-700")}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm font-medium text-zinc-500 mb-1",children:"Validadas"}),o.jsx("div",{className:"text-xl sm:text-3xl font-bold text-green-600",children:$e.filter(g=>g.validated).length})]}),o.jsx("div",{className:"text-xl sm:text-3xl",children:"✅"})]})}),o.jsx("div",{className:`rounded-xl p-3 sm:p-6 shadow-lg ${d(r,"bg-white border border-zinc-200","bg-zinc-800 border border-zinc-700")}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-sm font-medium text-zinc-500 mb-1",children:"Vencen Hoy"}),o.jsx("div",{className:"text-xl sm:text-3xl font-bold text-red-600",children:bs.filter(g=>g.days_remaining===0).length})]}),o.jsx("div",{className:"text-xl sm:text-3xl",children:"⚠️"})]})})]}),o.jsxs("div",{className:"grid gap-3 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 mb-6 sm:mb-8",children:[o.jsxs("button",{onClick:()=>oo("purchases"),className:`rounded-xl p-4 sm:p-6 text-left transition-all hover:scale-105 ${d(r,"bg-zinc-900 text-white shadow-lg","bg-white text-zinc-900 shadow-lg")}`,children:[o.jsx("div",{className:"text-xl sm:text-2xl mb-2",children:"🛒"}),o.jsx("div",{className:"text-lg sm:text-xl font-bold mb-2",children:"Gestionar Compras"}),o.jsx("div",{className:"text-xs sm:text-sm opacity-70",children:"Revisa, valida y notifica por WhatsApp"})]}),o.jsxs("button",{onClick:()=>Ot(!0),className:`rounded-xl p-4 sm:p-6 text-left transition-all hover:scale-105 ${d(r,"bg-blue-600 text-white shadow-lg","bg-blue-600 text-white shadow-lg")}`,children:[o.jsx("div",{className:"text-xl sm:text-2xl mb-2",children:"➕"}),o.jsx("div",{className:"text-lg sm:text-xl font-bold mb-2",children:"Registrar Compra"}),o.jsx("div",{className:"text-xs sm:text-sm opacity-70",children:"Crear compra manual para un usuario"})]}),o.jsxs("button",{onClick:()=>S(!0),className:`rounded-xl p-4 sm:p-6 text-left transition-all hover:scale-105 ${d(r,"bg-zinc-900 text-white shadow-lg","bg-white text-zinc-900 shadow-lg")}`,children:[o.jsx("div",{className:"text-xl sm:text-2xl mb-2",children:"👥"}),o.jsx("div",{className:"text-lg sm:text-xl font-bold mb-2",children:"Administradores"}),o.jsx("div",{className:"text-xs sm:text-sm opacity-70",children:"Agregar o quitar correos con acceso"})]}),o.jsxs("button",{onClick:fc,className:`rounded-xl p-4 sm:p-6 text-left transition-all hover:scale-105 ${d(r,"bg-zinc-900 text-white shadow-lg","bg-white text-zinc-900 shadow-lg")}`,children:[o.jsx("div",{className:"text-xl sm:text-2xl mb-2",children:"📊"}),o.jsx("div",{className:"text-lg sm:text-xl font-bold mb-2",children:"Exportar Datos"}),o.jsx("div",{className:"text-xs sm:text-sm opacity-70",children:"Descargar reporte en formato CSV"})]})]}),o.jsxs("div",{className:`rounded-xl p-3 sm:p-6 shadow-lg mb-4 sm:mb-6 ${d(r,"bg-white border border-zinc-200","bg-zinc-800 border border-zinc-700")}`,children:[o.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 sm:mb-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsxs("button",{onClick:()=>dc("pending"),className:`px-3 sm:px-4 py-2 rounded-xl font-medium transition-all text-sm ${_s==="pending"?d(r,"bg-amber-100 text-amber-800","bg-amber-900/30 text-amber-400"):d(r,"bg-zinc-100 text-zinc-600 hover:bg-zinc-200","bg-zinc-700 text-zinc-300 hover:bg-zinc-600")}`,children:["⏳ Pendientes (",gt.length,")"]}),o.jsxs("button",{onClick:()=>dc("active"),className:`px-3 sm:px-4 py-2 rounded-xl font-medium transition-all text-sm ${_s==="active"?d(r,"bg-green-100 text-green-800","bg-green-900/30 text-green-400"):d(r,"bg-zinc-100 text-zinc-600 hover:bg-zinc-200","bg-zinc-700 text-zinc-300 hover:bg-zinc-600")}`,children:["✅ Activas (",$e.filter(g=>g.validated).length,")"]})]})}),_s==="pending"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-2",children:[o.jsx("h4",{className:"text-lg sm:text-xl font-bold",children:"⏳ Compras Pendientes"}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs sm:text-sm font-medium ${d(r,"bg-amber-100 text-amber-800","bg-amber-900/30 text-amber-400")}`,children:[gt.length," pendientes"]})]}),$?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-2xl mb-2",children:"⏳"}),o.jsx("p",{children:"Cargando compras pendientes..."})]}):gt.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-2xl mb-2",children:"✅"}),o.jsx("p",{children:"No hay compras pendientes"})]}):o.jsx("div",{className:"space-y-3 sm:space-y-4",children:gt.map(g=>o.jsx("div",{className:`p-3 sm:p-4 rounded-xl border ${d(r,"bg-zinc-50 border-zinc-200","bg-zinc-700 border-zinc-600")}`,children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[o.jsx("span",{className:"font-semibold text-sm sm:text-base",children:g.customer}),o.jsx("span",{className:`px-2 py-1 rounded text-xs ${d(r,"bg-blue-100 text-blue-800","bg-blue-900/30 text-blue-400")}`,children:g.service})]}),o.jsxs("div",{className:"text-xs sm:text-sm text-zinc-500 mb-2",children:["📱 ",g.phone," • 📅 ",new Date(g.created_at).toLocaleDateString()]}),o.jsxs("div",{className:"text-xs sm:text-sm",children:[o.jsx("span",{className:"font-medium",children:"Duración:"})," ",g.months," meses •",o.jsx("span",{className:"font-medium",children:" Inicio:"})," ",g.start," •",o.jsx("span",{className:"font-medium",children:" Fin:"})," ",g.end]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[o.jsx("button",{onClick:()=>G(g),className:`px-3 py-2 rounded-xl font-medium transition-all text-xs sm:text-sm ${d(r,"bg-green-600 text-white hover:bg-green-700","bg-green-500 text-white hover:bg-green-600")}`,children:"✅ Aprobar"}),o.jsx("button",{onClick:()=>zf(g.id),className:`px-3 py-2 rounded-xl font-medium transition-all text-xs sm:text-sm ${d(r,"bg-red-600 text-white hover:bg-red-700","bg-red-500 text-white hover:bg-red-600")}`,children:"❌ Rechazar"})]})]})},g.id))})]}),_s==="active"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"text-xl font-bold",children:"✅ Compras Activas"}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d(r,"bg-green-100 text-green-800","bg-green-900/30 text-green-400")}`,children:[$e.filter(g=>g.validated).length," activas"]})]}),$?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-2xl mb-2",children:"⏳"}),o.jsx("p",{children:"Cargando compras activas..."})]}):$e.filter(g=>g.validated).length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-2xl mb-2",children:"📺"}),o.jsx("p",{children:"No hay compras activas"})]}):o.jsx("div",{className:"space-y-4",children:$e.filter(g=>g.validated).map(g=>o.jsx(mv,{item:g,isDark:r,onToggleValidate:()=>{Af(g.id)},onDelete:()=>{Of(g.id,g.customer,g.service)},onEdit:()=>Vf(g)}))})]})]}),xn&&o.jsxs("div",{className:`rounded-2xl p-6 shadow-lg mb-6 ${d(r,"bg-white border border-zinc-200","bg-zinc-800 border border-zinc-700")}`,children:[o.jsx("h4",{className:"text-xl font-bold mb-4",children:"📊 Estadísticas de Renovaciones"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:xn.totalPurchases}),o.jsx("div",{className:`text-sm ${d(r,"text-zinc-800","text-zinc-300")}`,children:"Total Compras"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:xn.autoRenewalEnabled}),o.jsx("div",{className:`text-sm ${d(r,"text-zinc-800","text-zinc-300")}`,children:"Auto-Renovación"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-amber-600",children:xn.expiringThisWeek}),o.jsx("div",{className:`text-sm ${d(r,"text-zinc-800","text-zinc-300")}`,children:"Vencen Esta Semana"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-red-600",children:xn.expiredServices}),o.jsx("div",{className:`text-sm ${d(r,"text-zinc-800","text-zinc-300")}`,children:"Expirados"})]})]})]}),o.jsxs("div",{className:`rounded-2xl p-6 shadow-lg mb-6 ${d(r,"bg-white border border-zinc-200","bg-zinc-800 border border-zinc-700")}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"text-xl font-bold",children:"⏰ Servicios Próximos a Vencer"}),o.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${d(r,"bg-amber-100 text-amber-800","bg-amber-900/30 text-amber-400")}`,children:[bs.length," próximos a vencer"]})]}),bs.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"text-2xl mb-2",children:"✅"}),o.jsx("p",{children:"No hay servicios próximos a vencer"})]}):o.jsx("div",{className:"space-y-4",children:bs.map(g=>o.jsx("div",{className:`p-4 rounded-xl border ${d(r,"bg-amber-50 border-amber-200","bg-amber-900/20 border-amber-600")}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("span",{className:"font-semibold",children:g.customer_name}),o.jsx("span",{className:`px-2 py-1 rounded text-xs ${d(r,"bg-blue-100 text-blue-800","bg-blue-900/30 text-blue-400")}`,children:g.service_name}),o.jsxs("span",{className:`px-2 py-1 rounded text-xs ${g.days_remaining<=3?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-400"}`,children:[g.days_remaining," días"]})]}),o.jsxs("div",{className:"text-sm text-zinc-500 mb-2",children:["📱 ",g.customer_phone," • 📅 Vence: ",new Date(g.end_date).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>nc(g.purchase_id,1),disabled:ec,className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${d(r,"bg-green-600 text-white hover:bg-green-700 disabled:opacity-50","bg-green-500 text-white hover:bg-green-600 disabled:opacity-50")}`,children:"🔄 Renovar 1 mes"}),o.jsx("button",{onClick:()=>nc(g.purchase_id,3),disabled:ec,className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${d(r,"bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50","bg-blue-500 text-white hover:bg-blue-600 disabled:opacity-50")}`,children:"🔄 Renovar 3 meses"})]})]})},g.purchase_id))})]}),A&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:`w-full max-w-md rounded-2xl p-6 shadow-2xl ${d(r,"bg-white","bg-zinc-800")}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-bold",children:"✅ Aprobar Compra"}),o.jsx("button",{onClick:()=>G(null),className:"text-2xl hover:text-red-500",children:"×"})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"font-medium",children:A.customer}),o.jsxs("p",{className:"text-sm text-zinc-500",children:[A.service," • ",A.months," meses"]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"📧 Email del Servicio"}),o.jsx("input",{type:"email",value:V.email,onChange:g=>xt(C=>({...C,email:g.target.value})),className:`w-full rounded-xl border px-4 py-3 ${d(r,"border-zinc-300 bg-white text-zinc-900","border-zinc-600 bg-zinc-700 text-zinc-100")}`,placeholder:"usuario@netflix.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"🔑 Contraseña del Servicio"}),o.jsx("input",{type:"password",value:V.password,onChange:g=>xt(C=>({...C,password:g.target.value})),className:`w-full rounded-xl border px-4 py-3 ${d(r,"border-zinc-300 bg-white text-zinc-900","border-zinc-600 bg-zinc-700 text-zinc-100")}`,placeholder:"••••••••"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"📝 Notas (opcional)"}),o.jsx("textarea",{value:V.notes,onChange:g=>xt(C=>({...C,notes:g.target.value})),className:`w-full rounded-xl border px-4 py-3 ${d(r,"border-zinc-300 bg-white text-zinc-900","border-zinc-600 bg-zinc-700 text-zinc-100")}`,rows:3,placeholder:"Notas adicionales..."})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{onClick:()=>G(null),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${d(r,"bg-zinc-200 text-zinc-700 hover:bg-zinc-300","bg-zinc-700 text-zinc-200 hover:bg-zinc-600")}`,children:"Cancelar"}),o.jsx("button",{onClick:Tf,disabled:$||!V.email||!V.password,className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${$||!V.email||!V.password?"opacity-50 cursor-not-allowed":""} ${d(r,"bg-green-600 text-white hover:bg-green-700","bg-green-500 text-white hover:bg-green-600")}`,children:$?"⏳ Aprobando...":"✅ Aprobar Compra"})]})]})})]}),o.jsxs("footer",{className:`border-t py-8 text-center text-sm ${d(r,"text-zinc-500 border-zinc-200","text-zinc-400 border-zinc-800")}`,children:["© ",new Date().getFullYear()," StreamZone"]}),o.jsx(uv,{open:If,onClose:()=>ws(!1),title:`🔐 Registro Requerido - ${(vn==null?void 0:vn.name)||""}`,isDark:r,className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:vn&&o.jsx(Nv,{service:vn,onClose:()=>ws(!1),isDark:r,onGoToAuth:()=>{ws(!1),l("auth")}})}),o.jsx(Sv,{open:Uf,onClose:()=>oc(!1),service:Df,user:c,isDark:r,onPurchase:Mf}),o.jsx(Ev,{open:ac,onClose:()=>Ot(!1),onRegister:qf,isDark:r,systemPrefersDark:n}),o.jsx(Tv,{open:Bf,onClose:()=>yn(!1),onUpdate:Wf,purchase:io,isDark:r,systemPrefersDark:n}),o.jsx(pv,{open:_,onClose:()=>S(!1),isDark:r,adminUsers:v,setAdminUsers:x}),o.jsx(gv,{open:k,onClose:()=>P(!1),isDark:r,setSubView:oo,openAdmins:()=>S(!0),onExportCSV:fc,onLogout:Kf,onRegisterPurchase:()=>Ot(!0)}),o.jsx(dv,{answerFn:(g,C)=>lv(Lt,Ks).answer(g,C),isDark:r}),o.jsx(hv,{isDark:r,onToggle:i})]})}function mv({item:t,isDark:e,onToggleValidate:r,onDelete:n,onEdit:s}){const i=oi(new Date().toISOString().slice(0,10),t.end),a=i<0?"Vencido":i===0?"Vence hoy":`${i} dias`,l=t.service&&Jr(t.service),c=l?Pv(t.admin_notes||""):{},u=l?kv(t.service):[],h=l?$v(t.admin_notes||""):"",[f,m]=N.useState({});return l&&(console.log("Debug - Combo detectado:",t.service),console.log("Debug - admin_notes:",t.admin_notes),console.log("Debug - comboCredentials:",c),console.log("Debug - comboServices:",u)),o.jsxs("details",{className:`relative group rounded-xl border-2 shadow-sm hover:shadow-md transition-all duration-200 ${d(e,"border-gray-200 bg-white hover:border-gray-300","border-gray-700 bg-gray-800 hover:border-gray-600")}`,children:[o.jsx("summary",{className:"cursor-pointer list-none p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold text-sm ${d(e,"bg-gradient-to-r from-blue-500 to-purple-600","bg-gradient-to-r from-blue-600 to-purple-700")}`,children:t.customer.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:`font-semibold text-lg ${d(e,"text-gray-900","text-white")}`,children:t.customer}),o.jsxs("p",{className:`text-sm ${d(e,"text-gray-600","text-gray-400")}`,children:["📱 ",t.phone]})]})]}),o.jsxs("div",{className:`text-sm font-medium mb-2 ${d(e,"text-gray-800","text-gray-200")}`,children:["🎬 ",t.service]}),o.jsxs("div",{className:`text-xs ${d(e,"text-gray-600","text-gray-400")}`,children:["📅 ",t.start," → ",t.end," • ",t.months," ",t.months===1?"mes":"meses"]}),l&&u.length>1&&o.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:u.map((p,b)=>o.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${d(e,"bg-blue-50 text-blue-700 border-blue-200","bg-blue-900/20 text-blue-300 border-blue-700")}`,children:p},b))})]}),o.jsxs("div",{className:"flex flex-col items-end gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-300 shadow-sm hover:shadow-md transition-all duration-200 flex items-center justify-center group",onClick:p=>{p.preventDefault(),p.stopPropagation();const b=p.currentTarget.closest("details");b&&(b.open=!b.open,setTimeout(()=>{var j;const w=(j=p.currentTarget)==null?void 0:j.querySelector("span");w&&b.open?w.textContent="▲":w&&(w.textContent="▼")},10))},title:"Ver detalles",children:o.jsx("span",{className:"text-sm group-hover:scale-110 transition-transform duration-200",children:"▼"})}),o.jsx("button",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-110 flex items-center justify-center group",onClick:p=>{p.preventDefault(),p.stopPropagation(),s()},title:"Editar compra",children:o.jsx("span",{className:"text-lg group-hover:scale-110 transition-transform duration-200",children:"✏️"})})]}),o.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${t.validated?"bg-green-100 text-green-800 border border-green-200":"bg-amber-100 text-amber-800 border border-amber-200"}`,children:t.validated?"✅ Validada":"⏳ Pendiente"}),o.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${i<=0?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:a})]})]})}),l&&o.jsxs("div",{className:`mx-4 mb-4 p-4 rounded-xl border-2 ${d(e,"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200","bg-gradient-to-r from-gray-800 to-gray-900 border-gray-600")}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${d(e,"bg-blue-100","bg-blue-900/30")}`,children:"🔑"}),o.jsx("h5",{className:`font-semibold text-base ${d(e,"text-gray-800","text-white")}`,children:"Credenciales del Combo"})]}),Object.keys(c).length>0?o.jsx("div",{className:"grid gap-3",children:Object.entries(c).map(([p,b])=>o.jsxs("div",{className:`p-4 rounded-lg border ${d(e,"bg-white border-gray-200 shadow-sm","bg-gray-700 border-gray-600 shadow-lg")}`,children:[o.jsxs("div",{className:`font-semibold text-sm mb-3 flex items-center gap-2 ${d(e,"text-gray-800","text-white")}`,children:[o.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs ${d(e,"bg-blue-100 text-blue-700","bg-blue-900 text-blue-300")}`,children:"📺"}),p]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`text-xs font-medium w-16 ${d(e,"text-gray-600","text-gray-400")}`,children:"Email:"}),o.jsx("code",{className:`text-xs font-mono px-2 py-1 rounded border ${d(e,"bg-gray-100 text-gray-800 border-gray-200","bg-gray-800 text-gray-200 border-gray-600")}`,children:b.email})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`text-xs font-medium w-16 ${d(e,"text-gray-600","text-gray-400")}`,children:"Password:"}),o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx("code",{className:`text-xs font-mono px-2 py-1 rounded border flex-1 ${d(e,"bg-gray-100 text-gray-800 border-gray-200","bg-gray-800 text-gray-200 border-gray-600")}`,children:f[p]?b.password:"••••••••"}),o.jsx("button",{onClick:()=>m(w=>({...w,[p]:!w[p]})),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${d(e,"bg-blue-100 text-blue-700 hover:bg-blue-200","bg-blue-900 text-blue-300 hover:bg-blue-800")}`,title:f[p]?"Ocultar contraseña":"Mostrar contraseña",children:f[p]?"👁️":"🔒"})]})]})]})]},p))}):o.jsx("div",{className:"grid gap-3",children:u.map((p,b)=>o.jsxs("div",{className:`p-4 rounded-lg border ${d(e,"bg-white border-gray-200 shadow-sm","bg-gray-700 border-gray-600 shadow-lg")}`,children:[o.jsxs("div",{className:`font-semibold text-sm mb-3 flex items-center gap-2 ${d(e,"text-gray-800","text-white")}`,children:[o.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs ${d(e,"bg-blue-100 text-blue-700","bg-blue-900 text-blue-300")}`,children:"📺"}),p]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`text-xs font-medium w-16 ${d(e,"text-gray-600","text-gray-400")}`,children:"Email:"}),o.jsx("code",{className:`text-xs font-mono px-2 py-1 rounded border ${d(e,"bg-gray-100 text-gray-800 border-gray-200","bg-gray-800 text-gray-200 border-gray-600")}`,children:t.service_email||"No disponible"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`text-xs font-medium w-16 ${d(e,"text-gray-600","text-gray-400")}`,children:"Password:"}),o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx("code",{className:`text-xs font-mono px-2 py-1 rounded border flex-1 ${d(e,"bg-gray-100 text-gray-800 border-gray-200","bg-gray-800 text-gray-200 border-gray-600")}`,children:f[p]?t.service_password||"No disponible":"••••••••"}),o.jsx("button",{onClick:()=>m(w=>({...w,[p]:!w[p]})),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${d(e,"bg-blue-100 text-blue-700 hover:bg-blue-200","bg-blue-900 text-blue-300 hover:bg-blue-800")}`,title:f[p]?"Ocultar contraseña":"Mostrar contraseña",children:f[p]?"👁️":"🔒"})]})]})]})]},b))}),h&&o.jsxs("div",{className:`mt-4 p-4 rounded-lg border ${d(e,"bg-yellow-50 border-yellow-200","bg-yellow-900/20 border-yellow-700")}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${d(e,"bg-yellow-100","bg-yellow-900/30")}`,children:"📝"}),o.jsx("h6",{className:`font-semibold text-sm ${d(e,"text-yellow-800","text-yellow-200")}`,children:"Notas del Administrador"})]}),o.jsx("p",{className:`text-sm ${d(e,"text-yellow-700","text-yellow-300")}`,children:h})]})]}),!l&&t.service_email&&o.jsxs("div",{className:`mx-4 mb-4 p-4 rounded-xl border-2 ${d(e,"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200","bg-gradient-to-r from-gray-800 to-gray-900 border-gray-600")}`,children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${d(e,"bg-green-100","bg-green-900/30")}`,children:"🔑"}),o.jsx("h5",{className:`font-semibold text-base ${d(e,"text-gray-800","text-white")}`,children:"Credenciales del Servicio"})]}),o.jsx("div",{className:`p-4 rounded-lg border ${d(e,"bg-white border-gray-200 shadow-sm","bg-gray-700 border-gray-600 shadow-lg")}`,children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`text-sm font-medium w-20 ${d(e,"text-gray-600","text-gray-400")}`,children:"Email:"}),o.jsx("code",{className:`text-sm font-mono px-3 py-2 rounded border flex-1 ${d(e,"bg-gray-100 text-gray-800 border-gray-200","bg-gray-800 text-gray-200 border-gray-600")}`,children:t.service_email})]}),t.service_password&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`text-sm font-medium w-20 ${d(e,"text-gray-600","text-gray-400")}`,children:"Password:"}),o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx("code",{className:`text-sm font-mono px-3 py-2 rounded border flex-1 ${d(e,"bg-gray-100 text-gray-800 border-gray-200","bg-gray-800 text-gray-200 border-gray-600")}`,children:f.individual?t.service_password:"••••••••"}),o.jsx("button",{onClick:()=>m(p=>({...p,individual:!p.individual})),className:`px-3 py-2 rounded text-sm font-medium transition-colors ${d(e,"bg-blue-100 text-blue-700 hover:bg-blue-200","bg-blue-900 text-blue-300 hover:bg-blue-800")}`,title:f.individual?"Ocultar contraseña":"Mostrar contraseña",children:f.individual?"👁️":"🔒"})]})]})]})})]}),o.jsx("div",{className:"mx-4 mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl border",children:o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsx("button",{className:`px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 hover:scale-105 ${t.validated?"bg-blue-600 hover:bg-blue-700 text-white":"bg-emerald-600 hover:bg-emerald-700 text-white"}`,onClick:r,children:t.validated?"✅ Validada":"⏳ Validar"}),o.jsx("button",{className:"px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 hover:scale-105 bg-orange-600 hover:bg-orange-700 text-white",onClick:s,children:"✏️ Editar"}),o.jsx("a",{className:"px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 hover:scale-105 bg-green-600 hover:bg-green-700 text-white no-underline",target:"_blank",rel:"noreferrer",href:`https://wa.me/${Zl(t.phone)}?text=${encodeURIComponent("Estimado/a "+t.customer+", le informamos que su servicio de "+t.service+" vence hoy. ¿Le gustaría proceder con la renovación? Contamos con excelentes precios y soporte técnico.")}`,children:"📱 Recordatorio"}),o.jsx("button",{className:"px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 hover:scale-105 bg-red-600 hover:bg-red-700 text-white",onClick:n,children:"🗑️ Eliminar"}),o.jsx("div",{className:"ml-auto",children:o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${i<=0?"bg-red-100 text-red-800 border border-red-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:a})})]})}),o.jsx("button",{className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-110 flex items-center justify-center opacity-0 group-hover:opacity-100",onClick:p=>{p.preventDefault(),p.stopPropagation(),s()},title:"Editar compra",children:o.jsx("span",{className:"text-sm",children:"✏️"})})]})}function pv({open:t,onClose:e,isDark:r,adminUsers:n,setAdminUsers:s}){const[i,a]=N.useState(""),[l,c]=N.useState(""),[u,h]=N.useState(""),f=j=>{if(!j.canGenerateKeys){alert("❌ Solo los administradores secundarios pueden generar claves de acceso");return}const v=Date.now().toString(36),x=Math.random().toString(36).substring(2,8),y=`ADMIN_${v}_${x}`.toUpperCase();c(y),h(j.email),navigator.clipboard.writeText(y),alert(`🔑 Clave generada para ${j.email}:

${y}

✅ Copiada al portapapeles`)},m=()=>{const j=i.trim().toLowerCase();if(!av(j)){alert("❌ Email inválido");return}if(n.some(x=>x.email===j)){alert("❌ Este administrador ya existe");return}const v={email:j,role:"secundario",canGenerateKeys:!0,canDeleteOthers:!1,isProtected:!1};s([...n,v]),a(""),alert(`✅ Administrador secundario agregado: ${j}`)},p=j=>{if(j.isProtected){alert("❌ No puedes eliminar al administrador principal");return}confirm(`¿Estás seguro de eliminar a ${j.email}?`)&&(s(n.filter(v=>v.email!==j.email)),alert(`✅ Administrador ${j.email} eliminado`))},b=n.find(j=>j.role==="principal"),w=n.filter(j=>j.role==="secundario");return t?o.jsxs("div",{className:"fixed inset-0 z-50",onClick:e,children:[o.jsx("div",{className:"absolute inset-0 bg-black/50"}),o.jsxs("aside",{className:`absolute right-0 top-0 h-full w-full sm:w-[450px] p-3 sm:p-6 shadow-2xl ${d(r,"bg-white","bg-zinc-900 text-zinc-100")}`,onClick:j=>j.stopPropagation(),children:[o.jsxs("div",{className:"mb-4 sm:mb-6 flex items-center justify-between",children:[o.jsx("h4",{className:"text-lg sm:text-xl font-bold",children:"👥 Gestión de Administradores"}),o.jsx("button",{onClick:e,className:`w-8 h-8 rounded-full flex items-center justify-center text-lg font-bold transition-colors ${d(r,"text-zinc-500 hover:text-zinc-700 hover:bg-zinc-100","text-zinc-300 hover:text-zinc-100 hover:bg-zinc-800")}`,children:"×"})]}),o.jsx("div",{className:`p-3 sm:p-4 rounded-xl mb-4 sm:mb-6 ${d(r,"bg-blue-50 border border-blue-200","bg-blue-900/20 border border-blue-700")}`,children:o.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[o.jsx("div",{className:"text-xl sm:text-2xl",children:"🔒"}),o.jsxs("div",{children:[o.jsx("h5",{className:`font-semibold text-xs sm:text-sm mb-1 ${d(r,"text-blue-800","text-blue-200")}`,children:"Sistema de Roles"}),o.jsxs("p",{className:`text-xs ${d(r,"text-blue-600","text-blue-300")}`,children:[o.jsx("strong",{children:"Principal:"})," Acceso completo, protegido. ",o.jsx("strong",{children:"Secundarios:"})," Pueden generar claves, limitados."]})]})]})}),b&&o.jsxs("div",{className:"mb-4 sm:mb-6",children:[o.jsx("h5",{className:`text-xs sm:text-sm font-semibold mb-2 sm:mb-3 ${d(r,"text-zinc-700","text-zinc-300")}`,children:"👑 Administrador Principal"}),o.jsx("div",{className:`rounded-xl border-2 p-3 sm:p-4 ${d(r,"border-yellow-200 bg-yellow-50","border-yellow-700 bg-yellow-900/20")}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"text-xl sm:text-2xl",children:"👑"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm sm:text-base",children:b.email}),o.jsx("div",{className:`text-xs ${d(r,"text-yellow-600","text-yellow-300")}`,children:"Acceso completo • Protegido"})]})]}),o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${d(r,"bg-yellow-100 text-yellow-800","bg-yellow-800 text-yellow-100")}`,children:"Principal"})]})})]}),o.jsxs("div",{className:"mb-4 sm:mb-6",children:[o.jsxs("h5",{className:`text-xs sm:text-sm font-semibold mb-2 sm:mb-3 ${d(r,"text-zinc-700","text-zinc-300")}`,children:["👥 Administradores Secundarios (",w.length,")"]}),o.jsxs("div",{className:"mb-3 sm:mb-4 flex flex-col sm:flex-row gap-2",children:[o.jsx("input",{value:i,onChange:j=>a(j.target.value),placeholder:"nuevo@correo.com",className:`flex-1 rounded-xl border px-3 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm ${d(r,"border-zinc-300 focus:border-zinc-500","border-zinc-700 bg-zinc-800 text-zinc-100 focus:border-zinc-500")}`,onKeyDown:j=>j.key==="Enter"&&m()}),o.jsx("button",{onClick:m,className:`rounded-xl px-3 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm font-semibold ${d(r,"bg-green-600 text-white hover:bg-green-700","bg-green-700 text-white hover:bg-green-600")}`,children:"+ Agregar"})]}),o.jsxs("div",{className:"max-h-48 sm:max-h-64 overflow-y-auto space-y-2",children:[w.map(j=>o.jsxs("div",{className:`rounded-xl border p-3 sm:p-4 ${d(r,"border-zinc-200 bg-zinc-50","border-zinc-700 bg-zinc-800")}`,children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-2 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-sm sm:text-base",children:j.email}),o.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${d(r,"bg-blue-100 text-blue-800","bg-blue-800 text-blue-100")}`,children:"Secundario"})]}),o.jsx("button",{onClick:()=>p(j),className:`rounded-lg px-3 py-1 text-xs font-semibold transition-colors ${d(r,"bg-red-100 text-red-700 hover:bg-red-200","bg-red-800 text-red-100 hover:bg-red-700")}`,children:"Eliminar"})]}),o.jsx("button",{onClick:()=>f(j),className:`w-full rounded-lg px-3 py-2 text-xs font-semibold transition-colors ${d(r,"bg-blue-100 text-blue-700 hover:bg-blue-200","bg-blue-800 text-blue-100 hover:bg-blue-700")}`,children:"🔑 Generar Clave de Acceso"})]},j.email)),w.length===0&&o.jsx("div",{className:`text-center py-8 text-sm ${d(r,"text-zinc-500","text-zinc-400")}`,children:"No hay administradores secundarios"})]})]}),o.jsx("div",{className:`mt-4 sm:mt-6 p-3 rounded-lg ${d(r,"bg-gray-50","bg-zinc-800")}`,children:o.jsxs("p",{className:`text-xs ${d(r,"text-gray-600","text-gray-400")}`,children:["💡 ",o.jsx("strong",{children:"Nota:"})," Solo los administradores secundarios pueden generar claves. El administrador principal tiene acceso directo sin clave."]})})]})]}):null}function gv({open:t,onClose:e,isDark:r,setSubView:n,openAdmins:s,onExportCSV:i,onLogout:a,onRegisterPurchase:l}){return t?o.jsxs("div",{className:"fixed inset-0 z-50",onClick:e,children:[o.jsx("div",{className:"absolute inset-0 bg-black/50"}),o.jsxs("aside",{className:`absolute left-0 top-0 h-full w-[320px] p-6 shadow-2xl ${d(r,"bg-white","bg-zinc-900 text-zinc-100")}`,onClick:c=>c.stopPropagation(),children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsx("h4",{className:"text-xl font-bold",children:"☰ Menú Admin"}),o.jsx("button",{onClick:e,className:`w-8 h-8 rounded-full flex items-center justify-center text-lg font-bold transition-colors ${d(r,"text-zinc-500 hover:text-zinc-700 hover:bg-zinc-100","text-zinc-300 hover:text-zinc-100 hover:bg-zinc-800")}`,children:"×"})]}),o.jsxs("nav",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>{n("dashboard"),e()},className:`w-full rounded-xl p-4 text-left transition-all hover:scale-105 ${d(r,"hover:bg-zinc-100","hover:bg-zinc-800")}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:"📊"}),o.jsx("span",{className:"font-semibold",children:"Dashboard"})]})}),o.jsx("button",{onClick:()=>{n("purchases"),e()},className:`w-full rounded-xl p-4 text-left transition-all hover:scale-105 ${d(r,"hover:bg-zinc-100","hover:bg-zinc-800")}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:"🛒"}),o.jsx("span",{className:"font-semibold",children:"Gestionar Compras"})]})}),o.jsx("button",{onClick:()=>{l(),e()},className:`w-full rounded-xl p-4 text-left transition-all hover:scale-105 ${d(r,"hover:bg-blue-50","hover:bg-blue-900/20")}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:"➕"}),o.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"Registrar Compra"})]})}),o.jsx("button",{onClick:()=>{s(),e()},className:`w-full rounded-xl p-4 text-left transition-all hover:scale-105 ${d(r,"hover:bg-zinc-100","hover:bg-zinc-800")}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:"👥"}),o.jsx("span",{className:"font-semibold",children:"Administradores"})]})}),o.jsx("button",{onClick:()=>{i(),e()},className:`w-full rounded-xl p-4 text-left transition-all hover:scale-105 ${d(r,"hover:bg-zinc-100","hover:bg-zinc-800")}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:"📊"}),o.jsx("span",{className:"font-semibold",children:"Exportar CSV"})]})}),o.jsx("div",{className:"border-t pt-3 mt-6",children:o.jsx("button",{onClick:()=>{a(),e()},className:`w-full rounded-xl p-4 text-left transition-all hover:scale-105 ${d(r,"text-red-700 hover:bg-red-100","text-red-300 hover:bg-red-900/30")}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:"🚪"}),o.jsx("span",{className:"font-semibold",children:"Cerrar Sesión"})]})})})]})]})]}):null}function xv({value:t,onChange:e,isDark:r,disabled:n}){const[s,i]=N.useState(!1),[a,l]=N.useState(""),[c,u]=N.useState(Wo.find(m=>m.code===t)||Wo[0]),h=Wo.filter(m=>m.name.toLowerCase().includes(a.toLowerCase())||m.code.includes(a)||m.flag.includes(a)),f=m=>{u(m),e(m.code),i(!1),l("")};return o.jsxs("div",{className:"relative w-32 sm:w-40",children:[o.jsxs("button",{type:"button",onClick:()=>!n&&i(!s),disabled:n,className:`w-full rounded-xl border-2 px-3 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 flex items-center justify-between ${d(r,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200 hover:border-blue-300","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20 hover:border-blue-400")} ${n?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:c.flag}),o.jsx("span",{className:"text-sm font-medium",children:c.code})]}),o.jsx("svg",{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&o.jsxs("div",{className:`absolute top-full left-0 right-0 mt-1 rounded-xl border-2 shadow-lg z-50 max-h-64 overflow-hidden ${d(r,"border-gray-200 bg-white","border-gray-600 bg-gray-800")}`,children:[o.jsx("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:o.jsx("input",{type:"text",placeholder:"Buscar país...",value:a,onChange:m=>l(m.target.value),className:`w-full px-3 py-2 rounded-lg text-sm border ${d(r,"border-gray-300 bg-white text-gray-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-1 focus:ring-blue-800/20")}`,autoFocus:!0})}),o.jsx("div",{className:"max-h-48 overflow-y-auto",children:h.length>0?h.map(m=>o.jsxs("button",{type:"button",onClick:()=>f(m),className:`w-full px-3 py-2 text-left hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors flex items-center gap-3 ${d(r,"text-gray-900 hover:text-blue-700","text-white hover:text-blue-300")} ${c.code===m.code?"bg-blue-100 dark:bg-blue-900/30":""}`,children:[o.jsx("span",{className:"text-lg",children:m.flag}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-sm",children:m.name}),o.jsx("div",{className:"text-xs opacity-70",children:m.code})]}),c.code===m.code&&o.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},m.code+m.name)):o.jsx("div",{className:`px-3 py-2 text-sm ${d(r,"text-gray-500","text-gray-400")}`,children:"No se encontraron países"})})]}),s&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)})]})}function vv({isDark:t,onSubmit:e}){const[r,n]=N.useState(""),[s,i]=N.useState(""),[a,l]=N.useState("+593"),[c,u]=N.useState(""),[h,f]=N.useState(""),[m,p]=N.useState(""),[b,w]=N.useState(!1),[j,v]=N.useState(""),[x,y]=N.useState(!1),_=async S=>{if(S.preventDefault(),v(""),y(!0),!r||!s||!c||!h){v("Todos los campos son obligatorios"),y(!1);return}if(h!==m){v("Las contraseñas no coinciden"),y(!1);return}if(h.length<6){v("La contraseña debe tener al menos 6 caracteres"),y(!1);return}try{const k=a+s.replace(/[^\d]/g,""),{data:P,error:T}=await R.from("users").insert([{name:r,phone:k,email:c.toLowerCase().trim(),password:h}]).select().single();if(T){T.code==="23505"?v("Ya existe un usuario con este email o teléfono"):v("Error al crear la cuenta"),y(!1);return}v("✅ Cuenta creada exitosamente"),e({name:r,phone:Zl(s),email:c,password:h})}catch{v("Error al crear la cuenta"),y(!1)}};return o.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:d(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Nombre completo"}),o.jsx("input",{required:!0,className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${d(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:r,onChange:S=>n(S.target.value),placeholder:"Tu nombre completo",disabled:x})]}),o.jsxs("div",{children:[o.jsx("label",{className:d(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"WhatsApp"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(xv,{value:a,onChange:l,isDark:t,disabled:x}),o.jsx("input",{required:!0,className:`flex-1 rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${d(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:s,onChange:S=>i(S.target.value),placeholder:"99 999 9999",disabled:x})]}),o.jsxs("div",{className:`text-xs mt-1 ${d(t,"text-gray-500","text-gray-400")}`,children:["Número completo: ",a," ",s]})]}),o.jsxs("div",{children:[o.jsx("label",{className:d(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Correo electrónico"}),o.jsx("input",{required:!0,type:"email",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${d(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:c,onChange:S=>u(S.target.value),placeholder:"tu@correo.com",disabled:x})]}),o.jsxs("div",{children:[o.jsx("label",{className:d(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Contraseña"}),o.jsx("input",{required:!0,type:b?"text":"password",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${d(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:h,onChange:S=>f(S.target.value),placeholder:"••••••••",minLength:6,disabled:x})]}),o.jsxs("div",{children:[o.jsx("label",{className:d(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Confirmar contraseña"}),o.jsx("input",{required:!0,type:b?"text":"password",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${d(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:m,onChange:S=>p(S.target.value),placeholder:"••••••••",minLength:6,disabled:x})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",id:"showPassword",checked:b,onChange:S=>w(S.target.checked),className:"rounded",disabled:x}),o.jsx("label",{htmlFor:"showPassword",className:d(t,"text-sm text-zinc-700","text-sm text-zinc-300"),children:"Mostrar contraseña"})]}),j&&o.jsx("div",{className:`text-sm ${j.includes("✅")?"text-green-600":"text-red-600"}`,children:j}),o.jsx("button",{type:"submit",disabled:x,className:`w-full rounded-xl px-4 py-3 font-semibold transition-all ${x?"opacity-50 cursor-not-allowed":""} ${d(t,"bg-gradient-to-r from-green-600 to-blue-600 text-white hover:from-green-700 hover:to-blue-700","bg-gradient-to-r from-green-500 to-blue-600 text-white hover:from-green-600 hover:to-blue-700")}`,children:x?"⏳ Creando cuenta...":"🚀 Crear cuenta"})]})}function yv({isDark:t,onLogin:e,onForgotPassword:r}){const[n,s]=N.useState(""),[i,a]=N.useState(""),[l,c]=N.useState(""),[u,h]=N.useState(!1),[f,m]=N.useState(!1),p=async b=>{b.preventDefault(),m(!0),c("");try{const w=await tv(n,i);w.data?(c("Login exitoso"),e(w.data)):c("Credenciales incorrectas")}catch{c("Error en el login")}finally{m(!1)}};return o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:d(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Correo electrónico"}),o.jsx("input",{required:!0,type:"email",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${d(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:n,onChange:b=>s(b.target.value),placeholder:"tu@correo.com",disabled:f})]}),o.jsxs("div",{children:[o.jsx("label",{className:d(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Contraseña"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{required:!0,type:u?"text":"password",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${d(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:i,onChange:b=>a(b.target.value),placeholder:"••••••",disabled:f}),o.jsx("button",{type:"button",onClick:()=>h(b=>!b),className:d(t,"rounded-xl bg-zinc-100 px-4 py-3","rounded-xl bg-zinc-700 px-4 py-3"),disabled:f,children:u?"👁️":"👁️‍🗨️"})]})]}),l&&o.jsx("div",{className:`text-sm ${l.includes("exitoso")?"text-green-600":"text-red-600"}`,children:l}),o.jsx("button",{type:"submit",disabled:f,className:`w-full rounded-xl px-4 py-3 font-semibold transition-all ${f?"opacity-50 cursor-not-allowed":""} ${d(t,"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700","bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700")}`,children:f?"⏳ Iniciando sesión...":"🚀 Iniciar Sesión"}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:r,className:`text-sm ${d(t,"text-zinc-600 hover:text-zinc-800","text-zinc-400 hover:text-zinc-200")}`,disabled:f,children:"¿Olvidaste tu contraseña?"})})]})}function bv({isDark:t,onBack:e,onTokenSent:r,onRegister:n}){const[s,i]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(!1),h=async f=>{var m;f.preventDefault(),u(!0),l("");try{console.log("🔍 Generando token para:",s);const p=await Ef(s);if(console.log("🔍 Resultado:",p),p.data){const b=`✅ Token generado: ${p.data.token}. Usa este código para continuar.`;console.log("🔍 Mensaje:",b),l(b),r(s,p.data.token)}else console.log("🔍 Error:",p.error),l(((m=p.error)==null?void 0:m.message)||"Error generando token")}catch(p){console.log("🔍 Error en catch:",p),l("Error en el proceso")}finally{u(!1)}};return o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"🔐 Recuperar Contraseña"}),o.jsx("p",{className:"text-sm opacity-80",children:"Para recuperar tu contraseña, necesitas un código de verificación"})]}),o.jsx("div",{className:`p-4 rounded-xl mb-4 ${d(t,"bg-blue-50 border border-blue-200","bg-blue-900/20 border border-blue-400/30")}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:"💬"}),o.jsxs("div",{children:[o.jsx("h4",{className:`font-semibold mb-2 ${d(t,"text-zinc-800","text-zinc-200")}`,children:"📋 Instrucciones:"}),o.jsxs("ol",{className:`text-sm space-y-1 list-decimal list-inside ${d(t,"text-zinc-700","text-zinc-300")}`,children:[o.jsxs("li",{children:["Haz clic en el botón ",o.jsx("span",{className:"font-semibold",children:'"Chat"'})," (esquina inferior derecha)"]}),o.jsxs("li",{children:["Escribe: ",o.jsx("span",{className:`font-mono px-1 rounded ${d(t,"bg-gray-200 text-zinc-800","bg-gray-700 text-zinc-200")}`,children:'"olvidé mi contraseña"'})]}),o.jsxs("li",{children:["Envía tu email: ",o.jsx("span",{className:"font-semibold",children:"ejemplo@gmail.com"})]}),o.jsx("li",{children:"Copia el código que te dé el chatbot"}),o.jsx("li",{children:"Regresa aquí y pega el código"})]})]})]})}),o.jsx("div",{className:"text-center mb-4",children:o.jsx("button",{type:"button",onClick:()=>{const f=document.querySelector("[data-chat-button]");f&&f.click()},className:`inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold transition-all ${d(t,"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700","bg-gradient-to-r from-purple-500 to-blue-600 text-white hover:from-purple-600 hover:to-blue-700")}`,children:"💬 Abrir Chatbot"})}),o.jsxs("div",{children:[o.jsx("label",{className:d(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Correo electrónico"}),o.jsx("input",{required:!0,type:"email",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${d(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:s,onChange:f=>i(f.target.value),placeholder:"tu@correo.com",disabled:c})]}),a&&o.jsx("div",{className:`text-sm ${a.includes("✅")?"text-green-600":"text-red-600"}`,children:a}),a&&a.includes("No existe un usuario")&&o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:n,className:`text-sm ${d(t,"text-blue-600 hover:text-blue-700","text-blue-400 hover:text-blue-300")}`,children:"✨ Crear cuenta nueva"})}),o.jsx("button",{type:"submit",disabled:c,className:`w-full rounded-xl px-4 py-3 font-semibold transition-all ${c?"opacity-50 cursor-not-allowed":""} ${d(t,"bg-gradient-to-r from-orange-500 to-red-500 text-white hover:from-orange-600 hover:to-red-600","bg-gradient-to-r from-red-500 to-orange-600 text-white hover:from-red-600 hover:to-orange-700")}`,children:c?"⏳ Generando token...":"📧 Enviar Token de Recuperación"}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:e,className:`text-sm ${d(t,"text-zinc-600 hover:text-zinc-800","text-zinc-400 hover:text-zinc-200")}`,disabled:c,children:"← Volver al login"})})]})}function wv({isDark:t,email:e,onBack:r,onCodeVerified:n}){const[s,i]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(!1),h=async f=>{f.preventDefault(),u(!0),l("");try{(await Xl(s)).data?(l("✅ Código verificado correctamente"),n(s)):l("❌ Código inválido o expirado")}catch{l("Error verificando código")}finally{u(!1)}};return o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsx("h3",{className:"text-xl font-bold mb-2",children:"🔐 Verificar Código"})}),o.jsx("div",{className:`p-4 rounded-xl mb-4 ${d(t,"bg-green-50 border border-green-200","bg-green-900/20 border border-green-400/30")}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:"🔑"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"💡 ¿No tienes el código?"}),o.jsx("p",{className:"text-sm mb-2",children:"El código se obtiene del chatbot en el paso anterior."}),o.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[o.jsx("strong",{children:"Tip:"})," Si no lo tienes, vuelve al paso anterior y sigue las instrucciones."]})]})]})}),o.jsx("div",{className:"text-center mb-4",children:o.jsx("button",{type:"button",onClick:()=>{const f=document.querySelector("[data-chat-button]");f&&f.click()},className:`inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold transition-all ${d(t,"bg-gradient-to-r from-green-500 to-blue-600 text-white hover:from-green-600 hover:to-blue-700","bg-gradient-to-r from-blue-500 to-green-600 text-white hover:from-blue-600 hover:to-green-700")}`,children:"💬 Abrir Chatbot"})}),o.jsxs("div",{children:[o.jsx("label",{className:d(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Código de verificación"}),o.jsx("input",{required:!0,type:"text",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${d(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:s,onChange:f=>i(f.target.value),placeholder:"Ingresa el código de 6 dígitos",disabled:c})]}),a&&o.jsx("div",{className:`text-sm ${a.includes("✅")?"text-green-600":"text-red-600"}`,children:a}),o.jsx("button",{type:"submit",disabled:c,className:`w-full rounded-xl px-4 py-3 font-semibold transition-all ${c?"opacity-50 cursor-not-allowed":""} ${d(t,"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700","bg-gradient-to-r from-purple-500 to-blue-600 text-white hover:from-purple-600 hover:to-blue-700")}`,children:c?"⏳ Verificando código...":"✅ Verificar Código"}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:r,className:`text-sm ${d(t,"text-zinc-600 hover:text-zinc-800","text-zinc-400 hover:text-zinc-200")}`,disabled:c,children:"← Volver a ingresar email"})})]})}function jv({isDark:t,email:e,token:r,onSuccess:n}){const[s,i]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(""),[h,f]=N.useState(!1),[m,p]=N.useState(!1),b=async w=>{var j;if(w.preventDefault(),s!==a){u("Las contraseñas no coinciden");return}if(s.length<6){u("La contraseña debe tener al menos 6 caracteres");return}f(!0),u("");try{const v=await ev(r,s);v.data?(u("✅ Contraseña restablecida exitosamente"),setTimeout(()=>n(),2e3)):u(((j=v.error)==null?void 0:j.message)||"Error restableciendo contraseña")}catch{u("Error en el proceso")}finally{f(!1)}};return o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:"🔄 Nueva Contraseña"}),o.jsx("p",{className:"text-sm opacity-80",children:"Crea una nueva contraseña para tu cuenta"}),o.jsxs("p",{className:"text-xs opacity-60 mt-1",children:["Email: ",e]})]}),o.jsxs("div",{children:[o.jsx("label",{className:d(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Nueva contraseña"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{required:!0,type:m?"text":"password",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${d(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:s,onChange:w=>i(w.target.value),placeholder:"Mínimo 6 caracteres",disabled:h}),o.jsx("button",{type:"button",onClick:()=>p(w=>!w),className:d(t,"rounded-xl bg-zinc-100 px-4 py-3","rounded-xl bg-zinc-700 px-4 py-3"),disabled:h,children:m?"👁️":"👁️‍🗨️"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:d(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Confirmar contraseña"}),o.jsx("input",{required:!0,type:"password",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${d(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:a,onChange:w=>l(w.target.value),placeholder:"Repite la contraseña",disabled:h})]}),c&&o.jsx("div",{className:`text-sm ${c.includes("✅")?"text-green-600":"text-red-600"}`,children:c}),o.jsx("button",{type:"submit",disabled:h,className:`w-full rounded-xl px-4 py-3 font-semibold transition-all ${h?"opacity-50 cursor-not-allowed":""} ${d(t,"bg-gradient-to-r from-green-500 to-blue-500 text-white hover:from-green-600 hover:to-blue-600","bg-gradient-to-r from-blue-500 to-green-600 text-white hover:from-blue-600 hover:to-green-700")}`,children:h?"⏳ Restableciendo...":"✅ Restablecer Contraseña"})]})}function _v({isDark:t,onLogin:e,adminEmails:r}){const[n,s]=N.useState(""),[i,a]=N.useState(""),[l,c]=N.useState(""),[u,h]=N.useState(!1),[f,m]=N.useState(!1),p=async b=>{b.preventDefault(),m(!0),c(""),await new Promise(v=>setTimeout(v,500));const w=n.trim().toLowerCase(),j=r.map(v=>v.toLowerCase()).includes(w)&&i.trim()==="Jeremias_012.@";c(j?"":"Credenciales incorrectas"),e(j),m(!1)};return o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"📧 Correo electrónico"}),o.jsx("div",{className:"relative",children:o.jsx("input",{required:!0,type:"email",className:"w-full rounded-xl border-2 border-gray-200 bg-white text-gray-900 px-4 py-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",value:n,onChange:b=>s(b.target.value),placeholder:"admin@correo.com",disabled:f})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"🔑 Contraseña"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{required:!0,type:u?"text":"password",className:"w-full rounded-xl border-2 border-gray-200 bg-white text-gray-900 px-4 py-3 pr-12 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",value:i,onChange:b=>a(b.target.value),placeholder:"••••••••",disabled:f}),o.jsx("button",{type:"button",onClick:()=>h(b=>!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors duration-200",disabled:f,children:u?"🙈":"👁️"})]})]}),l&&o.jsxs("div",{className:"p-3 rounded-xl bg-red-50 border border-red-200 text-red-700 text-sm flex items-center gap-2",children:[o.jsx("span",{children:"⚠️"}),l]}),o.jsx("button",{type:"submit",disabled:f,className:"w-full rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:f?o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verificando..."]}):"🚀 Entrar al Panel"})]})}function Nv({service:t,onClose:e,isDark:r,onGoToAuth:n}){return o.jsxs("div",{className:"space-y-6 p-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx("div",{className:"text-6xl mb-3 animate-bounce",children:"🔐"}),o.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"})]}),o.jsx("h3",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Registro Requerido"}),o.jsxs("p",{className:`text-base mb-6 ${d(r,"text-gray-700","text-gray-300")}`,children:["Para comprar ",o.jsx("span",{className:"font-bold text-blue-600",children:t.name})," necesitas crear una cuenta en ",o.jsx("span",{className:"font-bold text-purple-600",children:"StreamZone"})]})]}),o.jsxs("div",{className:`rounded-xl p-4 border ${d(r,"bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200","bg-gradient-to-br from-blue-900/20 to-purple-900/20 border-blue-600")}`,children:[o.jsx("h4",{className:`text-lg font-bold mb-4 text-center ${d(r,"text-blue-900","text-blue-100")}`,children:"✨ Beneficios de registrarte:"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${d(r,"bg-white/70","bg-blue-800/20")}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:"🎯"}),o.jsx("span",{className:`font-medium text-sm ${d(r,"text-blue-800","text-blue-200")}`,children:"Acceso rápido"})]})}),o.jsx("div",{className:`p-2 rounded-lg ${d(r,"bg-white/70","bg-blue-800/20")}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:"📱"}),o.jsx("span",{className:`font-medium text-sm ${d(r,"text-blue-800","text-blue-200")}`,children:"Notificaciones"})]})}),o.jsx("div",{className:`p-2 rounded-lg ${d(r,"bg-white/70","bg-blue-800/20")}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:"💳"}),o.jsx("span",{className:`font-medium text-sm ${d(r,"text-blue-800","text-blue-200")}`,children:"Pago seguro"})]})}),o.jsx("div",{className:`p-2 rounded-lg ${d(r,"bg-white/70","bg-blue-800/20")}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:"⚡"}),o.jsx("span",{className:`font-medium text-sm ${d(r,"text-blue-800","text-blue-200")}`,children:"Activación"})]})})]})]}),o.jsx("div",{className:`rounded-xl p-4 border ${d(r,"bg-gradient-to-r from-gray-50 to-blue-50 border-gray-200","bg-gradient-to-r from-gray-800 to-blue-900/20 border-gray-600")}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`h-12 w-12 ${t.color} rounded-xl text-white flex items-center justify-center text-xl font-bold shadow-md`,children:t.logo}),o.jsxs("div",{children:[o.jsx("h5",{className:`text-lg font-bold ${d(r,"text-gray-900","text-white")}`,children:t.name}),o.jsxs("p",{className:`text-base ${d(r,"text-gray-600","text-gray-300")}`,children:["Precio: ",o.jsx("span",{className:"font-bold text-green-600",children:fe(t.price)}),"/mes"]})]})]}),o.jsx("div",{className:`px-3 py-1 rounded-full ${d(r,"bg-green-100 text-green-800","bg-green-800/30 text-green-200")}`,children:o.jsx("span",{className:"text-xs font-semibold",children:"Premium"})})]})}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("button",{onClick:n,className:`w-full rounded-xl px-6 py-4 font-bold text-lg transition-all duration-300 hover:scale-105 shadow-xl ${d(r,"bg-gradient-to-r from-purple-600 via-blue-600 to-pink-600 text-white hover:from-purple-700 hover:via-blue-700 hover:to-pink-700","bg-gradient-to-r from-purple-700 via-blue-700 to-pink-700 text-white hover:from-purple-800 hover:via-blue-800 hover:to-pink-800")}`,children:o.jsxs("span",{className:"flex items-center justify-center gap-3",children:[o.jsx("span",{className:"text-xl",children:"🚀"}),o.jsx("span",{children:"Crear Cuenta y Comprar"}),o.jsx("span",{className:"text-xl",children:"✨"})]})}),o.jsx("button",{onClick:e,className:`w-full rounded-xl px-4 py-3 font-semibold transition-all duration-300 hover:scale-105 border ${d(r,"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400","bg-gray-800 text-gray-300 border-gray-600 hover:bg-gray-700 hover:border-gray-500")}`,children:o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx("span",{children:"←"}),o.jsx("span",{children:"Volver al Catálogo"})]})})]}),o.jsx("div",{className:"text-center pt-4",children:o.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${d(r,"bg-gray-100","bg-gray-800")}`,children:[o.jsx("span",{className:`text-sm ${d(r,"text-gray-600","text-gray-400")}`,children:"¿Ya tienes cuenta?"}),o.jsx("button",{onClick:n,className:`font-semibold text-sm px-3 py-1 rounded-full transition-all ${d(r,"text-blue-600 hover:text-blue-700 hover:bg-blue-50","text-blue-400 hover:text-blue-300 hover:bg-blue-900/20")}`,children:"Iniciar sesión"})]})})]})}function Sv({open:t,onClose:e,service:r,user:n,isDark:s,onPurchase:i}){const[a,l]=N.useState(""),[c,u]=N.useState(1),[h,f]=N.useState(1),[m,p]=N.useState("");if(!t||!r)return null;const b=r.billing==="annual",w=r.price*c*h,j=()=>{const v={service:r.name,price:r.price,duration:c,devices:h,total:r.price*c*h,paymentMethod:"pichincha",notes:m,customer:n.name,phone:n.phone,email:n.email,start:new Date().toISOString().slice(0,10),end:new Date(Date.now()+(b?c*365:c*30)*24*60*60*1e3).toISOString().slice(0,10)};i(v),e()};return o.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/50 p-2 md:p-4",onClick:e,children:o.jsxs("div",{className:`w-full max-w-2xl max-h-[90vh] rounded-3xl p-4 md:p-6 shadow-2xl overflow-y-auto ${d(s,"bg-white","bg-zinc-900 text-zinc-100")}`,onClick:v=>v.stopPropagation(),children:[o.jsxs("div",{className:"mb-4 md:mb-6 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl md:text-2xl font-bold",children:"Completar Compra"}),o.jsx("button",{onClick:e,className:`w-8 h-8 rounded-full flex items-center justify-center text-lg font-bold transition-colors ${d(s,"text-zinc-500 hover:text-zinc-700 hover:bg-zinc-100","text-zinc-300 hover:text-zinc-100 hover:bg-zinc-800")}`,children:"×"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:`rounded-2xl p-4 ${d(s,"bg-zinc-50","bg-zinc-800")}`,children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`h-12 w-12 ${r.color} rounded-xl text-white grid place-content-center text-xl font-bold`,children:r.logo}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold",children:r.name}),o.jsxs("p",{className:"text-sm opacity-70",children:[fe(r.price)," por ",b?"año":"mes"]})]})]})}),o.jsxs("div",{children:[o.jsx("label",{className:`block text-sm font-semibold mb-3 ${d(s,"text-gray-800","text-gray-200")}`,children:"Duración"}),o.jsx("div",{className:"flex gap-2",children:[1,2,3,6].map(v=>o.jsxs("button",{type:"button",onClick:()=>u(v),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${c===v?"bg-blue-600 text-white shadow-md":d(s,"bg-white text-gray-800 border border-gray-300 hover:bg-gray-50","bg-gray-700 text-gray-200 border border-gray-600 hover:bg-gray-600")}`,children:[v," ",b?v===1?"año":"años":v===1?"mes":"meses"]},v))})]}),o.jsxs("div",{children:[o.jsx("label",{className:`block text-sm font-semibold mb-3 ${d(s,"text-gray-800","text-gray-200")}`,children:"Número de Dispositivos"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:()=>h>1&&f(h-1),disabled:h<=1,className:`w-8 h-8 rounded-full flex items-center justify-center text-lg font-bold transition-all ${h<=1?d(s,"bg-gray-200 text-gray-400 cursor-not-allowed","bg-gray-600 text-gray-500 cursor-not-allowed"):d(s,"bg-gray-100 text-gray-700 hover:bg-gray-200","bg-gray-700 text-gray-200 hover:bg-gray-600")}`,children:"−"}),o.jsxs("div",{className:`border rounded-lg px-4 py-2 min-w-[100px] text-center ${d(s,"bg-gray-50 border-gray-300","bg-gray-700 border-gray-600")}`,children:[o.jsx("div",{className:`text-xl font-bold ${d(s,"text-gray-800","text-gray-100")}`,children:h}),o.jsx("div",{className:`text-xs ${d(s,"text-gray-600","text-gray-300")}`,children:h===1?"Dispositivo":"Dispositivos"})]}),o.jsx("button",{type:"button",onClick:()=>h<5&&f(h+1),disabled:h>=5,className:`w-8 h-8 rounded-full flex items-center justify-center text-lg font-bold transition-all ${h>=5?d(s,"bg-gray-200 text-gray-400 cursor-not-allowed","bg-gray-600 text-gray-500 cursor-not-allowed"):d(s,"bg-gray-100 text-gray-700 hover:bg-gray-200","bg-gray-700 text-gray-200 hover:bg-gray-600")}`,children:"+"})]}),o.jsx("div",{className:`mt-2 text-xs ${d(s,"text-gray-600","text-gray-300")}`,children:"Máximo 5 dispositivos por compra"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:`font-semibold mb-4 ${d(s,"text-gray-800","text-gray-200")}`,children:"💳 Información de Pago"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-4 text-white shadow-md",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("span",{className:"text-lg",children:"🏦"}),o.jsx("span",{className:"font-semibold text-sm text-white",children:"Banco Pichincha"})]}),o.jsxs("div",{className:"text-xs space-y-1 text-blue-100",children:[o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Titular:"})," Jeremias Guale Santana"]}),o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Cuenta:"})," 2209034638"]}),o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Tipo:"})," Ahorro Transaccional"]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg p-4 text-white shadow-md",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("span",{className:"text-lg",children:"🏛️"}),o.jsx("span",{className:"font-semibold text-sm text-white",children:"Banco Guayaquil"})]}),o.jsxs("div",{className:"text-xs space-y-1 text-blue-100",children:[o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Titular:"})," Jeremias Joel Guale Santana"]}),o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Cuenta:"})," 0122407273"]}),o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Tipo:"})," Ahorros"]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-blue-500 rounded-lg p-4 text-white shadow-md",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("span",{className:"text-lg",children:"🌊"}),o.jsx("span",{className:"font-semibold text-sm text-white",children:"Banco Pacífico"})]}),o.jsxs("div",{className:"text-xs space-y-1 text-purple-100",children:[o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Titular:"})," Byron Guale Santana"]}),o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Cuenta:"})," 1061220256"]}),o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Tipo:"})," Ahorros"]})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-400 to-purple-500 rounded-lg p-4 text-white shadow-md",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("span",{className:"text-lg",children:"💳"}),o.jsx("span",{className:"font-semibold text-sm text-white",children:"PayPal"})]}),o.jsxs("div",{className:"text-xs space-y-1 text-blue-100",children:[o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Email:"})," guale2023@outlook.com"]}),o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Método:"})," PayPal"]}),o.jsxs("div",{children:[o.jsx("strong",{className:"text-white",children:"Tipo:"})," Transferencia"]})]})]})]}),o.jsx("div",{className:`mt-4 p-6 rounded-2xl ${d(s,"bg-gradient-to-br from-orange-50 to-yellow-50 border-2 border-orange-200","bg-gradient-to-br from-orange-900/30 to-yellow-900/30 border-2 border-orange-500")}`,children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:`p-4 rounded-full ${d(s,"bg-orange-100","bg-orange-800/50")}`,children:o.jsx("span",{className:"text-4xl",children:"🚨"})})}),o.jsx("h5",{className:"text-xl font-bold text-orange-800 dark:text-orange-200 mb-3",children:"⚠️ Instrucciones Importantes"}),o.jsxs("div",{className:`p-4 rounded-xl ${d(s,"bg-white/80","bg-black/20")}`,children:[o.jsxs("p",{className:"text-sm text-orange-700 dark:text-orange-300 mb-4",children:["Una vez que hayas realizado el pago, ",o.jsx("strong",{className:"text-orange-800 dark:text-orange-200",children:"debes confirmar tu compra"})," enviando una captura del comprobante por WhatsApp a nuestros agentes."]}),o.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[o.jsxs("div",{className:`px-4 py-2 rounded-lg ${d(s,"bg-green-100 text-green-800","bg-green-800/50 text-green-200")}`,children:[o.jsx("span",{className:"text-lg",children:"📱"}),o.jsx("span",{className:"ml-2 font-semibold",children:"WhatsApp"})]}),o.jsxs("div",{className:`px-4 py-2 rounded-lg ${d(s,"bg-blue-100 text-blue-800","bg-blue-800/50 text-blue-200")}`,children:[o.jsx("span",{className:"text-lg",children:"💬"}),o.jsx("span",{className:"ml-2 font-semibold",children:"Agentes"})]})]}),o.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 font-medium",children:"⚡ Sin el comprobante, tu servicio NO será activado"})]})]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:`block text-sm font-semibold mb-2 ${d(s,"text-gray-800","text-gray-200")}`,children:"Notas adicionales (opcional)"}),o.jsx("textarea",{value:m,onChange:v=>p(v.target.value),placeholder:"Comentarios o instrucciones especiales...",className:`w-full rounded-lg border px-4 py-3 text-sm resize-none ${d(s,"border-gray-300 bg-white text-gray-900","border-gray-600 bg-gray-700 text-gray-100")}`,rows:3})]}),o.jsx("div",{className:`bg-gradient-to-r border rounded-lg p-4 ${d(s,"from-blue-100 to-purple-100 border-blue-300","from-blue-900/20 to-purple-900/20 border-blue-700")}`,children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:`text-lg font-semibold ${d(s,"text-gray-800","text-gray-200")}`,children:"Total a pagar:"}),o.jsx("span",{className:`text-2xl font-bold ${d(s,"text-blue-600","text-blue-400")}`,children:fe(w)})]})}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{onClick:e,className:`flex-1 rounded-lg px-4 py-3 font-semibold transition-colors ${d(s,"bg-gray-100 text-gray-800 hover:bg-gray-200","bg-gray-700 text-gray-200 hover:bg-gray-600")}`,children:"Cancelar"}),o.jsx("button",{onClick:j,className:"flex-1 rounded-lg px-4 py-3 font-semibold bg-blue-600 text-white hover:bg-blue-700 transition-colors shadow-md hover:shadow-lg",children:"Completar Compra"})]})]})]})})}function Ev({open:t,onClose:e,onRegister:r,isDark:n,systemPrefersDark:s}){const[i,a]=N.useState({name:"",phone:"",email:"",service:"",price:"",duration:1,isAnnual:!1,startDate:new Date().toISOString().slice(0,10),notes:""});if(!t)return null;const l=c=>{c.preventDefault();const u=new Date(i.startDate),h=i.isAnnual?i.duration*12:i.duration;u.setMonth(u.getMonth()+h),r({...i,price:parseFloat(i.price),endDate:u.toISOString()}),a({name:"",phone:"",email:"",service:"",price:"",duration:1,isAnnual:!1,startDate:new Date().toISOString().slice(0,10),notes:""})};return o.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/60 backdrop-blur-sm p-4",onClick:e,children:o.jsxs("div",{className:`w-full max-w-3xl rounded-lg shadow-xl max-h-[90vh] overflow-y-auto ${d(n,"bg-white","bg-gray-900")}`,onClick:c=>c.stopPropagation(),children:[o.jsx("div",{className:`relative p-6 border-b ${d(n,"bg-gray-50 border-gray-200","bg-gray-800 border-gray-700")}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:`text-xl font-semibold ${d(n,"text-gray-900","text-white")}`,children:"Registrar Compra Manual"}),o.jsx("button",{onClick:e,className:`w-6 h-6 rounded flex items-center justify-center text-lg font-bold ${d(n,"text-gray-500 hover:bg-gray-100","text-gray-400 hover:bg-gray-700")}`,children:"×"})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("form",{onSubmit:l,className:"space-y-8",children:[o.jsxs("div",{className:`p-4 rounded-lg ${d(n,"bg-gray-50","bg-gray-800")}`,children:[o.jsx("h4",{className:`text-lg font-semibold mb-4 ${d(n,"text-gray-900","text-white")}`,children:"Información del Cliente"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:`block text-sm font-semibold ${d(n,"text-gray-700","text-gray-300")}`,children:"Nombre completo *"}),o.jsx("input",{required:!0,value:i.name,onChange:c=>a({...i,name:c.target.value}),className:`w-full rounded-xl border-2 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 ${De(n,s,"border-gray-300 bg-white text-gray-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-100","border-gray-600 bg-gray-700 text-white focus:border-blue-400 focus:ring-2 focus:ring-blue-800/30","border-gray-400 bg-gray-50 text-gray-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-200")}`,placeholder:"Juan Pérez"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:`block text-sm font-semibold ${d(n,"text-gray-700","text-gray-300")}`,children:"WhatsApp *"}),o.jsx("input",{required:!0,value:i.phone,onChange:c=>a({...i,phone:c.target.value}),className:`w-full rounded-xl border-2 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 ${De(n,s,"border-gray-300 bg-white text-gray-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-100","border-gray-600 bg-gray-700 text-white focus:border-blue-400 focus:ring-2 focus:ring-blue-800/30","border-gray-400 bg-gray-50 text-gray-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-200")}`,placeholder:"+593987654321"})]}),o.jsxs("div",{className:"md:col-span-2 space-y-2",children:[o.jsx("label",{className:`block text-sm font-semibold ${d(n,"text-gray-700","text-gray-300")}`,children:"Email (opcional)"}),o.jsx("input",{type:"email",value:i.email,onChange:c=>a({...i,email:c.target.value}),className:`w-full rounded-xl border-2 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 ${De(n,s,"border-gray-300 bg-white text-gray-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-100","border-gray-600 bg-gray-700 text-white focus:border-blue-400 focus:ring-2 focus:ring-blue-800/30","border-gray-400 bg-gray-50 text-gray-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-200")}`,placeholder:"juan@correo.com"})]})]})]}),o.jsxs("div",{className:`p-4 rounded-lg ${d(n,"bg-gray-50","bg-gray-800")}`,children:[o.jsx("h4",{className:`text-lg font-semibold mb-4 ${d(n,"text-gray-900","text-white")}`,children:"Información del Servicio"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:`block text-sm font-semibold ${d(n,"text-gray-700","text-gray-300")}`,children:"Servicio *"}),o.jsxs("select",{required:!0,value:i.service,onChange:c=>a({...i,service:c.target.value}),className:`w-full rounded-xl border-2 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 ${De(n,s,"border-gray-300 bg-white text-gray-900 focus:border-green-500 focus:ring-green-200","border-gray-600 bg-gray-800 text-gray-100 focus:border-green-400 focus:ring-green-800/20","border-gray-400 bg-gray-50 text-gray-900 focus:border-green-600 focus:ring-green-300")}`,children:[o.jsx("option",{value:"",children:"Seleccionar servicio"}),Lt.map(c=>o.jsxs("option",{value:c.name,children:[c.name," - ",fe(c.price),"/",c.billing==="annual"?"año":"mes"]},c.id))]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:`block text-sm font-semibold ${d(n,"text-gray-700","text-gray-300")}`,children:"Precio (USD) *"}),o.jsx("input",{required:!0,type:"number",step:"0.01",min:"0",value:i.price,onChange:c=>a({...i,price:c.target.value}),className:`w-full rounded-xl border-2 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 ${De(n,s,"border-gray-300 bg-white text-gray-900 focus:border-green-500 focus:ring-green-200","border-gray-600 bg-gray-800 text-gray-100 focus:border-green-400 focus:ring-green-800/20","border-gray-400 bg-gray-50 text-gray-900 focus:border-green-600 focus:ring-green-300")}`,placeholder:"4.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:`block text-sm font-semibold ${d(n,"text-gray-700","text-gray-300")}`,children:"Duración *"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("input",{required:!0,type:"number",min:"1",value:i.duration,onChange:c=>a({...i,duration:parseInt(c.target.value)||1}),className:`flex-1 rounded-xl border-2 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 ${d(n,"border-gray-300 bg-white text-gray-900 focus:border-green-500 focus:ring-green-200","border-gray-600 bg-gray-800 text-gray-100 focus:border-green-400 focus:ring-green-800/20")}`}),o.jsxs("select",{value:i.isAnnual?"annual":"monthly",onChange:c=>a({...i,isAnnual:c.target.value==="annual"}),className:`rounded-xl border-2 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 ${d(n,"border-gray-300 bg-white text-gray-900 focus:border-green-500 focus:ring-green-200","border-gray-600 bg-gray-800 text-gray-100 focus:border-green-400 focus:ring-green-800/20")}`,children:[o.jsx("option",{value:"monthly",children:"Meses"}),o.jsx("option",{value:"annual",children:"Años"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:`block text-sm font-semibold ${d(n,"text-gray-700","text-gray-300")}`,children:"Fecha de inicio *"}),o.jsx("input",{required:!0,type:"date",value:i.startDate,onChange:c=>a({...i,startDate:c.target.value}),className:`w-full rounded-xl border-2 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 ${De(n,s,"border-gray-300 bg-white text-gray-900 focus:border-green-500 focus:ring-green-200","border-gray-600 bg-gray-800 text-gray-100 focus:border-green-400 focus:ring-green-800/20","border-gray-400 bg-gray-50 text-gray-900 focus:border-green-600 focus:ring-green-300")}`})]})]})]}),o.jsxs("div",{className:`p-6 rounded-2xl border-2 ${d(n,"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200","bg-gradient-to-br from-purple-900/20 to-pink-900/20 border-purple-700/30")}`,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d(n,"bg-purple-100","bg-purple-800/30")}`,children:o.jsx("span",{className:"text-xl",children:"📝"})}),o.jsx("h4",{className:`text-lg font-bold ${d(n,"text-purple-900","text-purple-100")}`,children:"Notas Adicionales"})]}),o.jsx("textarea",{value:i.notes,onChange:c=>a({...i,notes:c.target.value}),className:`w-full rounded-xl border-2 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 ${De(n,s,"border-gray-300 bg-white text-gray-900 focus:border-purple-500 focus:ring-purple-200","border-gray-600 bg-gray-800 text-gray-100 focus:border-purple-400 focus:ring-purple-800/20","border-gray-400 bg-gray-50 text-gray-900 focus:border-purple-600 focus:ring-purple-300")}`,rows:4,placeholder:"Comentarios, instrucciones especiales o información adicional..."})]}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:`flex-1 rounded-xl px-6 py-4 font-semibold text-sm transition-all hover:scale-105 ${d(n,"bg-gray-100 text-gray-700 hover:bg-gray-200 border-2 border-gray-300","bg-gray-700 text-gray-200 hover:bg-gray-600 border-2 border-gray-600")}`,children:"Cancelar"}),o.jsx("button",{type:"submit",className:"flex-1 rounded-xl px-6 py-4 font-semibold text-sm bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 transition-all hover:scale-105 shadow-lg hover:shadow-xl",children:o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx("span",{children:"✨"}),"Registrar Compra",o.jsx("span",{children:"✨"})]})})]})]})})]})})}function Ya(t){const e={};if(!t)return e;console.log("🔍 Parsing combo credentials from text:",t);const r=t.split(`
`);for(const n of r){const s=n.trim();if(!s)continue;console.log("🔍 Processing line:",s);let i=s.match(/^([^:]+):\s*([^\s/]+)\s*\/\s*(.+)$/);if(i){const c=i[1].trim(),u=i[2].trim(),h=i[3].trim();e[c]={email:u,password:h},console.log("🔍 Found credentials for",c,":",u,"/",h);continue}if(i=s.match(/^([^:]+):\s*([^\s/]+)\s*\/\s*(.+)$/),i){const c=i[1].trim(),u=i[2].trim(),h=i[3].trim();e[c]={email:u,password:h},console.log("🔍 Found credentials for",c,":",u,"/",h);continue}const a=s.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/);if(a){const c=a[1];console.log("🔍 Found email in line:",c),s.toLowerCase().includes("netflix")?e.Netflix={email:c,password:"contraseña"}:s.toLowerCase().includes("disney")?e["Disney+"]={email:c,password:"contraseña"}:s.toLowerCase().includes("paramount")?e["Paramount+"]={email:c,password:"contraseña"}:console.log("🔍 No service context found, using email as-is")}const l=s.match(/(?:contraseña|password):\s*(.+)/i);if(l){const c=l[1].trim();console.log("🔍 Found password:",c)}if(a&&s.toLowerCase().includes("paramount")&&!e["Paramount+"]){const c=a[1];console.log("🔍 Creating default credentials for Paramount+ with email:",c),e["Paramount+"]={email:c,password:"contraseña"}}}return console.log("🔍 Final parsed credentials:",e),e}function Jr(t){return t?["Netflix + Disney Estándar","Netflix + Disney Premium","Netflix + Max","Netflix + Prime Video","Prime Video + Disney Estándar","Disney Premium + Max","Max + Prime Video","Paramount + Max + Prime Video","Netflix + Max + Disney + Prime + Paramount","Spotify + Netflix","Spotify + Disney Premium"].includes(t):!1}function kv(t){if(!t||!Jr(t))return[t];const e={"Netflix + Disney Estándar":["Netflix","Disney+ Estándar"],"Netflix + Disney Premium":["Netflix","Disney+ Premium"],"Netflix + Max":["Netflix","Max"],"Netflix + Prime Video":["Netflix","Prime Video"],"Prime Video + Disney Estándar":["Prime Video","Disney+ Estándar"],"Disney Premium + Max":["Disney+ Premium","Max"],"Max + Prime Video":["Max","Prime Video"],"Paramount + Max + Prime Video":["Paramount+","Max","Prime Video"],"Netflix + Max + Disney + Prime + Paramount":["Netflix","Max","Disney+","Prime Video","Paramount+"],"Spotify + Netflix":["Spotify","Netflix"],"Spotify + Disney Premium":["Spotify","Disney+ Premium"]};return e[t]?e[t]:t.split(" + ").map(r=>r.trim())}function Cv(t){return t.toLowerCase().includes("disney")?t.toLowerCase().includes("premium")?"Disney+ Premium":"Disney+ Estándar":t}function Pv(t){if(!t)return{};try{const e=JSON.parse(t);if(e&&typeof e=="object"&&!e.customer){const r={},n=new Set;return Object.entries(e).forEach(([s,i])=>{if(s!=="notes"&&i&&typeof i=="object"&&i.email&&i.password){const a=Cv(s);n.has(a)||(r[a]={email:i.email,password:i.password},n.add(a))}}),r}}catch{return Ya(t)}return{}}function Xa(t){if(!t)return"";const e=t.split(`
`),r=[];for(const n of e)!n.includes("@")&&!n.includes("/")&&n.trim()&&r.push(n.trim());return r.join(`
`)}function $v(t){if(!t)return"";try{const e=JSON.parse(t);if(e&&typeof e=="object"&&e.notes)return e.notes}catch{return Xa(t)}return""}function Tv({open:t,onClose:e,onUpdate:r,purchase:n,isDark:s,systemPrefersDark:i}){const[a,l]=N.useState({customer:"",phone:"",service:"",start:"",end:"",months:1,service_email:"",service_password:"",admin_notes:""});N.useEffect(()=>{if(n){let u={},h="";if(n.service&&Jr(n.service))try{const f=JSON.parse(n.admin_notes||"{}");if(f&&typeof f=="object"&&!f.customer)u=f;else{const m=n.admin_notes||"";u=Ya(m),h=Xa(m)}}catch{const f=n.admin_notes||"";u=Ya(f),h=Xa(f)}else h=n.admin_notes||"";l({customer:n.customer||"",phone:n.phone||"",service:n.service||"",start:n.start||"",end:n.end||"",months:n.months||1,service_email:n.service_email||"",service_password:n.service_password||"",admin_notes:Object.keys(u).length>0?JSON.stringify(u):h})}},[n]);const c=u=>{if(u.preventDefault(),a.service&&Jr(a.service))try{const h=JSON.parse(a.admin_notes||"{}");h&&typeof h=="object"&&h.customer,r(a)}catch{r(a)}else r(a)};return!t||!n?null:o.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/60 backdrop-blur-sm p-2 sm:p-4",onClick:e,children:o.jsxs("div",{className:`w-full max-w-2xl sm:max-w-4xl mx-2 sm:mx-4 rounded-lg shadow-xl max-h-[98vh] sm:max-h-[95vh] overflow-y-auto ${d(s,"bg-white","bg-gray-900")}`,onClick:u=>u.stopPropagation(),children:[o.jsx("div",{className:`relative p-3 sm:p-4 border-b ${d(s,"bg-white border-gray-200","bg-gray-900 border-gray-700")}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:`text-lg sm:text-xl font-semibold ${d(s,"text-gray-900","text-white")}`,children:"Editar Compra"}),o.jsx("button",{onClick:e,className:`w-8 h-8 rounded-full flex items-center justify-center text-lg font-bold ${d(s,"text-gray-500 hover:bg-gray-100","text-gray-400 hover:bg-gray-800")}`,children:"×"})]})}),o.jsx("div",{className:"p-3 sm:p-6",children:o.jsxs("form",{onSubmit:c,className:"space-y-4 sm:space-y-6",children:[o.jsx("div",{className:`p-4 rounded-lg ${d(s,"bg-gray-50","bg-gray-800")}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h4",{className:`font-semibold ${d(s,"text-gray-900","text-white")}`,children:a.customer}),o.jsxs("p",{className:`text-sm ${d(s,"text-gray-600","text-gray-400")}`,children:[a.service," • ",a.months," ",a.months===1?"mes":"meses"]})]}),o.jsxs("p",{className:`text-sm ${d(s,"text-gray-500","text-gray-500")}`,children:["📱 ",a.phone]})]})}),a.service&&Jr(a.service)?o.jsxs("div",{className:`p-4 rounded-lg ${d(s,"bg-gray-50","bg-gray-800")}`,children:[o.jsx("div",{className:`p-2 rounded mb-4 ${d(s,"bg-green-100","bg-green-800/20")}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",children:"🎯"}),o.jsx("span",{className:`text-sm font-medium ${d(s,"text-green-800","text-green-100")}`,children:"Combo Detectado"})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:`text-sm font-medium mb-3 ${d(s,"text-gray-700","text-gray-300")}`,children:"Credenciales del Combo"}),a.service.split(" + ").map((u,h)=>{const f=u.trim(),m=(p,b)=>{if(b[p])return p;const w=[p+"+",p.replace("+",""),p.replace("+"," + "),p.replace(/\s+/g," "),"Disney+ Estándar","Disney Estándar"];for(const j of w)if(b[j])return j;return p};return o.jsxs("div",{className:`p-3 rounded-md ${d(s,"bg-white","bg-gray-700")}`,children:[o.jsx("h4",{className:`font-medium text-sm mb-3 ${d(s,"text-gray-800","text-white")}`,children:f}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:`block text-xs font-medium ${d(s,"text-gray-600","text-gray-400")}`,children:"Email *"}),o.jsx("input",{type:"email",placeholder:"usuario@email.com",className:`w-full rounded-xl border-2 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 ${De(s,i,"border-gray-300 bg-white text-gray-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-100","border-gray-600 bg-gray-700 text-white focus:border-blue-400 focus:ring-2 focus:ring-blue-800/30","border-gray-400 bg-gray-50 text-gray-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-200")}`,onChange:p=>{const b=JSON.parse(a.admin_notes||"{}"),w=m(f,b);b[w]={...b[w],email:p.target.value},l(j=>({...j,admin_notes:JSON.stringify(b)}))},defaultValue:(()=>{var p;try{const b=JSON.parse(a.admin_notes||"{}"),w=m(f,b);return((p=b[w])==null?void 0:p.email)||""}catch{return""}})()})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:`block text-xs font-medium ${d(s,"text-gray-600","text-gray-400")}`,children:"Contraseña *"}),o.jsx("input",{type:"text",placeholder:"contraseña123",className:`w-full rounded-xl border-2 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 ${De(s,i,"border-gray-300 bg-white text-gray-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-100","border-gray-600 bg-gray-700 text-white focus:border-blue-400 focus:ring-2 focus:ring-blue-800/30","border-gray-400 bg-gray-50 text-gray-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-200")}`,onChange:p=>{const b=JSON.parse(a.admin_notes||"{}"),w=m(f,b);b[w]={...b[w],password:p.target.value},l(j=>({...j,admin_notes:JSON.stringify(b)}))},defaultValue:(()=>{var p;try{const b=JSON.parse(a.admin_notes||"{}"),w=m(f,b);return((p=b[w])==null?void 0:p.password)||""}catch{return""}})()})]})]})]},h)})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${d(s,"bg-purple-100","bg-purple-800/30")}`,children:o.jsx("span",{className:"text-lg",children:"📝"})}),o.jsx("h4",{className:`text-lg font-bold ${d(s,"text-green-900","text-green-100")}`,children:"Notas Adicionales"})]}),o.jsx("textarea",{value:(()=>{try{const u=JSON.parse(a.admin_notes||"{}");return u&&typeof u=="object"&&!u.customer?u.notes||"":a.admin_notes||""}catch{return a.admin_notes||""}})(),onChange:u=>{const h=JSON.parse(a.admin_notes||"{}");h&&typeof h=="object"&&!h.customer?(h.notes=u.target.value,l(f=>({...f,admin_notes:JSON.stringify(h)}))):l(f=>({...f,admin_notes:u.target.value}))},rows:4,className:`w-full rounded-xl border-2 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 ${De(s,i,"border-gray-300 bg-white text-gray-900 focus:border-purple-500 focus:ring-purple-200","border-gray-600 bg-gray-800 text-gray-100 focus:border-purple-400 focus:ring-purple-800/20","border-gray-400 bg-gray-50 text-gray-900 focus:border-purple-600 focus:ring-purple-300")}`,placeholder:"Netflix: Perfil 2, Disney: Perfil 3"})]})]}):o.jsxs("div",{className:`p-6 rounded-2xl border-2 ${d(s,"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200","bg-gradient-to-br from-purple-900/20 to-pink-900/20 border-purple-700/30")}`,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d(s,"bg-purple-100","bg-purple-800/30")}`,children:o.jsx("span",{className:"text-xl",children:"🔑"})}),o.jsx("h4",{className:`text-xl font-bold ${d(s,"text-purple-900","text-purple-100")}`,children:"Credenciales del Servicio"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:`block text-sm font-semibold ${d(s,"text-gray-700","text-gray-300")}`,children:"Email del servicio *"}),o.jsx("input",{required:!0,value:a.service_email,onChange:u=>l(h=>({...h,service_email:u.target.value})),className:`w-full rounded-xl border-2 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 ${De(s,i,"border-gray-300 bg-white text-gray-900 focus:border-purple-500 focus:ring-purple-200","border-gray-600 bg-gray-800 text-gray-100 focus:border-purple-400 focus:ring-purple-800/20","border-gray-400 bg-gray-50 text-gray-900 focus:border-purple-600 focus:ring-purple-300")}`,placeholder:"usuario@email.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:`block text-sm font-semibold ${d(s,"text-gray-700","text-gray-300")}`,children:"Contraseña del servicio *"}),o.jsx("input",{required:!0,value:a.service_password,onChange:u=>l(h=>({...h,service_password:u.target.value})),className:`w-full rounded-xl border-2 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 ${De(s,i,"border-gray-300 bg-white text-gray-900 focus:border-purple-500 focus:ring-purple-200","border-gray-600 bg-gray-800 text-gray-100 focus:border-purple-400 focus:ring-purple-800/20","border-gray-400 bg-gray-50 text-gray-900 focus:border-purple-600 focus:ring-purple-300")}`,placeholder:"contraseña123"})]}),o.jsxs("div",{className:"md:col-span-2 space-y-2",children:[o.jsx("label",{className:`block text-sm font-semibold ${d(s,"text-gray-700","text-gray-300")}`,children:"Notas del administrador"}),o.jsx("textarea",{value:a.admin_notes,onChange:u=>l(h=>({...h,admin_notes:u.target.value})),rows:3,className:`w-full rounded-xl border-2 px-4 py-3 text-sm font-medium transition-all focus:outline-none focus:ring-2 ${De(s,i,"border-gray-300 bg-white text-gray-900 focus:border-purple-500 focus:ring-purple-200","border-gray-600 bg-gray-800 text-gray-100 focus:border-purple-400 focus:ring-purple-800/20","border-gray-400 bg-gray-50 text-gray-900 focus:border-purple-600 focus:ring-purple-300")}`,placeholder:"Notas adicionales sobre esta compra..."})]})]})]}),o.jsxs("div",{className:"flex gap-4 pt-6",children:[o.jsx("button",{type:"button",onClick:e,className:`flex-1 rounded-xl px-6 py-4 font-semibold text-sm transition-all hover:scale-105 ${d(s,"bg-gray-100 text-gray-700 hover:bg-gray-200 border-2 border-gray-300","bg-gray-700 text-gray-200 hover:bg-gray-600 border-2 border-gray-600")}`,children:"Cancelar"}),o.jsx("button",{type:"button",onClick:()=>{let u=`✨ *¡Hola ${a.customer}!* ✨

`;if(u+=`🎬 *${a.service}* actualizado
`,u+=`⏰ Vence: ${new Date(a.end).toLocaleDateString("es-ES")}

`,a.service&&Jr(a.service)){u+=`🔑 *Tus credenciales:*

`;try{const f=JSON.parse(a.admin_notes||"{}");Object.entries(f).forEach(([m,p])=>{m!=="notes"&&p.email&&p.password&&(u+=`📺 *${m}*
`,u+=`📧 ${p.email}
`,u+=`🔐 ${p.password}

`)})}catch{u+=`📧 ${a.service_email}
`,u+=`🔐 ${a.service_password}

`}}else u+=`🔑 *Tus credenciales:*
`,u+=`📧 ${a.service_email}
`,u+=`🔐 ${a.service_password}

`;u+=`📱 *Instrucciones:*
`,u+=`1️⃣ Descarga la app
`,u+=`2️⃣ Inicia sesión
`,u+=`3️⃣ ¡Disfruta! 🎉

`,u+="💬 ¿Dudas? Escríbenos aquí";const h=kf(Zl(a.phone),u);window.open(h,"_blank")},className:`flex-1 rounded-xl px-6 py-4 font-semibold text-sm transition-all hover:scale-105 ${d(s,"bg-green-600 text-white hover:bg-green-700 border-2 border-green-600","bg-green-600 text-white hover:bg-green-700 border-2 border-green-600")}`,children:o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx("span",{children:"📱"}),"Enviar por WhatsApp"]})}),o.jsx("button",{type:"submit",className:"flex-1 rounded-xl px-6 py-4 font-semibold text-sm bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 transition-all hover:scale-105 shadow-lg hover:shadow-xl",children:o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx("span",{children:"💾"}),"Guardar Cambios",o.jsx("span",{children:"✨"})]})})]})]})})]})})}(function(){try{console.assert(fe(3.5)&&typeof fe(3.5)=="string","fmt string");const e="2025-01-01",r="2025-01-04",n="2024-12-28";console.assert(oi(e,r)===3,"daysBetween 3 dias"),console.assert(oi(r,r)===0,"daysBetween 0 dias"),console.assert(oi(r,n)===-7,"daysBetween negativo"),console.assert(kf("123","hola")==="https://wa.me/123?text=hola","wa link"),console.log("✅ Todas las pruebas pasaron correctamente")}catch(e){console.warn("Self-tests failed:",e)}})();Ho.createRoot(document.getElementById("root")).render(o.jsx(h0.StrictMode,{children:o.jsx(fv,{})}));

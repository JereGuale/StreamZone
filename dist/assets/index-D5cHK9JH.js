import{r as g,j as e,t as s,a as de,B as J,D as ce,E as me,F as D,G as xe,H as ue,f as O,M as ge,P as be,I as pe,J as he,K as fe,R as ee,n as ve,L as je,N as k,S as ye,o as Ne}from"./ui-components-CeKtGgHu.js";import{b as we,a as Ce}from"./react-vendor-Y7T1HomI.js";import{L as $e,H as Q,U as Y,a as Pe,A as Se,b as ze,c as Ee}from"./pages-BYYZzytF.js";import{u as Me,a as Ae,b as Re,c as Oe}from"./hooks-DaevJmQ5.js";import"./supabase-L-NHoLOp.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))x(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&x(i)}).observe(document,{childList:!0,subtree:!0});function l(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function x(n){if(n.ep)return;n.ep=!0;const a=l(n);fetch(n.href,a)}})();var q={},X;function Te(){if(X)return q;X=1;var t=we();return q.createRoot=t.createRoot,q.hydrateRoot=t.hydrateRoot,q}var Le=Te();const Ie=Ce(Le);function qe({isDark:t,view:r,user:l,adminLogged:x,setView:n,handleLogout:a}){const[i,c]=g.useState(!1),d=g.useRef(null);g.useEffect(()=>{function f(o){d.current&&!d.current.contains(o.target)&&c(!1)}return i&&document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[i]),g.useEffect(()=>{c(!1)},[r]);const p=l?.name?l.name.charAt(0).toUpperCase():l?.email?l.email.charAt(0).toUpperCase():"?";return e.jsxs("header",{className:`sticky top-0 z-50 backdrop-blur-xl border-b transition-all duration-500 ${s(t,"bg-white/95 border-gray-200/50 shadow-lg","bg-zinc-900/95 border-zinc-700/50 shadow-2xl")}`,children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600"}),e.jsx("div",{className:"relative mx-auto max-w-7xl px-3 sm:px-4 lg:px-8",children:e.jsxs("div",{className:"flex h-16 sm:h-24 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center group cursor-pointer",onClick:()=>n("home"),children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-purple-600/10 rounded-full blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),e.jsx($e,{className:"relative h-10 sm:h-12 w-auto drop-shadow-2xl transition-all duration-500 group-hover:scale-105"})]}),e.jsxs("div",{className:"ml-2 sm:ml-3",children:[e.jsx("span",{className:"text-lg sm:text-xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent group-hover:from-blue-500 group-hover:via-purple-500 group-hover:to-pink-500 transition-all duration-300",children:"StreamZone"}),e.jsx("div",{className:`text-[10px] sm:text-xs font-medium hidden sm:block ${s(t,"text-gray-500","text-gray-400")} group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors duration-300`,children:"Premium Streaming"})]})]}),e.jsxs("nav",{className:"flex items-center gap-1.5 sm:gap-3",children:[e.jsx("button",{onClick:()=>n("home"),className:`relative px-3 sm:px-4 py-2 rounded-xl font-semibold transition-all duration-300 text-xs sm:text-sm ${r==="home"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg shadow-blue-500/25":s(t,"text-gray-600 hover:text-gray-900 hover:bg-gray-100","text-gray-400 hover:text-white hover:bg-white/10")}`,children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),e.jsx("span",{className:"hidden xs:inline sm:inline",children:"Inicio"})]})}),l?e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("button",{onClick:()=>c(f=>!f),className:`flex items-center gap-2 pl-1 pr-2 sm:pr-3 py-1 rounded-full transition-all duration-300 ${i?s(t,"bg-blue-50 ring-2 ring-blue-400","bg-white/15 ring-2 ring-purple-500"):s(t,"hover:bg-gray-100","hover:bg-white/10")}`,title:"Men√∫ de usuario",children:[e.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center text-white text-sm sm:text-base font-bold shadow-md select-none",children:p}),e.jsx("span",{className:`hidden md:block text-sm font-semibold truncate max-w-[120px] ${s(t,"text-gray-700","text-gray-200")}`,children:l.name||l.email||"Usuario"}),e.jsx("svg",{className:`w-3.5 h-3.5 transition-transform duration-200 ${i?"rotate-180":""} ${s(t,"text-gray-500","text-gray-400")}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),i&&e.jsxs("div",{className:`dropdown-animate absolute right-0 mt-2 w-60 rounded-2xl shadow-2xl border overflow-hidden ${s(t,"bg-white border-gray-200","bg-zinc-800 border-zinc-700")}`,children:[e.jsx("div",{className:`px-4 py-3 border-b ${s(t,"border-gray-100 bg-gradient-to-r from-blue-50 to-purple-50","border-zinc-700 bg-gradient-to-r from-blue-900/30 to-purple-900/30")}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center text-white text-lg font-bold shadow-md select-none flex-shrink-0",children:p}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:`font-bold text-sm truncate ${s(t,"text-gray-900","text-white")}`,children:l.name||"Usuario"}),e.jsx("div",{className:`text-xs truncate ${s(t,"text-gray-500","text-gray-400")}`,children:l.email||l.phone||""})]})]})}),e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:()=>{n("profile"),c(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm font-medium transition-colors ${r==="profile"?s(t,"bg-blue-50 text-blue-700","bg-blue-900/30 text-blue-300"):s(t,"text-gray-700 hover:bg-gray-50","text-gray-200 hover:bg-white/5")}`,children:[e.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Mi Perfil"]}),e.jsxs("button",{onClick:()=>{n("combos"),c(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm font-medium transition-colors ${r==="combos"?s(t,"bg-emerald-50 text-emerald-700","bg-emerald-900/30 text-emerald-300"):s(t,"text-gray-700 hover:bg-gray-50","text-gray-200 hover:bg-white/5")}`,children:[e.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Combos"]})]}),e.jsx("div",{className:`border-t ${s(t,"border-gray-100","border-zinc-700")}`,children:e.jsxs("button",{onClick:()=>{a(),c(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm font-medium transition-colors ${s(t,"text-red-600 hover:bg-red-50","text-red-400 hover:bg-red-900/20")}`,children:[e.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Cerrar Sesi√≥n"]})})]})]}):e.jsx("button",{onClick:()=>n("auth"),className:"relative px-4 sm:px-5 py-2 rounded-xl font-semibold text-xs sm:text-sm bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40 hover:scale-105 transition-all duration-300",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),e.jsx("span",{children:"Ingresar"})]})}),x?e.jsx("button",{onClick:()=>n("admin"),className:`relative px-3 sm:px-4 py-2 rounded-xl font-semibold transition-all duration-300 text-xs sm:text-sm ${r==="admin"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg shadow-purple-500/25":s(t,"text-gray-600 hover:text-gray-900 hover:bg-gray-100","text-gray-400 hover:text-white hover:bg-white/10")}`,children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsxs("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"hidden sm:inline",children:"Admin"})]})}):e.jsx("button",{onClick:()=>n("admin"),className:`relative px-3 sm:px-4 py-2 rounded-xl font-semibold transition-all duration-300 text-xs sm:text-sm ${s(t,"text-gray-500 hover:text-gray-700 hover:bg-gray-100","text-gray-500 hover:text-gray-300 hover:bg-white/10")}`,title:"Panel Admin",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsxs("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"hidden sm:inline",children:"Admin"})]})})]})]})})]})}const Be=({isDark:t,onReserve:r,combos:l})=>{const x=n=>{const a=n.toLowerCase();return a.includes("red")?"bg-gradient-to-br from-red-600/90 to-purple-900/90":a.includes("blue")?"bg-gradient-to-br from-blue-600/90 to-indigo-900/90":a.includes("purple")?"bg-gradient-to-br from-purple-600/90 to-pink-900/90":a.includes("orange")||a.includes("amber")?"bg-gradient-to-br from-orange-500/90 to-red-800/90":a.includes("green")?"bg-gradient-to-br from-green-500/90 to-cyan-900/90":a.includes("indigo")?"bg-gradient-to-br from-indigo-600/90 to-slate-900/90":"bg-gradient-to-br from-zinc-800 to-zinc-950"};return e.jsxs("section",{className:"mx-auto max-w-7xl px-4 sm:px-6 pb-16",children:[e.jsx("div",{className:`mb-8 p-6 sm:p-8 rounded-2xl ${s(t,"bg-white/10 backdrop-blur-md border border-white/20 shadow-xl","bg-gray-800/40 backdrop-blur-md border border-white/10 shadow-xl")}`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center text-xl shadow-inner",children:e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-pink-500/50 flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 rounded-full bg-pink-500 shadow-[0_0_10px_#ec4899]"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Combos Especiales"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:"Ahorra m√°s con nuestras combinaciones exclusivas"})]})]})}),e.jsx("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 max-w-7xl mx-auto",children:l.map(n=>{const a=de(n.id,24,n.name),i=x(n.color||"");return e.jsxs("div",{className:`group flex flex-col ${i} rounded-xl p-6 text-white shadow-2xl border border-white/5 transition-all duration-300 hover:scale-[1.02]`,children:[e.jsx("div",{className:"flex items-center -space-x-1 mb-3",children:a.length>0?a.map((c,d)=>e.jsx("div",{className:"w-10 h-10 rounded-lg bg-black/40 backdrop-blur-sm border border-white/20 flex items-center justify-center overflow-hidden shadow-lg",style:{zIndex:a.length-d},children:c},d)):e.jsx("div",{className:"w-12 h-12 rounded-lg bg-black/40 border border-white/20 flex items-center justify-center overflow-hidden",children:n.logo?.startsWith("http")?e.jsx("img",{src:n.logo,alt:"",className:"w-full h-full object-cover"}):e.jsx("span",{className:"font-bold",children:n.logo||n.name.charAt(0)})})}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"text-2xl font-black tracking-tight leading-none",children:["US$ ",n.price.toFixed(2).replace(".",",")]}),e.jsx("div",{className:"text-[10px] sm:text-xs font-bold opacity-60 mt-1 uppercase tracking-widest",children:"por mes"})]}),e.jsx("h4",{className:"text-xl font-bold mb-6 min-h-[3rem] leading-snug",children:n.name}),e.jsxs("div",{className:"space-y-4 mb-8 flex-1",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-lg opacity-80",children:"üê∑"}),e.jsx("p",{className:"text-xs sm:text-sm font-medium leading-tight opacity-90",children:"Ahorro significativo vs compras individuales"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-lg opacity-80",children:"üì∫"}),e.jsx("p",{className:"text-xs sm:text-sm font-medium leading-tight opacity-90",children:n.name.toLowerCase().includes("max")?"Acceso completo a todas las plataformas en 4K":"Acceso completo a todas las plataformas"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-lg opacity-80",children:"‚ö°"}),e.jsx("p",{className:"text-xs sm:text-sm font-medium leading-tight opacity-90",children:"Activaci√≥n inmediata"})]})]}),e.jsxs("button",{onClick:()=>r(n),className:"w-full bg-white/10 hover:bg-white/20 border border-white/10 py-3 rounded-lg font-bold text-sm transition-all duration-300 flex items-center justify-center gap-2 shadow-lg",children:[e.jsx("span",{children:"üöÄ"}),e.jsx("span",{children:"Comprar Combo"}),e.jsx("span",{className:"text-yellow-400",children:"‚ú®"})]})]},n.id)})})]})};function Ve({isDark:t,user:r,purchases:l,onToggleValidate:x,onDeletePurchase:n,onEditPurchase:a,onSetView:i,loading:c=!1}){const[d,p]=g.useState({}),f=l.filter(o=>o.phone===r.phone&&o.validated);return console.log("üîç UserProfile Debug:",{totalPurchases:l.length,userPhone:r.phone,userActivePurchases:f.length,purchases:l}),e.jsxs("section",{className:"mx-auto max-w-7xl px-2 sm:px-3 pb-6 sm:pb-8",children:[e.jsx("div",{className:`w-full py-2 px-3 sm:px-4 rounded-t-xl sm:rounded-t-2xl ${s(t,"bg-gray-800","bg-gray-900")} mb-0`,children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-green-400 text-sm",children:"üõ°Ô∏è"}),e.jsx("span",{className:"text-xs font-semibold text-green-300",children:"Seguridad Garantizada"})]})})}),e.jsxs("div",{className:"relative mb-6 sm:mb-8",children:[e.jsx("div",{className:`absolute inset-0 rounded-2xl sm:rounded-3xl ${s(t,"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10","bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-pink-600/20")} blur-xl`}),e.jsx("div",{className:`relative p-4 sm:p-6 md:p-8 rounded-2xl sm:rounded-3xl backdrop-blur-sm border ${s(t,"bg-white/80 border-white/20","bg-zinc-900/80 border-zinc-700/50")} shadow-2xl`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1",children:[e.jsx("div",{className:`w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 rounded-full flex items-center justify-center text-lg sm:text-2xl md:text-3xl font-bold ${s(t,"bg-gradient-to-br from-blue-500 to-purple-600 text-white","bg-gradient-to-br from-blue-400 to-purple-500 text-white")} shadow-lg`,children:r.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-2xl md:text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-1",children:"üë§ Mi Perfil"}),e.jsx("p",{className:`text-xs sm:text-sm md:text-base ${s(t,"text-zinc-600","text-zinc-300")} font-medium`,children:"Gestiona tu cuenta y compras activas"})]})]}),e.jsxs("button",{onClick:()=>i("home"),className:`group relative overflow-hidden rounded-xl sm:rounded-2xl px-4 sm:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold transition-all duration-300 hover:scale-105 ${s(t,"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:shadow-xl","bg-gradient-to-r from-blue-600 to-purple-700 text-white shadow-lg hover:shadow-xl")}`,children:[e.jsx("span",{className:"relative z-10 flex items-center gap-1 sm:gap-2",children:"‚Üê Inicio"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})})]}),e.jsxs("div",{className:"grid gap-6 sm:gap-8",children:[e.jsxs("div",{className:`relative overflow-hidden rounded-2xl sm:rounded-3xl border ${s(t,"bg-white/90 border-white/20","bg-zinc-900/90 border-zinc-700/50")} shadow-2xl backdrop-blur-sm`,children:[e.jsx("div",{className:`absolute inset-0 ${s(t,"bg-gradient-to-br from-blue-50/50 to-purple-50/50","bg-gradient-to-br from-blue-900/20 to-purple-900/20")}`}),e.jsxs("div",{className:"relative p-4 sm:p-6 md:p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl flex items-center justify-center ${s(t,"bg-gradient-to-br from-blue-500 to-purple-600","bg-gradient-to-br from-blue-400 to-purple-500")} shadow-lg`,children:e.jsx("span",{className:"text-white text-sm sm:text-lg",children:"üë§"})}),e.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Informaci√≥n Personal"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[e.jsxs("div",{className:`p-3 sm:p-4 rounded-xl sm:rounded-2xl ${s(t,"bg-white/60 border border-white/30","bg-zinc-800/60 border border-zinc-700/30")} backdrop-blur-sm`,children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[e.jsx("span",{className:"text-lg sm:text-xl",children:"üë§"}),e.jsx("label",{className:`text-xs sm:text-sm font-semibold ${s(t,"text-zinc-700","text-zinc-300")}`,children:"Nombre"})]}),e.jsx("p",{className:`font-bold text-sm sm:text-base md:text-lg ${s(t,"text-zinc-900","text-zinc-100")}`,children:r.name})]}),e.jsxs("div",{className:`p-3 sm:p-4 rounded-xl sm:rounded-2xl ${s(t,"bg-white/60 border border-white/30","bg-zinc-800/60 border border-zinc-700/30")} backdrop-blur-sm`,children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[e.jsx("span",{className:"text-lg sm:text-xl",children:"üì±"}),e.jsx("label",{className:`text-xs sm:text-sm font-semibold ${s(t,"text-zinc-700","text-zinc-300")}`,children:"WhatsApp"})]}),e.jsx("p",{className:`font-bold text-sm sm:text-base md:text-lg ${s(t,"text-zinc-900","text-zinc-100")}`,children:r.phone})]}),e.jsxs("div",{className:`p-3 sm:p-4 rounded-xl sm:rounded-2xl ${s(t,"bg-white/60 border border-white/30","bg-zinc-800/60 border border-zinc-700/30")} backdrop-blur-sm`,children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[e.jsx("span",{className:"text-lg sm:text-xl",children:"üìß"}),e.jsx("label",{className:`text-xs sm:text-sm font-semibold ${s(t,"text-zinc-700","text-zinc-300")}`,children:"Email"})]}),e.jsx("p",{className:`font-bold text-sm sm:text-base md:text-lg ${s(t,"text-zinc-900","text-zinc-100")}`,children:r.email||"No proporcionado"})]}),e.jsxs("div",{className:`p-3 sm:p-4 rounded-xl sm:rounded-2xl ${s(t,"bg-white/60 border border-white/30","bg-zinc-800/60 border border-zinc-700/30")} backdrop-blur-sm`,children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[e.jsx("span",{className:"text-lg sm:text-xl",children:"üìÖ"}),e.jsx("label",{className:`text-xs sm:text-sm font-semibold ${s(t,"text-zinc-700","text-zinc-300")}`,children:"Miembro desde"})]}),e.jsx("p",{className:`font-bold text-sm sm:text-base md:text-lg ${s(t,"text-zinc-900","text-zinc-100")}`,children:new Date().toLocaleDateString("es-ES")})]})]})]})]}),e.jsxs("div",{className:`relative overflow-hidden rounded-2xl sm:rounded-3xl border ${s(t,"bg-white/90 border-white/20","bg-zinc-900/90 border-zinc-700/50")} shadow-2xl backdrop-blur-sm`,children:[e.jsx("div",{className:`absolute inset-0 ${s(t,"bg-gradient-to-br from-green-50/50 to-blue-50/50","bg-gradient-to-br from-green-900/20 to-blue-900/20")}`}),e.jsxs("div",{className:"relative p-4 sm:p-6 md:p-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl flex items-center justify-center ${s(t,"bg-gradient-to-br from-green-500 to-blue-600","bg-gradient-to-br from-green-400 to-blue-500")} shadow-lg`,children:e.jsx("span",{className:"text-white text-sm sm:text-lg",children:"üõçÔ∏è"})}),e.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Mis Compras Activas"})]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:`group relative overflow-hidden rounded-xl sm:rounded-2xl px-3 sm:px-4 py-2 text-xs sm:text-sm font-semibold transition-all duration-300 hover:scale-105 ${s(t,"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:shadow-xl","bg-gradient-to-r from-blue-600 to-purple-700 text-white shadow-lg hover:shadow-xl")}`,children:[e.jsx("span",{className:"relative z-10 flex items-center gap-1 sm:gap-2",children:"üîÑ Actualizar"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),f.length===0?e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 mx-auto mb-4 sm:mb-6 rounded-full flex items-center justify-center ${s(t,"bg-gradient-to-br from-blue-100 to-purple-100","bg-gradient-to-br from-blue-900/30 to-purple-900/30")} shadow-lg`,children:e.jsx("span",{className:"text-2xl sm:text-3xl md:text-4xl",children:"üì∫"})}),e.jsx("h4",{className:`text-lg sm:text-xl font-bold mb-2 ${s(t,"text-zinc-800","text-zinc-200")}`,children:"No tienes compras activas"}),e.jsx("p",{className:`text-xs sm:text-sm mb-4 sm:mb-6 ${s(t,"text-zinc-600","text-zinc-400")}`,children:"Explora nuestro cat√°logo y encuentra el servicio perfecto para ti"}),e.jsxs("button",{onClick:()=>i("home"),className:`group relative overflow-hidden rounded-xl sm:rounded-2xl px-4 sm:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold transition-all duration-300 hover:scale-105 ${s(t,"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:shadow-xl","bg-gradient-to-r from-blue-600 to-purple-700 text-white shadow-lg hover:shadow-xl")}`,children:[e.jsx("span",{className:"relative z-10 flex items-center gap-1 sm:gap-2",children:"üõçÔ∏è Ver Cat√°logo"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}):c?e.jsxs("div",{className:`text-center py-8 sm:py-12 ${s(t,"text-gray-500","text-gray-400")}`,children:[e.jsx("div",{className:"text-4xl sm:text-6xl mb-4 animate-spin",children:"‚è≥"}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2",children:"Cargando tus suscripciones..."}),e.jsx("p",{className:"text-xs sm:text-sm",children:"Por favor espera un momento"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:f.filter(o=>J(o.end)>=0).map(o=>{ce(o.end);const b=J(o.end);return me(o.start,o.end),e.jsxs("div",{className:`group relative overflow-hidden rounded-xl sm:rounded-2xl border-2 shadow-lg hover:shadow-xl transition-all duration-300 ${s(t,"bg-gradient-to-br from-white to-gray-50 border-gray-200 hover:border-blue-300","bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700 hover:border-blue-500")}`,children:[e.jsx("div",{className:`relative p-3 sm:p-4 md:p-5 ${s(t,"bg-gradient-to-r from-blue-50 to-purple-50","bg-gradient-to-r from-blue-900/30 to-purple-900/30")}`,children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-xl sm:rounded-2xl flex items-center justify-center text-lg sm:text-xl md:text-2xl shadow-lg ${s(t,"bg-gradient-to-br from-blue-500 to-purple-600 text-white","bg-gradient-to-br from-blue-600 to-purple-700 text-white")}`,children:o.service==="Netflix"?"üé¨":o.service==="Disney+"?"üè∞":o.service==="Max"?"üé≠":o.service==="Prime Video"?"üì∫":o.service==="Spotify"?"üéß":"üì±"}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-bold text-sm sm:text-base md:text-lg ${s(t,"text-gray-900","text-white")}`,children:o.service}),e.jsxs("p",{className:`text-xs sm:text-sm ${s(t,"text-gray-600","text-gray-300")}`,children:[o.months," meses ‚Ä¢ Activo"]})]})]})}),e.jsxs("div",{className:`p-3 sm:p-4 md:p-5 text-center ${s(t,"bg-white","bg-gray-800")}`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-red-600",children:b}),e.jsx("p",{className:"text-sm sm:text-base md:text-lg font-bold text-red-600",children:"d√≠as restantes"})]}),e.jsx("p",{className:`text-xs sm:text-sm font-medium mt-2 ${s(t,"text-gray-600","text-gray-400")}`,children:b<=7?"Vence muy pronto":b<=30?"Vence en menos de un mes":"Tiempo suficiente"})]}),e.jsx("div",{className:`px-3 sm:px-4 md:px-5 py-3 sm:py-4 ${s(t,"bg-gray-50","bg-gray-700")}`,children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-lg sm:rounded-xl flex items-center justify-center mx-auto mb-2 ${s(t,"bg-blue-100","bg-blue-900/30")}`,children:e.jsx("span",{className:"text-blue-600 text-sm sm:text-base md:text-lg",children:"üìÖ"})}),e.jsx("p",{className:`text-xs font-medium ${s(t,"text-gray-500","text-gray-400")}`,children:"Inicio"}),e.jsx("p",{className:`text-xs sm:text-sm font-bold ${s(t,"text-gray-900","text-white")}`,children:new Date(o.start).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-lg sm:rounded-xl flex items-center justify-center mx-auto mb-2 ${s(t,"bg-orange-100","bg-orange-900/30")}`,children:e.jsx("span",{className:"text-orange-600 text-sm sm:text-base md:text-lg",children:"‚è∞"})}),e.jsx("p",{className:`text-xs font-medium ${s(t,"text-gray-500","text-gray-400")}`,children:"Vence"}),e.jsx("p",{className:`text-xs sm:text-sm font-bold ${s(t,"text-gray-900","text-white")}`,children:new Date(o.end).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit"})})]})]})}),o.service_email&&o.service_password&&(()=>{const m=o.service||"",v=m.trim(),j=/^Disney\+?\s*$/i.test(v)||/^Disney\+?\s+(Standard|Est√°ndar|Premium)\s*$/i.test(v)||/^Disney\s+(Standard|Est√°ndar|Premium)\s*$/i.test(v),u=v.includes("Netflix")||v.includes("Max")||v.includes("Prime")||v.includes("Spotify")||v.includes("Paramount")||/\s+\+\s+/.test(v),$=j&&!u,N=/\s+\+\s+/.test(m),h=!$&&N;let w=[m];h&&(m.includes("Netflix")&&m.includes("Disney")?w=["Netflix",m.includes("Premium")?"Disney+ Premium":"Disney+ Est√°ndar"]:m.includes("Max")&&m.includes("Prime")?w=["Max","Prime Video"]:m.includes("Netflix")&&m.includes("Max")?w=["Netflix","Max"]:m.includes("Netflix")&&m.includes("Prime")?w=["Netflix","Prime Video"]:m.includes("Prime")&&m.includes("Disney")?w=["Prime Video",m.includes("Premium")?"Disney+ Premium":"Disney+ Est√°ndar"]:m.includes("Disney")&&m.includes("Max")?w=[m.includes("Premium")?"Disney+ Premium":"Disney+ Est√°ndar","Max"]:m.includes("Spotify")&&m.includes("Netflix")?w=["Spotify","Netflix"]:m.includes("Spotify")&&m.includes("Disney")?w=["Spotify",m.includes("Premium")?"Disney+ Premium":"Disney+ Est√°ndar"]:m.includes("Spotify")&&m.includes("Prime")?w=["Spotify","Prime Video"]:m.includes("Paramount")&&m.includes("Max")&&m.includes("Prime")?w=["Paramount+","Max","Prime Video"]:m.includes("Netflix")&&m.includes("Max")&&m.includes("Disney")?w=["Netflix","Max",m.includes("Premium")?"Disney+ Premium":"Disney+ Est√°ndar","Prime Video","Paramount+"]:w=m.split(/\s*\+\s*/).map(C=>C.trim()).filter(C=>C.length>0));let A={};return h&&o.service_password&&o.service_password.split(`

`).forEach(E=>{const S=E.split(`
`);if(S.length>=3){const M=S[0].replace(":","").trim(),T=S[1].replace("Email: ","").trim(),R=S[2].replace("Contrase√±a: ","").trim();M&&T&&R&&(A[M]={email:T,password:R})}}),e.jsxs("div",{className:`p-3 sm:p-4 md:p-5 ${s(t,"bg-gradient-to-r from-blue-50 to-indigo-50","bg-gradient-to-r from-blue-900/20 to-indigo-900/20")}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-md sm:rounded-lg flex items-center justify-center ${s(t,"bg-blue-100","bg-blue-900/30")}`,children:e.jsx("span",{className:"text-blue-600 text-xs sm:text-sm",children:"üîë"})}),e.jsx("h5",{className:`font-bold text-sm sm:text-base ${s(t,"text-blue-900","text-blue-200")}`,children:h?"Credenciales del Combo":"Credenciales"})]}),h?e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${s(t,"bg-orange-50 border border-orange-200","bg-orange-900/20 border border-orange-600")}`,children:e.jsx("p",{className:`text-xs font-semibold ${s(t,"text-orange-800","text-orange-300")}`,children:"üéÅ Combo: Credenciales separadas por servicio"})}),w.map((C,E)=>{const S=A[C];return S?e.jsxs("div",{className:`p-3 rounded-lg border ${s(t,"bg-gray-50 border-gray-200","bg-gray-800 border-gray-600")}`,children:[e.jsxs("h6",{className:`text-sm font-bold mb-2 ${s(t,"text-gray-800","text-white")}`,children:[C," ",E===0?"üé¨":E===1?"üé≠":E===2?"üé™":"üéØ"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-xs font-semibold mb-1 ${s(t,"text-blue-700","text-blue-300")}`,children:"üìß Email"}),e.jsx("div",{className:`p-2 rounded-lg border ${s(t,"bg-white border-blue-200","bg-gray-700 border-blue-600")}`,children:e.jsx("p",{className:`text-xs font-mono ${s(t,"text-gray-900","text-white")}`,children:S.email})})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs font-semibold mb-1 ${s(t,"text-blue-700","text-blue-300")}`,children:"üîë Contrase√±a"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-2 rounded-lg border flex-1 ${s(t,"bg-white border-blue-200","bg-gray-700 border-blue-600")}`,children:e.jsx("p",{className:`text-xs font-mono ${s(t,"text-gray-900","text-white")}`,children:d[`${o.id}_${C}`]?S.password:"‚Ä¢".repeat(12)})}),e.jsx("button",{onClick:()=>p(M=>({...M,[`${o.id}_${C}`]:!M[`${o.id}_${C}`]})),className:`px-2 py-2 rounded-lg text-xs font-bold border transition-all ${s(t,"border-blue-500 text-blue-600 hover:bg-blue-50","border-blue-500 text-blue-400 hover:bg-blue-900/20")}`,children:(d[`${o.id}_${C}`],"üëÅÔ∏è")})]})]})]})]},C):null})]}):e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-xs sm:text-sm font-semibold mb-2 ${s(t,"text-blue-700","text-blue-300")}`,children:"Email"}),e.jsx("div",{className:`p-2 sm:p-3 rounded-lg sm:rounded-xl border-2 ${s(t,"bg-white border-blue-200","bg-gray-800 border-blue-600")}`,children:e.jsx("p",{className:`text-xs sm:text-sm font-mono ${s(t,"text-gray-900","text-white")}`,children:o.service_email})})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs sm:text-sm font-semibold mb-2 ${s(t,"text-blue-700","text-blue-300")}`,children:"Contrase√±a"}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:`p-2 sm:p-3 rounded-lg sm:rounded-xl border-2 flex-1 ${s(t,"bg-white border-blue-200","bg-gray-800 border-blue-600")}`,children:e.jsx("p",{className:`text-xs sm:text-sm font-mono ${s(t,"text-gray-900","text-white")}`,children:d[o.id]?o.service_password:"‚Ä¢".repeat(16)})}),e.jsx("button",{onClick:()=>p(C=>({...C,[o.id]:!C[o.id]})),className:`px-2 sm:px-3 md:px-4 py-2 sm:py-3 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold border-2 transition-all hover:scale-105 ${s(t,"border-blue-500 text-blue-600 hover:bg-blue-50","border-blue-500 text-blue-400 hover:bg-blue-900/20")}`,children:d[o.id]?"üëÅÔ∏è Ocultar":"üëÅÔ∏è Mostrar"})]})]})]})]})})(),o.admin_notes&&o.admin_notes.trim()&&e.jsxs("div",{className:`p-3 sm:p-4 md:p-5 ${s(t,"bg-gradient-to-r from-yellow-50 to-orange-50","bg-gradient-to-r from-yellow-900/20 to-orange-900/20")}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-md sm:rounded-lg flex items-center justify-center ${s(t,"bg-yellow-100","bg-yellow-900/30")}`,children:e.jsx("span",{className:"text-yellow-600 text-xs sm:text-sm",children:"‚ÑπÔ∏è"})}),e.jsx("h5",{className:`font-bold text-sm sm:text-base ${s(t,"text-yellow-800","text-yellow-200")}`,children:"Informaci√≥n Importante"})]}),e.jsx("div",{className:`p-3 sm:p-4 rounded-lg sm:rounded-xl border-2 ${s(t,"bg-white border-yellow-200","bg-gray-800 border-yellow-600")}`,children:e.jsx("div",{className:`text-xs sm:text-sm leading-relaxed whitespace-pre-line ${s(t,"text-gray-800","text-gray-200")}`,dangerouslySetInnerHTML:{__html:o.admin_notes.replace(/\n/g,"<br>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>")}})})]}),e.jsx("div",{className:`px-3 py-2 sm:px-4 sm:py-3 ${s(t,"bg-gradient-to-r from-gray-50 to-gray-100","bg-gradient-to-r from-gray-700 to-gray-800")}`,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`font-medium text-xs sm:text-sm ${s(t,"text-gray-700","text-gray-300")}`,children:"Estado:"}),e.jsx("span",{className:`font-bold text-xs sm:text-sm ${b<=5?"text-red-600":"text-green-600"}`,children:b<=5?"Por vencer":"Activa"})]})})]},o.id)})})]})]})]})]})}function _e({isDark:t,onBack:r,onTokenSent:l,onRegister:x}){const[n,a]=g.useState(""),[i,c]=g.useState(""),[d,p]=g.useState(!1),f=async o=>{o.preventDefault(),p(!0),c("");try{console.log("üîç Generando token para:",n);const b=await D(n);if(console.log("üîç Resultado:",b),b.data){const m=`‚úÖ Token generado: ${b.data.token}. Usa este c√≥digo para continuar.`;console.log("üîç Mensaje:",m),c(m),l(n,b.data.token)}else console.log("üîç Error:",b.error),c(b.error?.message||"Error generando token")}catch(b){console.log("üîç Error en catch:",b),c("Error en el proceso")}finally{p(!1)}};return e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"üîê Recuperar Contrase√±a"}),e.jsx("p",{className:"text-sm opacity-80",children:"Para recuperar tu contrase√±a, necesitas un c√≥digo de verificaci√≥n"})]}),e.jsx("div",{className:`p-4 rounded-xl mb-4 ${s(t,"bg-blue-50 border border-blue-200","bg-blue-900/20 border border-blue-400/30")}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:"üí¨"}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold mb-2 ${s(t,"text-zinc-800","text-zinc-200")}`,children:"üìã Instrucciones:"}),e.jsxs("ol",{className:`text-sm space-y-1 list-decimal list-inside ${s(t,"text-zinc-700","text-zinc-300")}`,children:[e.jsxs("li",{children:["Haz clic en el bot√≥n ",e.jsx("span",{className:"font-semibold",children:'"Chat"'})," (esquina inferior derecha)"]}),e.jsxs("li",{children:["Escribe: ",e.jsx("span",{className:`font-mono px-1 rounded ${s(t,"bg-gray-200 text-zinc-800","bg-gray-700 text-zinc-200")}`,children:'"olvid√© mi contrase√±a"'})]}),e.jsxs("li",{children:["Env√≠a tu email: ",e.jsx("span",{className:"font-semibold",children:"ejemplo@gmail.com"})]}),e.jsx("li",{children:"Copia el c√≥digo que te d√© el chatbot"}),e.jsx("li",{children:"Regresa aqu√≠ y pega el c√≥digo"})]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:s(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Correo electr√≥nico"}),e.jsx("input",{required:!0,type:"email",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:n,onChange:o=>a(o.target.value),placeholder:"tu@correo.com",disabled:d})]}),i&&e.jsx("div",{className:`text-sm ${i.includes("‚úÖ")?"text-green-600":"text-red-600"}`,children:i}),e.jsx("button",{type:"submit",disabled:d,className:`w-full rounded-xl px-4 py-3 font-semibold transition-all ${d?"opacity-50 cursor-not-allowed":""} ${s(t,"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700","bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700")}`,children:d?"‚è≥ Generando c√≥digo...":"üîë Generar C√≥digo"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:r,className:`text-sm ${s(t,"text-zinc-600 hover:text-zinc-800","text-zinc-400 hover:text-zinc-200")}`,disabled:d,children:"‚Üê Volver a login"})}),i&&i.includes("No existe un usuario")&&e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:x,className:`text-sm ${s(t,"text-blue-600 hover:text-blue-700","text-blue-400 hover:text-blue-300")}`,children:"‚ú® Crear cuenta nueva"})})]})}function Fe({isDark:t,email:r,onBack:l,onCodeVerified:x}){const[n,a]=g.useState(""),[i,c]=g.useState(""),[d,p]=g.useState(!1),f=async o=>{o.preventDefault(),p(!0),c("");try{(await xe(n)).data?(c("‚úÖ C√≥digo verificado correctamente"),x(n)):c("‚ùå C√≥digo inv√°lido o expirado")}catch{c("Error verificando c√≥digo")}finally{p(!1)}};return e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"üîê Verificar C√≥digo"}),e.jsxs("p",{className:"text-sm opacity-80",children:["Paso 2: Ingresa el c√≥digo que enviamos a ",r]})]}),e.jsx("div",{className:`p-4 rounded-xl mb-4 ${s(t,"bg-green-50 border border-green-200","bg-green-900/20 border border-green-400/30")}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:"üîë"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üí° ¬øNo tienes el c√≥digo?"}),e.jsx("p",{className:"text-sm mb-2",children:"El c√≥digo se obtiene del chatbot en el paso anterior."}),e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[e.jsx("strong",{children:"Tip:"})," Si no lo tienes, vuelve al paso anterior y sigue las instrucciones."]})]})]})}),e.jsx("div",{className:"text-center mb-4",children:e.jsx("button",{type:"button",onClick:()=>{const o=document.querySelector("[data-chat-button]");o&&o.click()},className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${s(t,"bg-blue-100 text-blue-700 hover:bg-blue-200","bg-blue-900/30 text-blue-300 hover:bg-blue-900/50")}`,children:"üí¨ Abrir Chatbot"})}),e.jsxs("div",{children:[e.jsx("label",{className:s(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"C√≥digo de verificaci√≥n"}),e.jsx("input",{required:!0,type:"text",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:n,onChange:o=>a(o.target.value),placeholder:"Pega el c√≥digo completo del chatbot",disabled:d})]}),i&&e.jsx("div",{className:`text-sm ${i.includes("‚úÖ")?"text-green-600":"text-red-600"}`,children:i}),e.jsx("button",{type:"submit",disabled:d,className:`w-full rounded-xl px-4 py-3 font-semibold transition-all ${d?"opacity-50 cursor-not-allowed":""} ${s(t,"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700","bg-gradient-to-r from-purple-500 to-blue-600 text-white hover:from-purple-600 hover:to-blue-700")}`,children:d?"‚è≥ Verificando c√≥digo...":"‚úÖ Verificar C√≥digo"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:l,className:`text-sm ${s(t,"text-zinc-600 hover:text-zinc-800","text-zinc-400 hover:text-zinc-200")}`,disabled:d,children:"‚Üê Volver a ingresar email"})})]})}function Ue({isDark:t,email:r,token:l,onSuccess:x}){const[n,a]=g.useState(""),[i,c]=g.useState(""),[d,p]=g.useState(!1),[f,o]=g.useState(""),[b,m]=g.useState(!1),v=async j=>{if(j.preventDefault(),m(!0),o(""),!n||!i){o("Todos los campos son obligatorios"),m(!1);return}if(n!==i){o("Las contrase√±as no coinciden"),m(!1);return}if(n.length<6){o("La contrase√±a debe tener al menos 6 caracteres"),m(!1);return}try{(await ue(l,n)).data?(o("‚úÖ Contrase√±a restablecida exitosamente"),setTimeout(()=>{x()},2e3)):o("‚ùå Error al restablecer la contrase√±a")}catch{o("Error al restablecer la contrase√±a")}finally{m(!1)}};return e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"üîê Nueva Contrase√±a"}),e.jsx("p",{className:"text-sm opacity-80",children:"Paso 3: Crea tu nueva contrase√±a"})]}),e.jsx("div",{className:`p-4 rounded-xl mb-4 ${s(t,"bg-blue-50 border border-blue-200","bg-blue-900/20 border border-blue-400/30")}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:"üîí"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üí° Requisitos de seguridad:"}),e.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"M√≠nimo 6 caracteres"}),e.jsx("li",{children:"Usa una combinaci√≥n de letras y n√∫meros"}),e.jsx("li",{children:"No uses contrase√±as obvias"})]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:s(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Nueva contrase√±a"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{required:!0,type:d?"text":"password",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:n,onChange:j=>a(j.target.value),placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",disabled:b}),e.jsx("button",{type:"button",onClick:()=>p(j=>!j),className:s(t,"rounded-xl bg-zinc-100 px-4 py-3","rounded-xl bg-zinc-700 px-4 py-3"),disabled:b,children:d?"üëÅÔ∏è":"üëÅÔ∏è‚Äçüó®Ô∏è"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:s(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Confirmar contrase√±a"}),e.jsx("input",{required:!0,type:"password",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:i,onChange:j=>c(j.target.value),placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",disabled:b})]}),f&&e.jsx("div",{className:`text-sm ${f.includes("‚úÖ")?"text-green-600":"text-red-600"}`,children:f}),e.jsx("button",{type:"submit",disabled:b,className:`w-full rounded-xl px-4 py-3 font-semibold transition-all ${b?"opacity-50 cursor-not-allowed":""} ${s(t,"bg-gradient-to-r from-green-500 to-blue-600 text-white hover:from-green-600 hover:to-blue-700","bg-gradient-to-r from-blue-500 to-green-600 text-white hover:from-blue-600 hover:to-green-700")}`,children:b?"‚è≥ Restableciendo...":"‚úÖ Restablecer Contrase√±a"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:x,className:`text-sm ${s(t,"text-zinc-600 hover:text-zinc-800","text-zinc-400 hover:text-zinc-200")}`,disabled:b,children:"‚Üê Volver al login"})})]})}function We({isDark:t,onLogin:r,adminEmails:l}){const[x,n]=g.useState(""),[a,i]=g.useState(""),[c,d]=g.useState(!1),[p,f]=g.useState(""),[o,b]=g.useState(!1),m=async v=>{v.preventDefault(),b(!0),f("");try{await new Promise($=>setTimeout($,500));const j=x.trim().toLowerCase(),u=l.map($=>$.toLowerCase()).includes(j)&&a.trim()==="Jeremias_012.@";f(u?"":"Credenciales incorrectas"),r(u)}catch{f("Error en el login")}finally{b(!1)}};return e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"üìß Correo electr√≥nico"}),e.jsx("div",{className:"relative",children:e.jsx("input",{required:!0,type:"email",className:"w-full rounded-xl border-2 border-gray-200 bg-white text-gray-900 px-4 py-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",value:x,onChange:v=>n(v.target.value),placeholder:"admin@correo.com",disabled:o})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"üîë Contrase√±a"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{required:!0,type:c?"text":"password",className:"w-full rounded-xl border-2 border-gray-200 bg-white text-gray-900 px-4 py-3 pr-12 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",value:a,onChange:v=>i(v.target.value),placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",disabled:o}),e.jsx("button",{type:"button",onClick:()=>d(v=>!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors duration-200",disabled:o,children:c?"üôà":"üëÅÔ∏è"})]})]}),p&&e.jsxs("div",{className:"p-3 rounded-xl bg-red-50 border border-red-200 text-red-700 text-sm flex items-center gap-2",children:[e.jsx("span",{children:"‚ö†Ô∏è"}),p]}),e.jsx("button",{type:"submit",disabled:o,className:`w-full rounded-xl px-6 py-4 font-bold text-lg transition-all duration-300 hover:scale-105 shadow-xl ${o?"opacity-50 cursor-not-allowed":""} ${s(t,"bg-gradient-to-r from-purple-600 via-blue-600 to-pink-600 text-white hover:from-purple-700 hover:via-blue-700 hover:to-pink-700","bg-gradient-to-r from-purple-700 via-blue-700 to-pink-700 text-white hover:from-purple-800 hover:via-blue-800 hover:to-pink-800")}`,children:e.jsxs("span",{className:"flex items-center justify-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"üöÄ"}),e.jsx("span",{children:o?"‚è≥ Verificando...":"Entrar al Panel"}),e.jsx("span",{className:"text-xl",children:"‚ú®"})]})}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Solo administradores autorizados pueden acceder"})})]})}function He({view:t,isDark:r,user:l,adminLogged:x,purchases:n,pendingPurchases:a,userActivePurchases:i,expiringServices:c,renewalStats:d,services:p,combos:f,loading:o,error:b,adminUsers:m,setAdminUsers:v,authStep:j,resetEmail:u,resetToken:$,setView:N,setAuthStep:h,handleReserve:w,handleToggleValidate:A,handleDeletePurchase:C,handleEditPurchase:E,handleReminderPurchase:S,handleLogin:M,handleAdminLogin:T,handleAdminLogout:R,handleForgotPassword:B,handleCodeVerified:V,handlePasswordReset:L,setAdminRegisterPurchaseOpen:_,handleExportCSV:F,refreshAllStats:U,adminEmails:W}){return(()=>{switch(t){case"home":return e.jsx(Q,{isDark:r,onReserve:w,user:l,setView:N,services:p||[]});case"combos":return e.jsx(Be,{isDark:r,onReserve:w,combos:f||[]});case"profile":return l?e.jsx(Ve,{isDark:r,user:l,purchases:n||[],onToggleValidate:A,onDeletePurchase:C,onEditPurchase:E,onSetView:N,loading:o}):null;case"admin":return x?e.jsx(Se,{isDark:r,purchases:n,pendingPurchases:a||[],expiringServices:c||[],renewalStats:d,services:p||[],combos:f||[],loading:o,error:b,adminUsers:m,setAdminUsers:v,onToggleValidate:A,onDeletePurchase:C,onEditPurchase:E,onReminderPurchase:S,onRegisterPurchase:()=>_(!0),onExportCSV:F,refreshAllStats:U,onLogout:R,onSetView:N}):e.jsxs("section",{className:"min-h-[80vh] relative",children:[e.jsx("div",{className:"absolute inset-0 -z-10",style:{backgroundImage:"url(/img/bg-cinema.jpg)",backgroundSize:"cover",backgroundPosition:"center"}}),e.jsx("div",{className:"absolute inset-0 -z-0 bg-black/60"}),e.jsx("div",{className:"relative z-10 min-h-[80vh] grid place-items-center",children:e.jsxs("div",{className:s(r,"w-full max-w-md rounded-3xl bg-white/95 p-8 shadow-2xl border border-gray-200","w-full max-w-md rounded-3xl bg-white/95 p-8 shadow-2xl border border-gray-200"),children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-2xl text-white",children:"üîê"})}),e.jsx("h3",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Acceso Administrador"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ingresa tus credenciales para acceder al panel"})]}),e.jsx(We,{isDark:r,onLogin:T,adminEmails:W}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("button",{onClick:()=>N("home"),className:"text-gray-600 hover:text-gray-800 text-sm transition-colors duration-200 flex items-center justify-center gap-2",children:[e.jsx("span",{children:"‚Üê"})," Volver al inicio"]})})]})})]});case"auth":return e.jsxs("section",{className:"min-h-screen relative flex items-center justify-center",children:[e.jsxs("div",{className:"absolute inset-0 -z-10",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900"}),e.jsx("div",{className:"absolute inset-0 bg-[url('/img/bg-cinema.jpg')] bg-cover bg-center opacity-20"}),e.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl animate-pulse animation-delay-1000"}),e.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-pink-500/20 rounded-full blur-2xl animate-pulse animation-delay-2000"}),e.jsx("div",{className:"relative z-10 mx-auto max-w-md px-4 py-8",children:e.jsxs("div",{className:`rounded-3xl p-8 shadow-2xl backdrop-blur-md border ${s(r,"bg-white/95 border-gray-200","bg-gray-900/95 border-gray-700")}`,children:[e.jsxs("div",{className:"text-center mb-8",children:[j==="login"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center text-3xl shadow-xl",children:"üîê"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-green-400 to-blue-500 rounded-full animate-pulse"})]}),e.jsx("h3",{className:"text-4xl font-bold mb-3 bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Iniciar Sesi√≥n"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Accede a tu cuenta de StreamZone"})]}),j==="register"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-r from-green-600 to-blue-600 flex items-center justify-center text-3xl shadow-xl",children:"üöÄ"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full animate-pulse"})]}),e.jsx("h3",{className:"text-4xl font-bold mb-3 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Crear Cuenta"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"√önete a StreamZone y disfruta del mejor entretenimiento"})]}),j==="email"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-r from-blue-600 to-cyan-600 flex items-center justify-center text-3xl shadow-xl",children:"üìß"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-orange-400 to-red-500 rounded-full animate-pulse"})]}),e.jsx("h3",{className:"text-4xl font-bold mb-3 bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Recuperar Contrase√±a"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Paso 1: Ingresa tu email para recibir el c√≥digo"})]})]}),j==="login"&&e.jsx(Pe,{isDark:r,onLogin:M,onForgotPassword:()=>h("email"),setView:N}),j==="register"&&e.jsx(Y,{isDark:r,onSubmit:M,setView:N,setAuthStep:h}),j==="email"&&e.jsx(_e,{isDark:r,onBack:()=>h("login"),onTokenSent:B,onRegister:()=>h("register")}),j==="code"&&e.jsx(Fe,{isDark:r,email:u,onBack:()=>h("email"),onCodeVerified:V}),j==="newpassword"&&e.jsx(Ue,{isDark:r,email:u,token:$,onSuccess:L})]})})]});case"register":return e.jsxs("section",{className:"min-h-screen relative flex items-center justify-center",children:[e.jsxs("div",{className:"absolute inset-0 -z-10",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900 via-blue-900 to-purple-900"}),e.jsx("div",{className:"absolute inset-0 bg-[url('/img/bg-cinema.jpg')] bg-cover bg-center opacity-20"}),e.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-green-500/20 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl animate-pulse animation-delay-1000"}),e.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-purple-500/20 rounded-full blur-2xl animate-pulse animation-delay-2000"}),e.jsx("div",{className:"relative z-10 mx-auto max-w-md px-4 py-8",children:e.jsxs("div",{className:`rounded-3xl p-8 shadow-2xl backdrop-blur-md border ${s(r,"bg-white/95 border-gray-200","bg-gray-900/95 border-gray-700")}`,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-r from-green-600 to-blue-600 flex items-center justify-center text-3xl shadow-xl",children:"üöÄ"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full animate-pulse"})]}),e.jsx("h3",{className:"text-4xl font-bold mb-3 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Crear Cuenta"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"√önete a StreamZone y disfruta del mejor entretenimiento"})]}),e.jsx(Y,{isDark:r,onSubmit:M}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>N("auth"),className:`inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold transition-all duration-200 hover:scale-105 ${s(r,"text-gray-600 hover:text-gray-800","text-gray-400 hover:text-gray-200")}`,children:"‚Üê Volver a login"})})]})})]});default:return e.jsx(Q,{isDark:r,onReserve:w,user:l,setView:N,services:p||[]})}})()}function Ge({answerFn:t,isDark:r}){const[l,x]=g.useState(!1),[n,a]=g.useState([{role:"bot",text:`¬°Hola! üëã ¬°Bienvenido a StreamZone! üé¨‚ú® Soy tu asistente especializado en streaming. ¬øEn qu√© puedo ayudarte hoy?

üí° Si necesitas ayuda directa, puedes preguntarme por 'agentes' o 'contacto' para hablar con nuestros especialistas.`}]),[i,c]=g.useState(""),[d,p]=g.useState(!1),[f,o]=g.useState([]),[b,m]=g.useState(!1),v=async()=>{const u=i.trim();if(!u)return;a(N=>[...N,{role:"user",text:u}]),c(""),p(!0),o(N=>[...N.slice(-3),u.toLowerCase()]);const $=u.toLowerCase().includes("agente")||u.toLowerCase().includes("contacto")||u.toLowerCase().includes("whatsapp")||u.toLowerCase().includes("hablar")||u.toLowerCase().includes("humano")||u.toLowerCase().includes("persona");try{const N=await t(u,f);a(h=>[...h,{role:"bot",text:N}]),$&&m(!0)}catch(N){console.error("Error en chatbot:",N),a(h=>[...h,{role:"bot",text:"‚ùå Lo siento, hubo un error. Por favor intenta de nuevo."}])}finally{p(!1)}},j=u=>u.split(`
`).map(($,N)=>e.jsxs("span",{children:[$,N<u.split(`
`).length-1&&e.jsx("br",{})]},N));return e.jsxs(e.Fragment,{children:[e.jsx("button",{"data-chat-button":!0,onClick:()=>x(!l),className:`fixed bottom-5 right-5 z-40 rounded-full px-6 py-4 shadow-2xl transition-all duration-300 hover:scale-110 animate-pulse ${s(r,"bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 text-white hover:from-purple-700 hover:via-pink-700 hover:to-blue-700","bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white hover:from-blue-600 hover:via-purple-600 hover:to-pink-600")}`,children:e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl animate-bounce",children:"üí¨"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold text-sm",children:"¬øNecesitas ayuda?"}),e.jsx("div",{className:"text-xs opacity-90",children:"Chat en vivo"})]})]})}),l&&e.jsxs("div",{className:`fixed bottom-20 right-5 z-40 w-96 rounded-2xl border shadow-2xl transition-all duration-300 ${s(r,"border-gray-300 bg-white shadow-gray-200","border-zinc-700 bg-zinc-900")}`,children:[e.jsxs("div",{className:`rounded-t-2xl border-b p-4 font-semibold flex items-center gap-2 ${s(r,"bg-gradient-to-r from-blue-100 to-purple-100 border-gray-300 text-gray-800","bg-gradient-to-r from-purple-900/20 to-blue-900/20 border-zinc-700")}`,children:[e.jsx("span",{className:"text-xl",children:"ü§ñ"}),e.jsx("span",{className:s(r,"text-gray-800","text-white"),children:"Asistente StreamZone"}),e.jsx("div",{className:`ml-auto w-3 h-3 rounded-full ${s(r,"bg-green-500","bg-green-500")}`})]}),e.jsxs("div",{className:"p-4 h-96 overflow-y-auto flex flex-col gap-3",children:[n.map((u,$)=>e.jsx("div",{className:u.role==="bot"?"self-start":"self-end",children:e.jsx("div",{className:`max-w-[90%] rounded-2xl px-4 py-3 text-sm leading-relaxed ${u.role==="bot"?s(r,"bg-gradient-to-br from-blue-100 to-purple-100 text-gray-800 border border-blue-200 shadow-sm","bg-gradient-to-br from-blue-900/30 to-purple-900/30 text-zinc-100 border border-blue-700/30"):s(r,"bg-gradient-to-br from-purple-600 to-blue-600 text-white shadow-md","bg-gradient-to-br from-purple-500 to-blue-600 text-white")}`,children:j(u.text)})},$)),d&&e.jsx("div",{className:"self-start",children:e.jsx("div",{className:`max-w-[90%] rounded-2xl px-4 py-3 text-sm ${s(r,"bg-gray-100 text-gray-700 border border-gray-200","bg-zinc-800 text-zinc-300")}`,children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Escribiendo"}),e.jsx("span",{className:"animate-pulse",children:"..."})]})})}),b&&e.jsxs("div",{className:`mt-4 p-4 rounded-xl border border-dashed ${s(r,"border-blue-300 bg-gradient-to-r from-blue-50 to-purple-50","border-blue-600 bg-gradient-to-r from-blue-900/20 to-purple-900/20")}`,children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("h4",{className:`text-sm font-bold ${s(r,"text-gray-800","text-white")} mb-1`,children:"üìû Nuestros Agentes Especializados"}),e.jsx("p",{className:`text-xs ${s(r,"text-gray-600","text-gray-300")}`,children:"Selecciona un agente para contactar directamente"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("a",{href:"https://wa.me/593984280334",target:"_blank",rel:"noopener noreferrer",className:`group flex items-center gap-3 p-3 rounded-lg transition-all hover:scale-105 ${s(r,"bg-white border border-green-200 hover:border-green-300 hover:shadow-md","bg-green-900/20 border border-green-600 hover:bg-green-800/30")}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center shadow-md group-hover:shadow-lg transition-all",children:e.jsx("span",{className:"text-white text-lg",children:"üë®‚Äçüíº"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:`text-sm font-semibold ${s(r,"text-gray-800","text-white")}`,children:"Agente Principal"}),e.jsx("div",{className:`text-xs ${s(r,"text-gray-600","text-gray-300")}`,children:"593984280334"})]}),e.jsx("div",{className:"text-green-500 group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"text-lg",children:"üí¨"})})]}),e.jsxs("a",{href:"https://wa.me/593984280334",target:"_blank",rel:"noopener noreferrer",className:`group flex items-center gap-3 p-3 rounded-lg transition-all hover:scale-105 ${s(r,"bg-white border border-blue-200 hover:border-blue-300 hover:shadow-md","bg-blue-900/20 border border-blue-600 hover:bg-blue-800/30")}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-md group-hover:shadow-lg transition-all",children:e.jsx("span",{className:"text-white text-lg",children:"üë©‚Äçüíº"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:`text-sm font-semibold ${s(r,"text-gray-800","text-white")}`,children:"Agente Soporte"}),e.jsx("div",{className:`text-xs ${s(r,"text-gray-600","text-gray-300")}`,children:"593984280334"})]}),e.jsx("div",{className:"text-blue-500 group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"text-lg",children:"üí¨"})})]})]}),e.jsx("div",{className:`mt-3 text-center text-xs ${s(r,"text-gray-500","text-gray-400")}`,children:"‚è∞ Disponibles 24/7 ‚Ä¢ Respuesta inmediata"})]}),n.length<=1&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["üéØ Recomi√©ndame algo","üí∞ Ver precios","üì∫ ¬øQu√© hay en Netflix?","üõí ¬øC√≥mo compro?","üë®‚Äçüíº Hablar con agente"].map((u,$)=>e.jsx("button",{onClick:()=>c(u),className:`px-3 py-2 rounded-full text-xs font-medium transition-all hover:scale-105 ${s(r,"bg-zinc-100 text-zinc-700 hover:bg-zinc-200","bg-zinc-700 text-zinc-300 hover:bg-zinc-600")}`,children:u},$))})]}),e.jsxs("div",{className:"p-4 flex gap-2 border-t",children:[e.jsx("input",{value:i,onChange:u=>c(u.target.value),onKeyDown:u=>u.key==="Enter"&&v(),placeholder:"Escribe tu pregunta...",className:`flex-1 rounded-xl border px-4 py-3 text-sm focus:outline-none focus:ring-2 transition-all ${s(r,"border-zinc-300 bg-white focus:ring-purple-500 focus:border-purple-500","border-zinc-600 bg-zinc-800 text-zinc-100 focus:ring-blue-500 focus:border-blue-500")}`}),e.jsx("button",{onClick:v,disabled:!i.trim()||d,className:`rounded-xl px-4 py-3 text-sm font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed ${s(r,"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700","bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700")}`,children:d?"‚è≥":"üöÄ"})]})]})]})}function Ze({isDark:t,onToggle:r}){return e.jsx("button",{title:t?"Cambiar a modo claro":"Cambiar a modo oscuro",onClick:r,className:`fixed bottom-5 left-5 z-40 grid h-11 w-11 place-content-center rounded-full shadow-lg ring-1 ${t?"bg-white text-zinc-900 ring-zinc-200":"bg-zinc-900 text-white ring-zinc-800"}`,children:t?"‚òÄ":"‚òæ"})}function Ke({service:t,onClose:r,onAddPurchase:l,isDark:x,user:n}){const[a,i]=g.useState(1),[c,d]=g.useState("pichincha"),[p,f]=g.useState(""),[o,b]=g.useState(!1),[m,v]=g.useState(""),j=()=>{if(!n){v("Debes estar registrado para reservar");return}b(!0),v("");try{const u={customer:n.name,phone:n.phone,email:n.email,service:t.name,serviceId:t.id,months:a,price:t.price*a,start:new Date().toISOString().split("T")[0],end:new Date(Date.now()+a*30*24*60*60*1e3).toISOString().split("T")[0],validated:!1,payment_method:c,notes:p};l(u),v("‚úÖ ¬°Reserva registrada! Selecciona un agente para enviar tu comprobante"),setTimeout(()=>{r()},3e3)}catch{v("‚ùå Error al realizar la reserva")}finally{b(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-2",children:["üõí Reservar ",t.name]}),e.jsx("p",{className:"text-sm opacity-80",children:"Completa los datos de tu reserva"})]}),e.jsx("div",{className:`p-4 rounded-xl ${s(x,"bg-blue-50 border border-blue-200","bg-blue-900/20 border border-blue-400/30")}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-16 w-16 ${t.color} rounded-xl text-white flex items-center justify-center text-2xl font-bold`,children:t.logo}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:t.name}),e.jsxs("p",{className:"text-sm opacity-80",children:[O(t.price),"/",t.billing==="annual"?"a√±o":"mes"]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:s(x,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Duraci√≥n (meses)"}),e.jsxs("select",{className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(x,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:a,onChange:u=>i(Number(u.target.value)),children:[e.jsx("option",{value:1,children:"1 mes"}),e.jsx("option",{value:3,children:"3 meses"}),e.jsx("option",{value:6,children:"6 meses"}),e.jsx("option",{value:12,children:"12 meses"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:s(x,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"M√©todo de pago"}),e.jsxs("select",{className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(x,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:c,onChange:u=>d(u.target.value),children:[e.jsx("option",{value:"pichincha",children:"Banco Pichincha"}),e.jsx("option",{value:"guayaquil",children:"Banco de Guayaquil"}),e.jsx("option",{value:"pacifico",children:"Banco del Pac√≠fico"}),e.jsx("option",{value:"paypal",children:"PayPal"}),e.jsx("option",{value:"mobile",children:"Pago m√≥vil"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:s(x,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Notas adicionales (opcional)"}),e.jsx("textarea",{className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(x,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:p,onChange:u=>f(u.target.value),placeholder:"Informaci√≥n adicional...",rows:3})]}),e.jsxs("div",{className:`p-4 rounded-xl ${s(x,"bg-green-50 border border-green-200","bg-green-900/20 border border-green-400/30")}`,children:[e.jsx("h4",{className:"font-semibold mb-2",children:"üí∞ Resumen de la compra"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Servicio:"}),e.jsx("span",{children:t.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Duraci√≥n:"}),e.jsxs("span",{children:[a," ",a===1?"mes":"meses"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Precio unitario:"}),e.jsx("span",{children:O(t.price)})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:O(t.price*a)})]})]})]}),m&&e.jsx("div",{className:`text-sm ${m.includes("‚úÖ")?"text-green-600":"text-red-600"}`,children:m}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:r,className:`flex-1 px-4 py-3 rounded-xl font-semibold transition-all ${s(x,"bg-gray-200 text-gray-800 hover:bg-gray-300","bg-gray-700 text-gray-200 hover:bg-gray-600")}`,children:"Cancelar"}),e.jsx("button",{onClick:j,disabled:o,className:`flex-1 px-4 py-3 rounded-xl font-semibold transition-all ${o?"opacity-50 cursor-not-allowed":""} ${s(x,"bg-blue-600 text-white hover:bg-blue-700","bg-blue-500 text-white hover:bg-blue-600")}`,children:o?"‚è≥ Procesando...":"‚úÖ Confirmar Reserva"})]})]})}function Je({service:t,onClose:r,isDark:l,onGoToAuth:x}){return e.jsxs("div",{className:"space-y-4 sm:space-y-6 p-3 sm:p-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative mb-4 sm:mb-6",children:[e.jsx("div",{className:"text-4xl sm:text-6xl mb-3 animate-bounce",children:"üîê"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-3 h-3 sm:w-4 sm:h-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"})]}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-3 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Registro Requerido"}),e.jsxs("p",{className:`text-sm sm:text-base mb-4 sm:mb-6 ${s(l,"text-gray-700","text-gray-300")}`,children:["Para comprar ",e.jsx("span",{className:"font-bold text-blue-600",children:t.name})," necesitas crear una cuenta en ",e.jsx("span",{className:"font-bold text-purple-600",children:"StreamZone"})]})]}),e.jsxs("div",{className:`rounded-xl p-4 border ${s(l,"bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200","bg-gradient-to-br from-blue-900/20 to-purple-900/20 border-blue-600")}`,children:[e.jsx("h4",{className:`text-lg font-bold mb-4 text-center ${s(l,"text-blue-900","text-blue-100")}`,children:"‚ú® Beneficios de registrarte:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${s(l,"bg-white/70","bg-blue-800/20")}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üéØ"}),e.jsx("span",{className:`font-medium text-sm ${s(l,"text-blue-800","text-blue-200")}`,children:"Acceso r√°pido"})]})}),e.jsx("div",{className:`p-2 rounded-lg ${s(l,"bg-white/70","bg-blue-800/20")}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üì±"}),e.jsx("span",{className:`font-medium text-sm ${s(l,"text-blue-800","text-blue-200")}`,children:"Notificaciones"})]})}),e.jsx("div",{className:`p-2 rounded-lg ${s(l,"bg-white/70","bg-blue-800/20")}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"üí≥"}),e.jsx("span",{className:`font-medium text-sm ${s(l,"text-blue-800","text-blue-200")}`,children:"Pago seguro"})]})}),e.jsx("div",{className:`p-2 rounded-lg ${s(l,"bg-white/70","bg-blue-800/20")}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"‚ö°"}),e.jsx("span",{className:`font-medium text-sm ${s(l,"text-blue-800","text-blue-200")}`,children:"Activaci√≥n"})]})})]})]}),e.jsx("div",{className:`rounded-xl p-4 border ${s(l,"bg-gradient-to-r from-gray-50 to-blue-50 border-gray-200","bg-gradient-to-r from-gray-800 to-blue-900/20 border-gray-600")}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-16 w-16 ${t.color} rounded-xl text-white flex items-center justify-center text-2xl font-bold shadow-md`,children:t.logo}),e.jsxs("div",{children:[e.jsx("h5",{className:`text-lg font-bold ${s(l,"text-gray-900","text-white")}`,children:t.name}),e.jsxs("p",{className:`text-base ${s(l,"text-gray-600","text-gray-300")}`,children:["Precio: ",e.jsx("span",{className:"font-bold text-green-600",children:O(t.price)}),"/mes"]})]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full ${s(l,"bg-green-100 text-green-800","bg-green-800/30 text-green-200")}`,children:e.jsx("span",{className:"text-xs font-semibold",children:"Premium"})})]})}),e.jsxs("div",{className:"flex flex-col gap-2 sm:gap-3",children:[e.jsx("button",{onClick:x,className:`w-full rounded-xl px-4 sm:px-6 py-3 sm:py-4 font-bold text-base sm:text-lg transition-all duration-300 hover:scale-105 shadow-xl ${s(l,"bg-gradient-to-r from-purple-600 via-blue-600 to-pink-600 text-white hover:from-purple-700 hover:via-blue-700 hover:to-pink-700","bg-gradient-to-r from-purple-700 via-blue-700 to-pink-700 text-white hover:from-purple-800 hover:via-blue-800 hover:to-pink-800")}`,children:e.jsxs("span",{className:"flex items-center justify-center gap-2 sm:gap-3",children:[e.jsx("span",{className:"text-lg sm:text-xl",children:"üöÄ"}),e.jsx("span",{children:"Crear Cuenta y Comprar"}),e.jsx("span",{className:"text-lg sm:text-xl",children:"‚ú®"})]})}),e.jsx("button",{onClick:r,className:`w-full rounded-xl px-3 sm:px-4 py-2 sm:py-3 font-semibold transition-all duration-300 hover:scale-105 border text-sm sm:text-base ${s(l,"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400","bg-gray-800 text-gray-300 border-gray-600 hover:bg-gray-700 hover:border-gray-500")}`,children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{children:"‚Üê"}),e.jsx("span",{children:"Volver al Cat√°logo"})]})})]}),e.jsx("div",{className:"text-center pt-4",children:e.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${s(l,"bg-gray-100","bg-gray-800")}`,children:[e.jsx("span",{className:`text-sm ${s(l,"text-gray-600","text-gray-400")}`,children:"¬øYa tienes cuenta?"}),e.jsx("button",{onClick:x,className:`font-semibold text-sm px-3 py-1 rounded-full transition-all ${s(l,"text-blue-600 hover:text-blue-700 hover:bg-blue-50","text-blue-400 hover:text-blue-300 hover:bg-blue-900/20")}`,children:"Iniciar sesi√≥n"})]})})]})}function ke({reserveModalOpen:t,registrationRequiredOpen:r,purchaseModalOpen:l,adminRegisterPurchaseOpen:x,editPurchaseOpen:n,selectedService:a,purchaseData:i,editingPurchase:c,user:d,isDark:p,systemPrefersDark:f,setReserveModalOpen:o,setRegistrationRequiredOpen:b,setPurchaseModalOpen:m,setAdminRegisterPurchaseOpen:v,setEditPurchaseOpen:j,onAddPurchase:u,onGoToAuth:$,onPurchase:N,onRegister:h,onUpdate:w}){return e.jsxs(e.Fragment,{children:[e.jsx(ge,{open:t,onClose:()=>o(!1),title:`üîê Registro Requerido - ${a?.name||""}`,isDark:p,className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:a&&e.jsx(Je,{service:a,onClose:()=>o(!1),isDark:p,onGoToAuth:$})}),r&&e.jsx(Ke,{service:a,onClose:()=>b(!1),onAddPurchase:u,isDark:p,user:d}),e.jsx(be,{open:l,onClose:()=>m(!1),service:i,user:d,isDark:p,onPurchase:N}),e.jsx(pe,{open:x,onClose:()=>v(!1),onRegister:h,isDark:p,systemPrefersDark:f}),e.jsx(he,{open:n,onClose:()=>j(!1),onUpdate:w,purchase:c,isDark:p,systemPrefersDark:f})]})}function Qe({isOpen:t,onClose:r,title:l="Error",message:x,isDark:n,onRetry:a,showRetry:i=!0}){return t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-md",onClick:r}),e.jsx("div",{className:"relative w-full max-w-xs sm:max-w-sm transform transition-all duration-300 scale-100 opacity-100",children:e.jsxs("div",{className:`rounded-xl sm:rounded-2xl shadow-2xl border-2 ${n?"bg-gray-900 border-red-600":"bg-white border-red-500"}`,children:[e.jsxs("div",{className:"relative overflow-hidden rounded-t-xl sm:rounded-t-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600 via-red-700 to-red-800"}),e.jsxs("div",{className:"relative p-4 sm:p-6 text-center",children:[e.jsx("div",{className:"mx-auto mb-3 sm:mb-4 w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-white/30 flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-white drop-shadow-lg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),e.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-2 text-white drop-shadow-lg",children:l})]})]}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("div",{className:"text-center mb-4 sm:mb-6",children:e.jsx("p",{className:`text-sm sm:text-base leading-relaxed ${n?"text-gray-100":"text-gray-800"}`,children:x})}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[i&&a&&e.jsx("button",{onClick:a,className:`w-full py-3 sm:py-3 px-4 rounded-lg sm:rounded-xl font-semibold text-sm sm:text-base transition-all duration-200 transform hover:scale-105 shadow-lg ${n?"bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700 border border-blue-400":"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 border border-blue-500"}`,children:"üîÑ Intentar de nuevo"}),e.jsx("button",{onClick:r,className:`w-full py-2.5 sm:py-2 px-4 rounded-lg sm:rounded-xl text-sm sm:text-base font-medium transition-all duration-200 shadow-md ${n?"bg-gray-700 text-gray-100 hover:bg-gray-600 border border-gray-500":"bg-gray-200 text-gray-800 hover:bg-gray-300 border border-gray-400"}`,children:"Cerrar"})]})]}),e.jsx("div",{className:`px-4 sm:px-6 pb-3 sm:pb-4 ${n?"bg-gray-900/80":"bg-gray-100/80"}`,children:e.jsx("div",{className:"flex justify-center space-x-1",children:[...Array(3)].map((c,d)=>e.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${n?"bg-red-400":"bg-red-600"}`,style:{animationDelay:`${d*.3}s`,animationDuration:"1.5s"}},d))})})]})})]}):null}function Ye(t,r){return{answer:async(x,n=[])=>{const a=x.toLowerCase().trim();if([...n,a].join(" "),console.log("Chatbot recibi√≥:",a),console.log("Servicios disponibles:",t.length),console.log("Combos disponibles:",r.length),/hola|buenas|hey|hi|hello|buenos|buenas tardes|buenas noches|buenos d√≠as/.test(a))return`¬°Hola! Bienvenido a StreamZone. Soy su asistente especializado en streaming. Puedo ayudarle con:

üí∞ Ver precios - Cat√°logo completo de servicios
üéØ Combos especiales - Grandes ahorros
üì∫ Contenido disponible - Por plataforma
üõí C√≥mo comprar - Proceso paso a paso
üì± Informaci√≥n de cuentas - Dispositivos y perfiles
üîê Recuperar contrase√±a - Si olvid√≥ su acceso
üí≥ M√©todos de pago - Informaci√≥n bancaria
üõ†Ô∏è Soporte t√©cnico - Ayuda y problemas

Comandos r√°pidos:
‚Ä¢ Escriba "ver precios" para el cat√°logo
‚Ä¢ Escriba "combos" para ofertas especiales
‚Ä¢ Escriba "c√≥mo comprar" para el proceso
‚Ä¢ Escriba "m√©todos de pago" para informaci√≥n bancaria

¬øEn qu√© puedo ayudarle?`;if(/olvide|olvid√©|contrase√±a|password|recuperar|reset|resetear/.test(a))return`üîê RECUPERACI√ìN DE CONTRASE√ëA

No se preocupe, puedo ayudarle a recuperar su contrase√±a.

Proporcione su email y le generar√© un c√≥digo de recuperaci√≥n.

Ejemplo: miemail@gmail.com

Importante: El c√≥digo se mostrar√° aqu√≠ en el chat, no se env√≠a por email.

¬øCu√°l es su email registrado?`;if(/@.*\./.test(a)&&!/netflix|disney|hbo|amazon|spotify/.test(a)){const i=a.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/);if(i){const c=i[1];try{console.log("üîç Chatbot generando token para:",c);const d=await D(c);return console.log("üîç Chatbot resultado completo:",d),console.log("üîç Token generado:",d.data?.token),console.log("üîç Usuario:",d.data?.user),d.data?`üîê **¬°C√ìDIGO GENERADO EXITOSAMENTE!** ‚úÖ

üìß Email: ${c}
üîë **Tu c√≥digo de recuperaci√≥n:**

**${d.data.token}**

üìã **Instrucciones:**
1. Ve a "Iniciar sesi√≥n" ‚Üí "¬øOlvidaste tu contrase√±a?"
2. Ingresa tu email: ${c}
3. Copia y pega este c√≥digo: **${d.data.token}**
4. Crea tu nueva contrase√±a

‚è∞ **El c√≥digo expira en 30 minutos**

üí° ¬°Guarda este c√≥digo en un lugar seguro!`:(console.log("üîç Error en resultado:",d.error),`‚ùå **Error generando c√≥digo**

üìß Email: ${c}
üö´ ${d.error?.message||"Error desconocido"}

üí° **Posibles causas:**
‚Ä¢ El email no est√° registrado
‚Ä¢ Problema de conexi√≥n

üîß **Soluci√≥n:**
‚Ä¢ Verifica que el email sea correcto
‚Ä¢ Intenta crear una cuenta nueva si no tienes una`)}catch(d){return console.log("üîç Chatbot error en catch:",d),`‚ùå **Error en el proceso**

üìß Email: ${c}
üö´ Error: ${d}

üí° Intenta de nuevo o contacta soporte.`}}}return/recomendar|recomendaci√≥n|recomendaciones|qu√©|que ver|mejor|sugerir|cu√°l|que plataforma|anime|familia|marvel|star wars|hbo|blockbuster|presupuesto bajo|dame|quiero ver|ayuda|opciones/.test(a)?/anime|manga|japon√©s|japones/.test(a)?`üéå Para ANIME te recomiendo:

1Ô∏è‚É£ **Crunchyroll** - El cat√°logo m√°s grande de anime
   Ejemplos: Attack on Titan, Demon Slayer, Jujutsu Kaisen

2Ô∏è‚É£ **Netflix** - Anime original y cl√°sicos
   Ejemplos: Naruto, One Piece, Castlevania

üí° ¬øPrefieres anime cl√°sico o series nuevas?`:/familia|ni√±os|kids|disney|marvel|star wars|pixar/.test(a)?`üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Para CONTENIDO FAMILIAR te recomiendo:

1Ô∏è‚É£ **Disney+** - Marvel, Star Wars, Pixar
   Ejemplos: Loki, The Mandalorian, Encanto

2Ô∏è‚É£ **Combo Netflix + Disney+** - $6/mes (¬°Ahorro!) üí∞

üé≠ ¬øBuscas contenido para adultos o toda la familia?`:/hbo|warner|premiadas|premios|calidad|premium/.test(a)?`üèÜ Para SERIES PREMIUM te recomiendo:

1Ô∏è‚É£ **Max (HBO)** - Contenido de alta calidad
   Ejemplos: House of the Dragon, The Last of Us, Succession

2Ô∏è‚É£ **Combo Max + Prime Video** - $5.50/mes

üé¨ ¬øTe gustan las series dram√°ticas o prefieres acci√≥n?`:/blockbuster|pel√≠culas|peliculas|acci√≥n|accion|superh√©roes/.test(a)?`üé¨ Para BLOCKBUSTERS te recomiendo:

1Ô∏è‚É£ **Prime Video** - Pel√≠culas + canales
   Ejemplos: The Boys, Jack Ryan, Fast & Furious

2Ô∏è‚É£ **Netflix** - Originales y √©xitos
   Ejemplos: Stranger Things, The Witcher, Extraction

üí• ¬øPrefieres pel√≠culas de acci√≥n o series?`:/presupuesto bajo|barato|econ√≥mico|economico|combo|ahorro/.test(a)?`üí∞ Para PRESUPUESTO BAJO te recomiendo:

1Ô∏è‚É£ **Netflix + Disney+** - $6/mes (¬°50% descuento!)
2Ô∏è‚É£ **Netflix + Max** - $5.50/mes
3Ô∏è‚É£ **Prime Video + Disney+** - $5.75/mes

üéØ Todos incluyen: 1 perfil + 1 dispositivo
üí° ¬øCu√°nto quieres gastar al mes?`:`üéØ Te recomiendo estas opciones populares:

`+t.slice(0,3).map((c,d)=>`${d+1}Ô∏è‚É£ **${c.name}** - ${O(c.price)}/${c.billing==="annual"?"a√±o":"mes"}
   ${fe(c.id)}`).join(`

`)+`

ü§î ¬øQu√© tipo de contenido te gusta m√°s? (anime, familia, acci√≥n, etc.)`:/pel√≠cula|pelicula|serie|contenido|qu√© hay|que hay|disponible|ver|cat√°logo|catalogo/.test(a)?/netflix/.test(a)?`üì∫ **NETFLIX** - Cat√°logo completo:

üé¨ **Series Originales:**
‚Ä¢ Stranger Things, The Crown, La Casa de Papel
‚Ä¢ Bridgerton, Ozark, The Witcher
‚Ä¢ Wednesday, Dahmer, Money Heist

üé≠ **G√©neros:** Drama, Thriller, Comedia, Documentales
üåç **Pa√≠ses:** Disponible en Ecuador y Latinoam√©rica

üí° ¬øTe interesa alg√∫n g√©nero espec√≠fico?`:/disney/.test(a)?`üè∞ **DISNEY+** - Cat√°logo completo:

ü¶∏ **Marvel:** Loki, WandaVision, Hawkeye, Moon Knight
‚≠ê **Star Wars:** The Mandalorian, Obi-Wan Kenobi
üé® **Pixar:** Soul, Luca, Turning Red
üè∞ **Disney Cl√°sico:** Frozen, Moana, Encanto

üë®‚Äçüë©‚Äçüëß‚Äçüë¶ **Perfecto para:** Familias, fans de Marvel/Star Wars

üéØ ¬øBuscas contenido para ni√±os o adultos?`:/max|hbo/.test(a)?`üëë **MAX (HBO)** - Contenido Premium:

üêâ **Series √âpicas:** Game of Thrones, House of the Dragon
üéÆ **Videojuegos:** The Last of Us, Arcane
üíº **Drama:** Succession, Euphoria, White Lotus
üé¨ **Pel√≠culas:** Batman, Dune, Matrix

üèÜ **Calidad:** 4K, HDR, Dolby Atmos

üé≠ ¬øPrefieres series dram√°ticas o pel√≠culas √©picas?`:/prime/.test(a)?`üì¶ **PRIME VIDEO** - Exclusivas + Beneficios:

ü¶∏ **Originales:** The Boys, The Marvelous Mrs. Maisel
üé¨ **Blockbusters:** Jack Ryan, Tom Clancy's
üìö **Beneficios Extra:** Env√≠o gratis Amazon

üåç **Disponibilidad:** Ecuador, Latinoam√©rica
üí∞ **Valor:** Incluye env√≠os de Amazon

üõí ¬øTe interesan las exclusivas o los beneficios de Amazon?`:/spotify/.test(a)?`üéµ **SPOTIFY** - M√∫sica Sin L√≠mites:

üé∂ **M√∫sica:** 100M+ canciones
üéß **Podcasts:** Joe Rogan, Serial, Crime Junkie
üé§ **Audiolibros:** Harry Potter, El Principito

üì± **Dispositivos:** M√≥vil, PC, TV, Auto
üéØ **Perfecto para:** M√∫sica, podcasts, audiolibros

üéß ¬øPrefieres m√∫sica, podcasts o audiolibros?`:`üì∫ **CAT√ÅLOGOS DISPONIBLES:**

üé¨ **Netflix:** Series originales, thrillers, documentales
üè∞ **Disney+:** Marvel, Star Wars, Pixar, Disney cl√°sico
üëë **Max:** HBO premium, Game of Thrones, pel√≠culas √©picas
üì¶ **Prime Video:** Exclusivas, blockbusters + Amazon
üéµ **Spotify:** M√∫sica, podcasts, audiolibros

ü§î ¬øQu√© plataforma te interesa m√°s?`:/precio|precios|cu√°nto|cuesta|costar|combo|ahorro|descuento|barato|econ√≥mico|economico/.test(a)?/combo/.test(a)?`üí∞ **COMBOS DISPONIBLES:**

`+r.map(i=>`üéØ **${i.name}** - ${O(i.price)}/mes
   üí° Ahorro significativo vs individual`).join(`

`)+`

üéØ ¬øTe interesa alg√∫n combo espec√≠fico?`:`üí∞ **PRECIOS INDIVIDUALES:**

`+t.slice(0,5).map(i=>`üì∫ **${i.name}** - ${O(i.price)}/${i.billing==="annual"?"a√±o":"mes"}`).join(`

`)+`

üí° **Tip:** Los combos ofrecen grandes ahorros. Escribe "combos" para ver ofertas.`:/c√≥mo comprar|como comprar|comprar|proceso|pasos|reservar|pagar|pago|metodo|m√©todo/.test(a)?`üõí **PROCESO DE COMPRA:**

1Ô∏è‚É£ **Selecciona** tu servicio o combo
2Ô∏è‚É£ **Reserva** por WhatsApp (+593 98 428 0334)
3Ô∏è‚É£ **Paga** por transferencia bancaria
4Ô∏è‚É£ **Recibe** tus credenciales al instante
5Ô∏è‚É£ **Disfruta** de tu entretenimiento

üí≥ **M√©todos de pago:**
‚Ä¢ Banco Pichincha
‚Ä¢ Banco de Guayaquil
‚Ä¢ Banco del Pac√≠fico
‚Ä¢ PayPal
‚Ä¢ Transferencia m√≥vil

üì± **WhatsApp:** +593 98 428 0334

¬øNecesitas ayuda con alg√∫n paso espec√≠fico?`:/cuenta|perfil|dispositivo|dispositivos|usuario|usuario|sesi√≥n|sesion|login|acceso/.test(a)?`üë§ **INFORMACI√ìN DE CUENTAS:**

üì± **Dispositivos:**
‚Ä¢ M√≥vil (Android/iOS)
‚Ä¢ Smart TV (Samsung, LG, Sony)
‚Ä¢ Computadora (Windows/Mac)
‚Ä¢ Tablet (iPad, Android)

üë• **Perfiles:**
‚Ä¢ 1 perfil por servicio
‚Ä¢ Contrase√±a personalizada
‚Ä¢ Acceso desde cualquier dispositivo

üîê **Seguridad:**
‚Ä¢ Cambio de contrase√±a disponible
‚Ä¢ Recuperaci√≥n por email
‚Ä¢ Soporte 24/7

üí° ¬øNecesitas ayuda con alg√∫n dispositivo espec√≠fico?`:/m√©todo|metodo|pago|pagar|banco|transferencia|paypal|pichincha|guayaquil|pacifico/.test(a)?`üí≥ **M√âTODOS DE PAGO:**

üè¶ **Bancos Nacionales:**
‚Ä¢ Banco Pichincha
‚Ä¢ Banco de Guayaquil
‚Ä¢ Banco del Pac√≠fico

üíö **PayPal:**
‚Ä¢ Pago internacional
‚Ä¢ Tarjeta de cr√©dito/d√©bito

üì± **Transferencia M√≥vil:**
‚Ä¢ Pago desde tu celular
‚Ä¢ R√°pido y seguro

üí∞ **Proceso:**
1. Reserva por WhatsApp
2. Te enviamos datos bancarios
3. Realizas la transferencia
4. Recibes credenciales al instante

üì± **WhatsApp:** +593 98 428 0334

¬øPrefieres alg√∫n m√©todo espec√≠fico?`:/soporte|ayuda|problema|error|no funciona|no carga|t√©cnico|tecnico|bug|falla/.test(a)?`üõ†Ô∏è **SOPORTE T√âCNICO:**

üì± **Problemas comunes:**
‚Ä¢ No carga el contenido ‚Üí Reinicia la app
‚Ä¢ Error de login ‚Üí Verifica credenciales
‚Ä¢ Lento ‚Üí Cierra otras apps
‚Ä¢ No reproduce ‚Üí Actualiza la app

üîß **Soluciones:**
‚Ä¢ Reinicia el dispositivo
‚Ä¢ Actualiza la aplicaci√≥n
‚Ä¢ Verifica tu conexi√≥n a internet
‚Ä¢ Contacta soporte si persiste

üìû **Contacto:**
‚Ä¢ WhatsApp: +593 98 428 0334
‚Ä¢ Email: soporte@streamzone.com
‚Ä¢ Disponible 24/7

¬øQu√© problema espec√≠fico tienes?`:/streamzone|stream zone|qu√© es|que es|informaci√≥n|info|acerca|sobre/.test(a)?`üé¨ **STREAMZONE** - Tu entretenimiento digital:

‚ú® **¬øQu√© somos?**
‚Ä¢ Plataforma de streaming premium
‚Ä¢ Acceso a todas las plataformas
‚Ä¢ Precios incre√≠bles
‚Ä¢ Soporte 24/7

üéØ **Nuestros servicios:**
‚Ä¢ Netflix, Disney+, Max, Prime Video
‚Ä¢ Spotify, Crunchyroll, YouTube Premium
‚Ä¢ Combos especiales con ahorros

üí∞ **Ventajas:**
‚Ä¢ Precios m√°s bajos que individual
‚Ä¢ Activaci√≥n inmediata
‚Ä¢ Soporte personalizado
‚Ä¢ Renovaci√≥n autom√°tica

üõí **¬øC√≥mo funciona?**
1. Selecciona tu servicio
2. Reserva por WhatsApp
3. Paga y recibe credenciales
4. ¬°Disfruta!

üì± **Contacto:** +593 98 428 0334

¬øTe interesa alg√∫n servicio espec√≠fico?`:`ü§î No estoy seguro de entender tu pregunta. Puedo ayudarte con:

üí∞ **Precios y combos**
üì∫ **Contenido disponible**
üõí **C√≥mo comprar**
üîê **Recuperar contrase√±a**
üí≥ **M√©todos de pago**
üõ†Ô∏è **Soporte t√©cnico**

üí° **Comandos √∫tiles:**
‚Ä¢ "ver precios" - Cat√°logo completo
‚Ä¢ "combos" - Ofertas especiales
‚Ä¢ "c√≥mo comprar" - Proceso paso a paso
‚Ä¢ "m√©todos de pago" - Informaci√≥n bancaria

¬øEn qu√© m√°s puedo ayudarte?`}}}function Xe(){const[t,r]=g.useState(!1),[l,x]=g.useState(!1),[n,a]=g.useState(!1),[i,c]=g.useState(null),[d,p]=g.useState(null);return{reserveModalOpen:t,registrationRequiredOpen:l,purchaseModalOpen:n,selectedService:i,purchaseData:d,setReserveModalOpen:r,setRegistrationRequiredOpen:x,setPurchaseModalOpen:a,setSelectedService:c,setPurchaseData:p,handleReserve:(b,m)=>{m?(p(b),a(!0)):(c(b),r(!0))},closeAllModals:()=>{r(!1),x(!1),a(!1),c(null),p(null)}}}const De=()=>{const[t,r]=g.useState(()=>{try{return localStorage.getItem("sz_theme")||"dark"}catch{return"dark"}}),l=t==="dark",[x,n]=g.useState(!1);return g.useEffect(()=>{const i=window.matchMedia("(prefers-color-scheme: dark)");n(i.matches);const c=d=>{n(d.matches)};return i.addEventListener("change",c),()=>i.removeEventListener("change",c)},[]),g.useEffect(()=>{try{localStorage.setItem("sz_theme",t)}catch{}},[t]),{theme:t,setTheme:r,isDark:l,systemPrefersDark:x,toggleTheme:()=>r(l?"light":"dark")}},et=()=>{const[t,r]=g.useState("home");return{view:t,setView:r,navigateToHome:()=>r("home"),navigateToCombos:()=>r("combos"),navigateToAdmin:()=>r("admin"),navigateToAuth:()=>r("auth"),navigateToProfile:()=>r("profile"),navigateToRegister:()=>r("register")}};function tt(){const{isDark:t,systemPrefersDark:r,toggleTheme:l}=De(),{view:x,setView:n}=et(),{user:a,adminLogged:i,setAllPurchases:c,authStep:d,setAuthStep:p,resetEmail:f,resetToken:o,handleLogin:b,handleLogout:m,handleAdminLogin:v,handleAdminLogout:j,handleForgotPassword:u,handleCodeVerified:$,handlePasswordReset:N}=Me(),h=Ae(),{adminUsers:w,setAdminUsers:A,adminDrawerOpen:C,setAdminDrawerOpen:E,adminMenuOpen:S,setAdminMenuOpen:M,adminRegisterPurchaseOpen:T,setAdminRegisterPurchaseOpen:R,editPurchaseOpen:B,setEditPurchaseOpen:V,editingPurchase:L,approvePurchaseOpen:_,setApprovePurchaseOpen:F,selectedPurchase:U,adminEmails:W,handleToggleValidate:G,handleDeletePurchase:te,handleEditPurchase:se,handleReminderPurchase:re,handleApproveSuccess:ae,handleUpdatePurchase:Z,handleExportCSV:K}=Re(h.allPurchases,y=>{c(y)},h.refreshAllStats),z=Xe(),I=Oe(),ne=Ye(h.services,h.combos);ee.useEffect(()=>{(async()=>{try{await k([...ye]),console.log("Servicios sincronizados con Supabase"),await k([...Ne.map(P=>({...P,is_combo:!0}))]),console.log("Combos sincronizados con Supabase")}catch(P){console.error("Error sincronizando servicios:",P)}})()},[]);const oe=y=>{console.log("handleReserve called with:",{service:y,user:a}),z.handleReserve(y,a)},le=y=>{console.log("Agregando compra:",y),z.setReserveModalOpen(!1)},ie=async y=>{z.setPurchaseModalOpen(!1),await I.processPurchase(y),console.log("üîÑ handlePurchase: Recargando datos despu√©s de la compra..."),await h.refreshAllStats()};return e.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${s(t,"bg-gray-50","bg-zinc-900")}`,children:[e.jsx(qe,{isDark:t,view:x,user:a,adminLogged:i,setView:n,handleLogout:m}),e.jsx("main",{className:"flex-1",children:e.jsx(He,{view:x,isDark:t,user:a,adminLogged:i,purchases:h.allPurchases,pendingPurchases:h.pendingPurchases,userActivePurchases:h.userActivePurchases,expiringServices:h.expiringServices,renewalStats:h.renewalStats,services:h.services,combos:h.combos,loading:h.loading,error:h.error,adminUsers:w,setAdminUsers:A,authStep:d,resetEmail:f,resetToken:o,setView:n,setAuthStep:p,handleReserve:oe,handleToggleValidate:G,handleDeletePurchase:te,handleEditPurchase:se,handleReminderPurchase:re,handleLogin:b,handleAdminLogin:v,handleAdminLogout:j,handleForgotPassword:u,handleCodeVerified:$,handlePasswordReset:N,setAdminRegisterPurchaseOpen:R,handleExportCSV:K,refreshAllStats:h.refreshAllStats,adminEmails:W})}),e.jsx(ke,{reserveModalOpen:z.reserveModalOpen,registrationRequiredOpen:z.registrationRequiredOpen,purchaseModalOpen:z.purchaseModalOpen,adminRegisterPurchaseOpen:T,editPurchaseOpen:B,selectedService:z.selectedService,purchaseData:z.purchaseData,editingPurchase:L,user:a,isDark:t,systemPrefersDark:r,setReserveModalOpen:z.setReserveModalOpen,setRegistrationRequiredOpen:z.setRegistrationRequiredOpen,setPurchaseModalOpen:z.setPurchaseModalOpen,setAdminRegisterPurchaseOpen:R,setEditPurchaseOpen:V,onAddPurchase:le,onGoToAuth:()=>{z.setReserveModalOpen(!1),n("auth")},onPurchase:ie,onRegister:async y=>{console.log("üõí Registrando compra manual:",y);try{if(!y.name||!y.phone||!y.service)throw new Error("Faltan datos requeridos: nombre, tel√©fono o servicio");const P={customer:y.name.trim(),phone:y.phone.trim(),service:y.service.trim(),start:y.startDate||new Date().toISOString().split("T")[0],end:y.endDate||new Date().toISOString().split("T")[0],months:y.months||1,price:y.price||0,validated:!0,service_email:y.service_email||null,service_password:y.service_password||null,admin_notes:y.admin_notes||null,approved_by:"admin",approved_at:new Date().toISOString()};console.log("üíæ Datos a guardar:",P),console.log("üíæ Validaci√≥n de datos:",{customer:!!P.customer,phone:!!P.phone,service:!!P.service,start:!!P.start,end:!!P.end});const H=await ve(P);if(H.data)console.log("‚úÖ Compra manual registrada exitosamente:",H.data),alert(`üéâ‚ú® ¬°Compra manual registrada exitosamente! ‚ú®üéâ
üí´ El cliente ya puede disfrutar de su servicio üí´`),h.refreshAllStats&&await h.refreshAllStats();else throw console.error("‚ùå Resultado de createPurchase:",H),new Error("No se pudo crear la compra - resultado vac√≠o")}catch(P){console.error("‚ùå Error registrando compra manual:",P),console.error("‚ùå Stack trace:",P.stack),alert(`üòî‚ùå Error al registrar la compra manual ‚ùåüòî
üîÑ Por favor, intenta nuevamente: `+(P.message||"Error desconocido")+" üîÑ")}},onUpdate:y=>{L?.id&&Z(L.id,y)}}),e.jsx(ze,{open:C,onClose:()=>E(!1),isDark:t,adminUsers:w,setAdminUsers:A}),e.jsx(Ee,{open:S,onClose:()=>M(!1),isDark:t,setSubView:()=>{},openAdmins:()=>E(!0),onExportCSV:K,onLogout:j,onRegisterPurchase:()=>R(!0)}),e.jsx(je,{isOpen:_,onClose:()=>F(!1),purchase:U,isDark:t,onApprove:ae,onUpdatePurchase:Z}),e.jsx(Qe,{isOpen:I.errorModal.isOpen,onClose:I.closeErrorModal,title:"Error en la Compra",message:I.errorModal.message,isDark:t,showRetry:!1}),e.jsx(Ge,{answerFn:ne.answer,isDark:t}),e.jsx(Ze,{isDark:t,onToggle:l})]})}Ie.createRoot(document.getElementById("root")).render(e.jsx(ee.StrictMode,{children:e.jsx(tt,{})}));

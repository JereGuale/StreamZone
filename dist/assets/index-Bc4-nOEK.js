import{j as e,t as s,p as Z,q as me,r as xe,v as D,w as ue,x as ge,f as E,M as be,P as pe,A as he,E as fe,y as ve,e as je,z as ye,B as J,S as K,C as Q}from"./ui-components-DrP8Ihef.js";import{a as Ne,r as p,R as ee}from"./react-vendor-B6114-rA.js";import{C as we,H as Y,U as X,a as Ce,A as $e,b as Pe,c as Se}from"./pages-BM2CpQDE.js";import{u as ze,a as Ee,b as Ae,c as Me}from"./hooks-D5Wd_8S7.js";import"./supabase-C8p_czby.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function i(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(n){if(n.ep)return;n.ep=!0;const o=i(n);fetch(n.href,o)}})();var U={},k=Ne;U.createRoot=k.createRoot,U.hydrateRoot=k.hydrateRoot;function Re({className:t="h-9 w-9"}){return e.jsxs("svg",{viewBox:"0 0 64 64",className:t,"aria-label":"StreamZone logo",role:"img",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"szg",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#ef4444"}),e.jsx("stop",{offset:"100%",stopColor:"#8b5cf6"})]})}),e.jsx("rect",{x:"0",y:"0",width:"64",height:"64",rx:"14",fill:"url(#szg)"}),e.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Inter,system-ui,Arial",fontSize:"26",fontWeight:"700",fill:"#ffffff",children:"SZ"})]})}function Oe({isDark:t,view:r,user:i,adminLogged:c,setView:n,handleLogout:o}){return e.jsxs("header",{className:`sticky top-0 z-50 backdrop-blur-xl border-b transition-all duration-500 ${s(t,"bg-white/95 border-gray-200/50 shadow-lg","bg-zinc-900/95 border-zinc-700/50 shadow-2xl")}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 via-purple-600/5 to-pink-600/5"}),e.jsx("div",{className:"relative mx-auto max-w-7xl px-2 sm:px-4 lg:px-8",children:e.jsxs("div",{className:"flex h-14 sm:h-16 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center group cursor-pointer",onClick:()=>n("home"),children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl blur-sm opacity-75 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx(Re,{className:"relative h-6 w-6 sm:h-8 sm:w-8 drop-shadow-lg"})]}),e.jsxs("div",{className:"ml-2 sm:ml-3",children:[e.jsx("span",{className:"text-lg sm:text-xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent group-hover:from-blue-500 group-hover:via-purple-500 group-hover:to-pink-500 transition-all duration-300",children:"StreamZone"}),e.jsx("div",{className:`text-xs font-medium hidden sm:block ${s(t,"text-gray-500","text-gray-400")} group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors duration-300`,children:"Premium Streaming"})]})]}),e.jsxs("nav",{className:"flex items-center gap-0.5 sm:gap-2 lg:gap-3",children:[e.jsxs("button",{onClick:()=>n("home"),className:`group relative min-w-[36px] sm:min-w-[70px] px-1.5 sm:px-3 py-1.5 sm:py-2 rounded-md sm:rounded-lg font-medium sm:font-semibold transition-all duration-300 text-xs overflow-hidden ${r==="home"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg shadow-blue-500/25":s(t,"text-gray-700 hover:text-gray-900 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 border border-gray-200 hover:border-blue-300","text-gray-300 hover:text-white hover:bg-gradient-to-r hover:from-blue-900/20 hover:to-purple-900/20 border border-gray-600 hover:border-blue-500/50")}`,title:"Inicio",children:[e.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-0.5 sm:gap-1",children:[e.jsx("span",{className:"text-xs sm:text-sm",children:"🏠"}),e.jsx("span",{className:"hidden sm:inline",children:"Inicio"})]}),r==="home"&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("button",{onClick:()=>n("combos"),className:`group relative min-w-[36px] sm:min-w-[70px] px-1.5 sm:px-3 py-1.5 sm:py-2 rounded-md sm:rounded-lg font-medium sm:font-semibold transition-all duration-300 text-xs overflow-hidden ${r==="combos"?"bg-gradient-to-r from-green-600 to-emerald-600 text-white shadow-lg shadow-green-500/25":s(t,"text-gray-700 hover:text-gray-900 hover:bg-gradient-to-r hover:from-green-50 hover:to-emerald-50 border border-gray-200 hover:border-green-300","text-gray-300 hover:text-white hover:bg-gradient-to-r hover:from-green-900/20 hover:to-emerald-900/20 border border-gray-600 hover:border-green-500/50")}`,title:"Combos",children:[e.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-0.5 sm:gap-1",children:[e.jsx("span",{className:"text-xs sm:text-sm",children:"🎁"}),e.jsx("span",{className:"hidden sm:inline",children:"Combos"})]}),r==="combos"&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600 to-emerald-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),i?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>n("profile"),className:`group relative min-w-[36px] sm:min-w-[70px] px-1.5 sm:px-3 py-1.5 sm:py-2 rounded-md sm:rounded-lg font-medium sm:font-semibold transition-all duration-300 text-xs overflow-hidden ${r==="profile"?"bg-gradient-to-r from-indigo-600 to-blue-600 text-white shadow-lg shadow-indigo-500/25":s(t,"text-gray-700 hover:text-gray-900 hover:bg-gradient-to-r hover:from-indigo-50 hover:to-blue-50 border border-gray-200 hover:border-indigo-300","text-gray-300 hover:text-white hover:bg-gradient-to-r hover:from-indigo-900/20 hover:to-blue-900/20 border border-gray-600 hover:border-indigo-500/50")}`,title:"Mi Perfil",children:[e.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-0.5 sm:gap-1",children:[e.jsx("span",{className:"text-xs sm:text-sm",children:"👤"}),e.jsx("span",{className:"hidden sm:inline",children:"Perfil"})]}),r==="profile"&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 to-blue-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx("button",{onClick:o,className:`group relative min-w-[36px] sm:min-w-[70px] px-1.5 sm:px-3 py-1.5 sm:py-2 rounded-md sm:rounded-lg font-medium sm:font-semibold transition-all duration-300 text-xs overflow-hidden ${s(t,"text-red-600 hover:text-red-700 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 border border-red-200 hover:border-red-300","text-red-400 hover:text-red-300 hover:bg-gradient-to-r hover:from-red-900/20 hover:to-pink-900/20 border border-red-600 hover:border-red-500/50")}`,title:"Salir",children:e.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-0.5 sm:gap-1",children:[e.jsx("span",{className:"text-xs sm:text-sm",children:"🚪"}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})})]}):e.jsxs("button",{onClick:()=>n("auth"),className:"group relative min-w-[36px] sm:min-w-[70px] px-1.5 sm:px-3 py-1.5 sm:py-2 rounded-md sm:rounded-lg font-medium sm:font-semibold transition-all duration-300 text-xs overflow-hidden bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40 hover:scale-105",title:"Iniciar Sesión",children:[e.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-0.5 sm:gap-1",children:[e.jsx("span",{className:"text-xs sm:text-sm",children:"🔐"}),e.jsx("span",{className:"hidden sm:inline",children:"Login"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),c?e.jsxs("button",{onClick:()=>n("admin"),className:`group relative min-w-[36px] sm:min-w-[70px] px-1.5 sm:px-3 py-1.5 sm:py-2 rounded-md sm:rounded-lg font-medium sm:font-semibold transition-all duration-300 text-xs overflow-hidden ${r==="admin"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg shadow-purple-500/25":s(t,"text-gray-700 hover:text-gray-900 hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 border border-gray-200 hover:border-purple-300","text-gray-300 hover:text-white hover:bg-gradient-to-r hover:from-purple-900/20 hover:to-pink-900/20 border border-gray-600 hover:border-purple-500/50")}`,title:"Admin",children:[e.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-0.5 sm:gap-1",children:[e.jsx("span",{className:"text-xs sm:text-sm",children:"🔧"}),e.jsx("span",{className:"hidden sm:inline",children:"Admin"})]}),r==="admin"&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}):e.jsxs("button",{onClick:()=>n("admin"),className:"group relative min-w-[36px] sm:min-w-[70px] px-1.5 sm:px-3 py-1.5 sm:py-2 rounded-md sm:rounded-lg font-medium sm:font-semibold transition-all duration-300 text-xs overflow-hidden bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40 hover:scale-105",title:"Login Admin",children:[e.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-0.5 sm:gap-1",children:[e.jsx("span",{className:"text-xs sm:text-sm",children:"🔧"}),e.jsx("span",{className:"hidden sm:inline",children:"Admin"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]})})]})}function Te({isDark:t,onReserve:r}){return e.jsxs("section",{className:"mx-auto max-w-6xl px-3 sm:px-4 pb-12 sm:pb-16",children:[e.jsxs("div",{className:`mb-6 sm:mb-8 p-4 sm:p-6 rounded-2xl ${s(t,"bg-white/90 shadow-lg","bg-gray-800/90 shadow-lg")}`,children:[e.jsx("h3",{className:`text-2xl sm:text-3xl font-bold mb-2 ${s(t,"text-gray-800","text-white")}`,children:"🎯 Combos Especiales"}),e.jsx("p",{className:`text-sm sm:text-base ${s(t,"text-gray-600","text-gray-300")}`,children:"Ahorra más con nuestras combinaciones exclusivas"})]}),e.jsx("div",{className:"grid gap-4 sm:gap-6 md:grid-cols-2 lg:grid-cols-3",children:we.map(i=>e.jsxs("div",{className:`${i.color} rounded-2xl p-4 sm:p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx("div",{className:"h-12 w-12 sm:h-16 sm:w-16 rounded-xl bg-white/20 flex items-center justify-center text-white font-bold text-xl sm:text-2xl",children:i.logo}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg sm:text-2xl font-bold",children:i.price.toLocaleString("es-CO",{style:"currency",currency:"USD"})}),e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"por mes"})]})]}),e.jsx("h4",{className:"text-lg sm:text-xl font-semibold mb-3",children:i.name}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-90 mb-1",children:"💰 Ahorro significativo vs compras individuales"}),e.jsx("div",{className:"text-xs sm:text-sm opacity-90 mb-1",children:"🎬 Acceso completo a todas las plataformas"}),e.jsx("div",{className:"text-xs sm:text-sm opacity-90",children:"⚡ Activación inmediata"})]}),e.jsx("button",{onClick:()=>r(i),className:`w-full rounded-xl px-4 sm:px-6 py-2 sm:py-3 text-xs sm:text-sm font-bold transition-all duration-200 shadow-lg hover:shadow-xl ${s(t,"bg-white/20 text-white hover:bg-white/30","bg-white/20 text-white hover:bg-white/30")}`,children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{children:"🚀"}),"Comprar Combo",e.jsx("span",{children:"✨"})]})})]},i.id))})]})}function Ie({isDark:t,user:r,purchases:i,onToggleValidate:c,onDeletePurchase:n,onEditPurchase:o,onSetView:m,loading:g=!1}){const[u,x]=p.useState({}),b=i.filter(a=>a.phone===r.phone&&a.validated);return console.log("🔍 UserProfile Debug:",{totalPurchases:i.length,userPhone:r.phone,userActivePurchases:b.length,purchases:i}),e.jsxs("section",{className:"mx-auto max-w-7xl px-2 sm:px-3 pb-6 sm:pb-8",children:[e.jsx("div",{className:`w-full py-2 px-3 sm:px-4 rounded-t-xl sm:rounded-t-2xl ${s(t,"bg-gray-800","bg-gray-900")} mb-0`,children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-green-400 text-sm",children:"🛡️"}),e.jsx("span",{className:"text-xs font-semibold text-green-300",children:"Seguridad Garantizada"})]})})}),e.jsxs("div",{className:"relative mb-6 sm:mb-8",children:[e.jsx("div",{className:`absolute inset-0 rounded-2xl sm:rounded-3xl ${s(t,"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10","bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-pink-600/20")} blur-xl`}),e.jsx("div",{className:`relative p-4 sm:p-6 md:p-8 rounded-2xl sm:rounded-3xl backdrop-blur-sm border ${s(t,"bg-white/80 border-white/20","bg-zinc-900/80 border-zinc-700/50")} shadow-2xl`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1",children:[e.jsx("div",{className:`w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 rounded-full flex items-center justify-center text-lg sm:text-2xl md:text-3xl font-bold ${s(t,"bg-gradient-to-br from-blue-500 to-purple-600 text-white","bg-gradient-to-br from-blue-400 to-purple-500 text-white")} shadow-lg`,children:r.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-2xl md:text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-1",children:"👤 Mi Perfil"}),e.jsx("p",{className:`text-xs sm:text-sm md:text-base ${s(t,"text-zinc-600","text-zinc-300")} font-medium`,children:"Gestiona tu cuenta y compras activas"})]})]}),e.jsxs("button",{onClick:()=>m("home"),className:`group relative overflow-hidden rounded-xl sm:rounded-2xl px-4 sm:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold transition-all duration-300 hover:scale-105 ${s(t,"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:shadow-xl","bg-gradient-to-r from-blue-600 to-purple-700 text-white shadow-lg hover:shadow-xl")}`,children:[e.jsx("span",{className:"relative z-10 flex items-center gap-1 sm:gap-2",children:"← Inicio"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})})]}),e.jsxs("div",{className:"grid gap-6 sm:gap-8",children:[e.jsxs("div",{className:`relative overflow-hidden rounded-2xl sm:rounded-3xl border ${s(t,"bg-white/90 border-white/20","bg-zinc-900/90 border-zinc-700/50")} shadow-2xl backdrop-blur-sm`,children:[e.jsx("div",{className:`absolute inset-0 ${s(t,"bg-gradient-to-br from-blue-50/50 to-purple-50/50","bg-gradient-to-br from-blue-900/20 to-purple-900/20")}`}),e.jsxs("div",{className:"relative p-4 sm:p-6 md:p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[e.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl flex items-center justify-center ${s(t,"bg-gradient-to-br from-blue-500 to-purple-600","bg-gradient-to-br from-blue-400 to-purple-500")} shadow-lg`,children:e.jsx("span",{className:"text-white text-sm sm:text-lg",children:"👤"})}),e.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Información Personal"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[e.jsxs("div",{className:`p-3 sm:p-4 rounded-xl sm:rounded-2xl ${s(t,"bg-white/60 border border-white/30","bg-zinc-800/60 border border-zinc-700/30")} backdrop-blur-sm`,children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[e.jsx("span",{className:"text-lg sm:text-xl",children:"👤"}),e.jsx("label",{className:`text-xs sm:text-sm font-semibold ${s(t,"text-zinc-700","text-zinc-300")}`,children:"Nombre"})]}),e.jsx("p",{className:`font-bold text-sm sm:text-base md:text-lg ${s(t,"text-zinc-900","text-zinc-100")}`,children:r.name})]}),e.jsxs("div",{className:`p-3 sm:p-4 rounded-xl sm:rounded-2xl ${s(t,"bg-white/60 border border-white/30","bg-zinc-800/60 border border-zinc-700/30")} backdrop-blur-sm`,children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[e.jsx("span",{className:"text-lg sm:text-xl",children:"📱"}),e.jsx("label",{className:`text-xs sm:text-sm font-semibold ${s(t,"text-zinc-700","text-zinc-300")}`,children:"WhatsApp"})]}),e.jsx("p",{className:`font-bold text-sm sm:text-base md:text-lg ${s(t,"text-zinc-900","text-zinc-100")}`,children:r.phone})]}),e.jsxs("div",{className:`p-3 sm:p-4 rounded-xl sm:rounded-2xl ${s(t,"bg-white/60 border border-white/30","bg-zinc-800/60 border border-zinc-700/30")} backdrop-blur-sm`,children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[e.jsx("span",{className:"text-lg sm:text-xl",children:"📧"}),e.jsx("label",{className:`text-xs sm:text-sm font-semibold ${s(t,"text-zinc-700","text-zinc-300")}`,children:"Email"})]}),e.jsx("p",{className:`font-bold text-sm sm:text-base md:text-lg ${s(t,"text-zinc-900","text-zinc-100")}`,children:r.email||"No proporcionado"})]}),e.jsxs("div",{className:`p-3 sm:p-4 rounded-xl sm:rounded-2xl ${s(t,"bg-white/60 border border-white/30","bg-zinc-800/60 border border-zinc-700/30")} backdrop-blur-sm`,children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[e.jsx("span",{className:"text-lg sm:text-xl",children:"📅"}),e.jsx("label",{className:`text-xs sm:text-sm font-semibold ${s(t,"text-zinc-700","text-zinc-300")}`,children:"Miembro desde"})]}),e.jsx("p",{className:`font-bold text-sm sm:text-base md:text-lg ${s(t,"text-zinc-900","text-zinc-100")}`,children:new Date().toLocaleDateString("es-ES")})]})]})]})]}),e.jsxs("div",{className:`relative overflow-hidden rounded-2xl sm:rounded-3xl border ${s(t,"bg-white/90 border-white/20","bg-zinc-900/90 border-zinc-700/50")} shadow-2xl backdrop-blur-sm`,children:[e.jsx("div",{className:`absolute inset-0 ${s(t,"bg-gradient-to-br from-green-50/50 to-blue-50/50","bg-gradient-to-br from-green-900/20 to-blue-900/20")}`}),e.jsxs("div",{className:"relative p-4 sm:p-6 md:p-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl flex items-center justify-center ${s(t,"bg-gradient-to-br from-green-500 to-blue-600","bg-gradient-to-br from-green-400 to-blue-500")} shadow-lg`,children:e.jsx("span",{className:"text-white text-sm sm:text-lg",children:"🛍️"})}),e.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Mis Compras Activas"})]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:`group relative overflow-hidden rounded-xl sm:rounded-2xl px-3 sm:px-4 py-2 text-xs sm:text-sm font-semibold transition-all duration-300 hover:scale-105 ${s(t,"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:shadow-xl","bg-gradient-to-r from-blue-600 to-purple-700 text-white shadow-lg hover:shadow-xl")}`,children:[e.jsx("span",{className:"relative z-10 flex items-center gap-1 sm:gap-2",children:"🔄 Actualizar"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),b.length===0?e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 mx-auto mb-4 sm:mb-6 rounded-full flex items-center justify-center ${s(t,"bg-gradient-to-br from-blue-100 to-purple-100","bg-gradient-to-br from-blue-900/30 to-purple-900/30")} shadow-lg`,children:e.jsx("span",{className:"text-2xl sm:text-3xl md:text-4xl",children:"📺"})}),e.jsx("h4",{className:`text-lg sm:text-xl font-bold mb-2 ${s(t,"text-zinc-800","text-zinc-200")}`,children:"No tienes compras activas"}),e.jsx("p",{className:`text-xs sm:text-sm mb-4 sm:mb-6 ${s(t,"text-zinc-600","text-zinc-400")}`,children:"Explora nuestro catálogo y encuentra el servicio perfecto para ti"}),e.jsxs("button",{onClick:()=>m("home"),className:`group relative overflow-hidden rounded-xl sm:rounded-2xl px-4 sm:px-6 py-2 sm:py-3 text-xs sm:text-sm font-semibold transition-all duration-300 hover:scale-105 ${s(t,"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg hover:shadow-xl","bg-gradient-to-r from-blue-600 to-purple-700 text-white shadow-lg hover:shadow-xl")}`,children:[e.jsx("span",{className:"relative z-10 flex items-center gap-1 sm:gap-2",children:"🛍️ Ver Catálogo"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}):g?e.jsxs("div",{className:`text-center py-8 sm:py-12 ${s(t,"text-gray-500","text-gray-400")}`,children:[e.jsx("div",{className:"text-4xl sm:text-6xl mb-4 animate-spin",children:"⏳"}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2",children:"Cargando tus suscripciones..."}),e.jsx("p",{className:"text-xs sm:text-sm",children:"Por favor espera un momento"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:b.filter(a=>Z(a.end)>=0).map(a=>{me(a.end);const f=Z(a.end);return xe(a.start,a.end),e.jsxs("div",{className:`group relative overflow-hidden rounded-xl sm:rounded-2xl border-2 shadow-lg hover:shadow-xl transition-all duration-300 ${s(t,"bg-gradient-to-br from-white to-gray-50 border-gray-200 hover:border-blue-300","bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700 hover:border-blue-500")}`,children:[e.jsx("div",{className:`relative p-3 sm:p-4 md:p-5 ${s(t,"bg-gradient-to-r from-blue-50 to-purple-50","bg-gradient-to-r from-blue-900/30 to-purple-900/30")}`,children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 rounded-xl sm:rounded-2xl flex items-center justify-center text-lg sm:text-xl md:text-2xl shadow-lg ${s(t,"bg-gradient-to-br from-blue-500 to-purple-600 text-white","bg-gradient-to-br from-blue-600 to-purple-700 text-white")}`,children:a.service==="Netflix"?"🎬":a.service==="Disney+"?"🏰":a.service==="Max"?"🎭":a.service==="Prime Video"?"📺":a.service==="Spotify"?"🎧":"📱"}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-bold text-sm sm:text-base md:text-lg ${s(t,"text-gray-900","text-white")}`,children:a.service}),e.jsxs("p",{className:`text-xs sm:text-sm ${s(t,"text-gray-600","text-gray-300")}`,children:[a.months," meses • Activo"]})]})]})}),e.jsxs("div",{className:`p-3 sm:p-4 md:p-5 text-center ${s(t,"bg-white","bg-gray-800")}`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-red-600",children:f}),e.jsx("p",{className:"text-sm sm:text-base md:text-lg font-bold text-red-600",children:"días restantes"})]}),e.jsx("p",{className:`text-xs sm:text-sm font-medium mt-2 ${s(t,"text-gray-600","text-gray-400")}`,children:f<=7?"Vence muy pronto":f<=30?"Vence en menos de un mes":"Tiempo suficiente"})]}),e.jsx("div",{className:`px-3 sm:px-4 md:px-5 py-3 sm:py-4 ${s(t,"bg-gray-50","bg-gray-700")}`,children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-lg sm:rounded-xl flex items-center justify-center mx-auto mb-2 ${s(t,"bg-blue-100","bg-blue-900/30")}`,children:e.jsx("span",{className:"text-blue-600 text-sm sm:text-base md:text-lg",children:"📅"})}),e.jsx("p",{className:`text-xs font-medium ${s(t,"text-gray-500","text-gray-400")}`,children:"Inicio"}),e.jsx("p",{className:`text-xs sm:text-sm font-bold ${s(t,"text-gray-900","text-white")}`,children:new Date(a.start).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-lg sm:rounded-xl flex items-center justify-center mx-auto mb-2 ${s(t,"bg-orange-100","bg-orange-900/30")}`,children:e.jsx("span",{className:"text-orange-600 text-sm sm:text-base md:text-lg",children:"⏰"})}),e.jsx("p",{className:`text-xs font-medium ${s(t,"text-gray-500","text-gray-400")}`,children:"Vence"}),e.jsx("p",{className:`text-xs sm:text-sm font-bold ${s(t,"text-gray-900","text-white")}`,children:new Date(a.end).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"2-digit"})})]})]})}),a.service_email&&a.service_password&&(()=>{const l=a.service||"",j=l.includes("+")||l.includes("Netflix")&&l.includes("Disney");let v=[l];j&&(l.includes("Netflix")&&l.includes("Disney")?v=["Netflix",l.includes("Premium")?"Disney+ Premium":"Disney+ Estándar"]:l.includes("Max")&&l.includes("Prime")?v=["Max","Prime Video"]:l.includes("Netflix")&&l.includes("Max")?v=["Netflix","Max"]:l.includes("Netflix")&&l.includes("Prime")?v=["Netflix","Prime Video"]:l.includes("Prime")&&l.includes("Disney")?v=["Prime Video",l.includes("Premium")?"Disney+ Premium":"Disney+ Estándar"]:l.includes("Disney")&&l.includes("Max")?v=[l.includes("Premium")?"Disney+ Premium":"Disney+ Estándar","Max"]:l.includes("Spotify")&&l.includes("Netflix")?v=["Spotify","Netflix"]:l.includes("Spotify")&&l.includes("Disney")?v=["Spotify",l.includes("Premium")?"Disney+ Premium":"Disney+ Estándar"]:l.includes("Spotify")&&l.includes("Prime")?v=["Spotify","Prime Video"]:l.includes("Paramount")&&l.includes("Max")&&l.includes("Prime")?v=["Paramount+","Max","Prime Video"]:l.includes("Netflix")&&l.includes("Max")&&l.includes("Disney")?v=["Netflix","Max",l.includes("Premium")?"Disney+ Premium":"Disney+ Estándar","Prime Video","Paramount+"]:v=l.split(/\s*\+\s*/).map(h=>h.trim()).filter(h=>h.length>0));let d={};return j&&a.service_password&&a.service_password.split(`

`).forEach(w=>{const y=w.split(`
`);if(y.length>=3){const C=y[0].replace(":","").trim(),S=y[1].replace("Email: ","").trim(),A=y[2].replace("Contraseña: ","").trim();C&&S&&A&&(d[C]={email:S,password:A})}}),e.jsxs("div",{className:`p-3 sm:p-4 md:p-5 ${s(t,"bg-gradient-to-r from-blue-50 to-indigo-50","bg-gradient-to-r from-blue-900/20 to-indigo-900/20")}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-md sm:rounded-lg flex items-center justify-center ${s(t,"bg-blue-100","bg-blue-900/30")}`,children:e.jsx("span",{className:"text-blue-600 text-xs sm:text-sm",children:"🔑"})}),e.jsx("h5",{className:`font-bold text-sm sm:text-base ${s(t,"text-blue-900","text-blue-200")}`,children:j?"Credenciales del Combo":"Credenciales"})]}),j?e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${s(t,"bg-orange-50 border border-orange-200","bg-orange-900/20 border border-orange-600")}`,children:e.jsx("p",{className:`text-xs font-semibold ${s(t,"text-orange-800","text-orange-300")}`,children:"🎁 Combo: Credenciales separadas por servicio"})}),v.map((h,w)=>{const y=d[h];return y?e.jsxs("div",{className:`p-3 rounded-lg border ${s(t,"bg-gray-50 border-gray-200","bg-gray-800 border-gray-600")}`,children:[e.jsxs("h6",{className:`text-sm font-bold mb-2 ${s(t,"text-gray-800","text-white")}`,children:[h," ",w===0?"🎬":w===1?"🎭":w===2?"🎪":"🎯"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-xs font-semibold mb-1 ${s(t,"text-blue-700","text-blue-300")}`,children:"📧 Email"}),e.jsx("div",{className:`p-2 rounded-lg border ${s(t,"bg-white border-blue-200","bg-gray-700 border-blue-600")}`,children:e.jsx("p",{className:`text-xs font-mono ${s(t,"text-gray-900","text-white")}`,children:y.email})})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs font-semibold mb-1 ${s(t,"text-blue-700","text-blue-300")}`,children:"🔑 Contraseña"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-2 rounded-lg border flex-1 ${s(t,"bg-white border-blue-200","bg-gray-700 border-blue-600")}`,children:e.jsx("p",{className:`text-xs font-mono ${s(t,"text-gray-900","text-white")}`,children:u[`${a.id}_${h}`]?y.password:"•".repeat(12)})}),e.jsx("button",{onClick:()=>x(C=>({...C,[`${a.id}_${h}`]:!C[`${a.id}_${h}`]})),className:`px-2 py-2 rounded-lg text-xs font-bold border transition-all ${s(t,"border-blue-500 text-blue-600 hover:bg-blue-50","border-blue-500 text-blue-400 hover:bg-blue-900/20")}`,children:(u[`${a.id}_${h}`],"👁️")})]})]})]})]},h):null})]}):e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-xs sm:text-sm font-semibold mb-2 ${s(t,"text-blue-700","text-blue-300")}`,children:"Email"}),e.jsx("div",{className:`p-2 sm:p-3 rounded-lg sm:rounded-xl border-2 ${s(t,"bg-white border-blue-200","bg-gray-800 border-blue-600")}`,children:e.jsx("p",{className:`text-xs sm:text-sm font-mono ${s(t,"text-gray-900","text-white")}`,children:a.service_email})})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs sm:text-sm font-semibold mb-2 ${s(t,"text-blue-700","text-blue-300")}`,children:"Contraseña"}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:`p-2 sm:p-3 rounded-lg sm:rounded-xl border-2 flex-1 ${s(t,"bg-white border-blue-200","bg-gray-800 border-blue-600")}`,children:e.jsx("p",{className:`text-xs sm:text-sm font-mono ${s(t,"text-gray-900","text-white")}`,children:u[a.id]?a.service_password:"•".repeat(16)})}),e.jsx("button",{onClick:()=>x(h=>({...h,[a.id]:!h[a.id]})),className:`px-2 sm:px-3 md:px-4 py-2 sm:py-3 rounded-lg sm:rounded-xl text-xs sm:text-sm font-bold border-2 transition-all hover:scale-105 ${s(t,"border-blue-500 text-blue-600 hover:bg-blue-50","border-blue-500 text-blue-400 hover:bg-blue-900/20")}`,children:u[a.id]?"👁️ Ocultar":"👁️ Mostrar"})]})]})]})]})})(),a.admin_notes&&a.admin_notes.trim()&&e.jsxs("div",{className:`p-3 sm:p-4 md:p-5 ${s(t,"bg-gradient-to-r from-yellow-50 to-orange-50","bg-gradient-to-r from-yellow-900/20 to-orange-900/20")}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-md sm:rounded-lg flex items-center justify-center ${s(t,"bg-yellow-100","bg-yellow-900/30")}`,children:e.jsx("span",{className:"text-yellow-600 text-xs sm:text-sm",children:"ℹ️"})}),e.jsx("h5",{className:`font-bold text-sm sm:text-base ${s(t,"text-yellow-800","text-yellow-200")}`,children:"Información Importante"})]}),e.jsx("div",{className:`p-3 sm:p-4 rounded-lg sm:rounded-xl border-2 ${s(t,"bg-white border-yellow-200","bg-gray-800 border-yellow-600")}`,children:e.jsx("div",{className:`text-xs sm:text-sm leading-relaxed whitespace-pre-line ${s(t,"text-gray-800","text-gray-200")}`,dangerouslySetInnerHTML:{__html:a.admin_notes.replace(/\n/g,"<br>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>")}})})]}),e.jsx("div",{className:`px-3 py-2 sm:px-4 sm:py-3 ${s(t,"bg-gradient-to-r from-gray-50 to-gray-100","bg-gradient-to-r from-gray-700 to-gray-800")}`,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`font-medium text-xs sm:text-sm ${s(t,"text-gray-700","text-gray-300")}`,children:"Estado:"}),e.jsx("span",{className:`font-bold text-xs sm:text-sm ${f<=5?"text-red-600":"text-green-600"}`,children:f<=5?"Por vencer":"Activa"})]})})]},a.id)})})]})]})]})]})}function Le({isDark:t,onBack:r,onTokenSent:i,onRegister:c}){const[n,o]=p.useState(""),[m,g]=p.useState(""),[u,x]=p.useState(!1),b=async a=>{var f;a.preventDefault(),x(!0),g("");try{console.log("🔍 Generando token para:",n);const l=await D(n);if(console.log("🔍 Resultado:",l),l.data){const j=`✅ Token generado: ${l.data.token}. Usa este código para continuar.`;console.log("🔍 Mensaje:",j),g(j),i(n,l.data.token)}else console.log("🔍 Error:",l.error),g(((f=l.error)==null?void 0:f.message)||"Error generando token")}catch(l){console.log("🔍 Error en catch:",l),g("Error en el proceso")}finally{x(!1)}};return e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"🔐 Recuperar Contraseña"}),e.jsx("p",{className:"text-sm opacity-80",children:"Para recuperar tu contraseña, necesitas un código de verificación"})]}),e.jsx("div",{className:`p-4 rounded-xl mb-4 ${s(t,"bg-blue-50 border border-blue-200","bg-blue-900/20 border border-blue-400/30")}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:"💬"}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold mb-2 ${s(t,"text-zinc-800","text-zinc-200")}`,children:"📋 Instrucciones:"}),e.jsxs("ol",{className:`text-sm space-y-1 list-decimal list-inside ${s(t,"text-zinc-700","text-zinc-300")}`,children:[e.jsxs("li",{children:["Haz clic en el botón ",e.jsx("span",{className:"font-semibold",children:'"Chat"'})," (esquina inferior derecha)"]}),e.jsxs("li",{children:["Escribe: ",e.jsx("span",{className:`font-mono px-1 rounded ${s(t,"bg-gray-200 text-zinc-800","bg-gray-700 text-zinc-200")}`,children:'"olvidé mi contraseña"'})]}),e.jsxs("li",{children:["Envía tu email: ",e.jsx("span",{className:"font-semibold",children:"ejemplo@gmail.com"})]}),e.jsx("li",{children:"Copia el código que te dé el chatbot"}),e.jsx("li",{children:"Regresa aquí y pega el código"})]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:s(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Correo electrónico"}),e.jsx("input",{required:!0,type:"email",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:n,onChange:a=>o(a.target.value),placeholder:"tu@correo.com",disabled:u})]}),m&&e.jsx("div",{className:`text-sm ${m.includes("✅")?"text-green-600":"text-red-600"}`,children:m}),e.jsx("button",{type:"submit",disabled:u,className:`w-full rounded-xl px-4 py-3 font-semibold transition-all ${u?"opacity-50 cursor-not-allowed":""} ${s(t,"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700","bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700")}`,children:u?"⏳ Generando código...":"🔑 Generar Código"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:r,className:`text-sm ${s(t,"text-zinc-600 hover:text-zinc-800","text-zinc-400 hover:text-zinc-200")}`,disabled:u,children:"← Volver a login"})}),m&&m.includes("No existe un usuario")&&e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:c,className:`text-sm ${s(t,"text-blue-600 hover:text-blue-700","text-blue-400 hover:text-blue-300")}`,children:"✨ Crear cuenta nueva"})})]})}function qe({isDark:t,email:r,onBack:i,onCodeVerified:c}){const[n,o]=p.useState(""),[m,g]=p.useState(""),[u,x]=p.useState(!1),b=async a=>{a.preventDefault(),x(!0),g("");try{(await ue(n)).data?(g("✅ Código verificado correctamente"),c(n)):g("❌ Código inválido o expirado")}catch{g("Error verificando código")}finally{x(!1)}};return e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"🔐 Verificar Código"}),e.jsxs("p",{className:"text-sm opacity-80",children:["Paso 2: Ingresa el código que enviamos a ",r]})]}),e.jsx("div",{className:`p-4 rounded-xl mb-4 ${s(t,"bg-green-50 border border-green-200","bg-green-900/20 border border-green-400/30")}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:"🔑"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"💡 ¿No tienes el código?"}),e.jsx("p",{className:"text-sm mb-2",children:"El código se obtiene del chatbot en el paso anterior."}),e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[e.jsx("strong",{children:"Tip:"})," Si no lo tienes, vuelve al paso anterior y sigue las instrucciones."]})]})]})}),e.jsx("div",{className:"text-center mb-4",children:e.jsx("button",{type:"button",onClick:()=>{const a=document.querySelector("[data-chat-button]");a&&a.click()},className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${s(t,"bg-blue-100 text-blue-700 hover:bg-blue-200","bg-blue-900/30 text-blue-300 hover:bg-blue-900/50")}`,children:"💬 Abrir Chatbot"})}),e.jsxs("div",{children:[e.jsx("label",{className:s(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Código de verificación"}),e.jsx("input",{required:!0,type:"text",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:n,onChange:a=>o(a.target.value),placeholder:"Ingresa el código de 6 dígitos",disabled:u,maxLength:6})]}),m&&e.jsx("div",{className:`text-sm ${m.includes("✅")?"text-green-600":"text-red-600"}`,children:m}),e.jsx("button",{type:"submit",disabled:u,className:`w-full rounded-xl px-4 py-3 font-semibold transition-all ${u?"opacity-50 cursor-not-allowed":""} ${s(t,"bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700","bg-gradient-to-r from-purple-500 to-blue-600 text-white hover:from-purple-600 hover:to-blue-700")}`,children:u?"⏳ Verificando código...":"✅ Verificar Código"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:i,className:`text-sm ${s(t,"text-zinc-600 hover:text-zinc-800","text-zinc-400 hover:text-zinc-200")}`,disabled:u,children:"← Volver a ingresar email"})})]})}function Be({isDark:t,email:r,token:i,onSuccess:c}){const[n,o]=p.useState(""),[m,g]=p.useState(""),[u,x]=p.useState(!1),[b,a]=p.useState(""),[f,l]=p.useState(!1),j=async v=>{if(v.preventDefault(),l(!0),a(""),!n||!m){a("Todos los campos son obligatorios"),l(!1);return}if(n!==m){a("Las contraseñas no coinciden"),l(!1);return}if(n.length<6){a("La contraseña debe tener al menos 6 caracteres"),l(!1);return}try{(await ge(i,n)).data?(a("✅ Contraseña restablecida exitosamente"),setTimeout(()=>{c()},2e3)):a("❌ Error al restablecer la contraseña")}catch{a("Error al restablecer la contraseña")}finally{l(!1)}};return e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"🔐 Nueva Contraseña"}),e.jsx("p",{className:"text-sm opacity-80",children:"Paso 3: Crea tu nueva contraseña"})]}),e.jsx("div",{className:`p-4 rounded-xl mb-4 ${s(t,"bg-blue-50 border border-blue-200","bg-blue-900/20 border border-blue-400/30")}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:"🔒"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"💡 Requisitos de seguridad:"}),e.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Mínimo 6 caracteres"}),e.jsx("li",{children:"Usa una combinación de letras y números"}),e.jsx("li",{children:"No uses contraseñas obvias"})]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:s(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Nueva contraseña"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{required:!0,type:u?"text":"password",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:n,onChange:v=>o(v.target.value),placeholder:"••••••••",disabled:f}),e.jsx("button",{type:"button",onClick:()=>x(v=>!v),className:s(t,"rounded-xl bg-zinc-100 px-4 py-3","rounded-xl bg-zinc-700 px-4 py-3"),disabled:f,children:u?"👁️":"👁️‍🗨️"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:s(t,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Confirmar contraseña"}),e.jsx("input",{required:!0,type:"password",className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(t,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:m,onChange:v=>g(v.target.value),placeholder:"••••••••",disabled:f})]}),b&&e.jsx("div",{className:`text-sm ${b.includes("✅")?"text-green-600":"text-red-600"}`,children:b}),e.jsx("button",{type:"submit",disabled:f,className:`w-full rounded-xl px-4 py-3 font-semibold transition-all ${f?"opacity-50 cursor-not-allowed":""} ${s(t,"bg-gradient-to-r from-green-500 to-blue-600 text-white hover:from-green-600 hover:to-blue-700","bg-gradient-to-r from-blue-500 to-green-600 text-white hover:from-blue-600 hover:to-green-700")}`,children:f?"⏳ Restableciendo...":"✅ Restablecer Contraseña"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:c,className:`text-sm ${s(t,"text-zinc-600 hover:text-zinc-800","text-zinc-400 hover:text-zinc-200")}`,disabled:f,children:"← Volver al login"})})]})}function Ve({isDark:t,onLogin:r,adminEmails:i}){const[c,n]=p.useState(""),[o,m]=p.useState(""),[g,u]=p.useState(!1),[x,b]=p.useState(""),[a,f]=p.useState(!1),l=async j=>{j.preventDefault(),f(!0),b("");try{await new Promise(h=>setTimeout(h,500));const v=c.trim().toLowerCase(),d=i.map(h=>h.toLowerCase()).includes(v)&&o.trim()==="Jeremias_012.@";b(d?"":"Credenciales incorrectas"),r(d)}catch{b("Error en el login")}finally{f(!1)}};return e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"📧 Correo electrónico"}),e.jsx("div",{className:"relative",children:e.jsx("input",{required:!0,type:"email",className:"w-full rounded-xl border-2 border-gray-200 bg-white text-gray-900 px-4 py-3 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",value:c,onChange:j=>n(j.target.value),placeholder:"admin@correo.com",disabled:a})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"🔑 Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{required:!0,type:g?"text":"password",className:"w-full rounded-xl border-2 border-gray-200 bg-white text-gray-900 px-4 py-3 pr-12 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",value:o,onChange:j=>m(j.target.value),placeholder:"••••••••",disabled:a}),e.jsx("button",{type:"button",onClick:()=>u(j=>!j),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors duration-200",disabled:a,children:g?"🙈":"👁️"})]})]}),x&&e.jsxs("div",{className:"p-3 rounded-xl bg-red-50 border border-red-200 text-red-700 text-sm flex items-center gap-2",children:[e.jsx("span",{children:"⚠️"}),x]}),e.jsx("button",{type:"submit",disabled:a,className:`w-full rounded-xl px-6 py-4 font-bold text-lg transition-all duration-300 hover:scale-105 shadow-xl ${a?"opacity-50 cursor-not-allowed":""} ${s(t,"bg-gradient-to-r from-purple-600 via-blue-600 to-pink-600 text-white hover:from-purple-700 hover:via-blue-700 hover:to-pink-700","bg-gradient-to-r from-purple-700 via-blue-700 to-pink-700 text-white hover:from-purple-800 hover:via-blue-800 hover:to-pink-800")}`,children:e.jsxs("span",{className:"flex items-center justify-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"🚀"}),e.jsx("span",{children:a?"⏳ Verificando...":"Entrar al Panel"}),e.jsx("span",{className:"text-xl",children:"✨"})]})}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Solo administradores autorizados pueden acceder"})})]})}function _e({view:t,isDark:r,user:i,adminLogged:c,purchases:n,pendingPurchases:o,userActivePurchases:m,expiringServices:g,renewalStats:u,loading:x,error:b,adminUsers:a,setAdminUsers:f,authStep:l,resetEmail:j,resetToken:v,setView:d,setAuthStep:h,handleReserve:w,handleToggleValidate:y,handleDeletePurchase:C,handleEditPurchase:S,handleReminderPurchase:A,handleLogin:M,handleAdminLogin:T,handleAdminLogout:I,handleForgotPassword:L,handleCodeVerified:R,handlePasswordReset:q,setAdminRegisterPurchaseOpen:B,handleExportCSV:z,refreshAllStats:V,adminEmails:_}){return(()=>{switch(t){case"home":return e.jsx(Y,{isDark:r,onReserve:w,user:i,setView:d});case"combos":return e.jsx(Te,{isDark:r,onReserve:w});case"profile":return i?e.jsx(Ie,{isDark:r,user:i,purchases:n||[],onToggleValidate:y,onDeletePurchase:C,onEditPurchase:S,onSetView:d,loading:x}):null;case"admin":return c?e.jsx($e,{isDark:r,purchases:n,pendingPurchases:o||[],expiringServices:g||[],renewalStats:u,loading:x,error:b,adminUsers:a,setAdminUsers:f,onToggleValidate:y,onDeletePurchase:C,onEditPurchase:S,onReminderPurchase:A,onRegisterPurchase:()=>B(!0),onExportCSV:z,refreshAllStats:V,onLogout:I,onSetView:d}):e.jsxs("section",{className:"min-h-[80vh] relative",children:[e.jsx("div",{className:"absolute inset-0 -z-10",style:{backgroundImage:"url(/img/bg-cinema.jpg)",backgroundSize:"cover",backgroundPosition:"center"}}),e.jsx("div",{className:"absolute inset-0 -z-0 bg-black/60"}),e.jsx("div",{className:"relative z-10 min-h-[80vh] grid place-items-center",children:e.jsxs("div",{className:s(r,"w-full max-w-md rounded-3xl bg-white/95 p-8 shadow-2xl border border-gray-200","w-full max-w-md rounded-3xl bg-white/95 p-8 shadow-2xl border border-gray-200"),children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-2xl text-white",children:"🔐"})}),e.jsx("h3",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Acceso Administrador"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ingresa tus credenciales para acceder al panel"})]}),e.jsx(Ve,{isDark:r,onLogin:T,adminEmails:_}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("button",{onClick:()=>d("home"),className:"text-gray-600 hover:text-gray-800 text-sm transition-colors duration-200 flex items-center justify-center gap-2",children:[e.jsx("span",{children:"←"})," Volver al inicio"]})})]})})]});case"auth":return e.jsxs("section",{className:"min-h-screen relative flex items-center justify-center",children:[e.jsxs("div",{className:"absolute inset-0 -z-10",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900"}),e.jsx("div",{className:"absolute inset-0 bg-[url('/img/bg-cinema.jpg')] bg-cover bg-center opacity-20"}),e.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl animate-pulse animation-delay-1000"}),e.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-pink-500/20 rounded-full blur-2xl animate-pulse animation-delay-2000"}),e.jsx("div",{className:"relative z-10 mx-auto max-w-md px-4 py-8",children:e.jsxs("div",{className:`rounded-3xl p-8 shadow-2xl backdrop-blur-md border ${s(r,"bg-white/95 border-gray-200","bg-gray-900/95 border-gray-700")}`,children:[e.jsxs("div",{className:"text-center mb-8",children:[l==="login"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center text-3xl shadow-xl",children:"🔐"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-green-400 to-blue-500 rounded-full animate-pulse"})]}),e.jsx("h3",{className:"text-4xl font-bold mb-3 bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Iniciar Sesión"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Accede a tu cuenta de StreamZone"})]}),l==="register"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-r from-green-600 to-blue-600 flex items-center justify-center text-3xl shadow-xl",children:"🚀"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full animate-pulse"})]}),e.jsx("h3",{className:"text-4xl font-bold mb-3 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Crear Cuenta"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Únete a StreamZone y disfruta del mejor entretenimiento"})]}),l==="email"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-r from-blue-600 to-cyan-600 flex items-center justify-center text-3xl shadow-xl",children:"📧"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-orange-400 to-red-500 rounded-full animate-pulse"})]}),e.jsx("h3",{className:"text-4xl font-bold mb-3 bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Recuperar Contraseña"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Paso 1: Ingresa tu email para recibir el código"})]})]}),l==="login"&&e.jsx(Ce,{isDark:r,onLogin:M,onForgotPassword:()=>h("email"),setView:d}),l==="register"&&e.jsx(X,{isDark:r,onSubmit:M,setView:d,setAuthStep:h}),l==="email"&&e.jsx(Le,{isDark:r,onBack:()=>h("login"),onTokenSent:L,onRegister:()=>h("register")}),l==="code"&&e.jsx(qe,{isDark:r,email:j,onBack:()=>h("email"),onCodeVerified:R}),l==="newpassword"&&e.jsx(Be,{isDark:r,email:j,token:v,onSuccess:q})]})})]});case"register":return e.jsxs("section",{className:"min-h-screen relative flex items-center justify-center",children:[e.jsxs("div",{className:"absolute inset-0 -z-10",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900 via-blue-900 to-purple-900"}),e.jsx("div",{className:"absolute inset-0 bg-[url('/img/bg-cinema.jpg')] bg-cover bg-center opacity-20"}),e.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-green-500/20 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl animate-pulse animation-delay-1000"}),e.jsx("div",{className:"absolute top-1/2 left-1/4 w-24 h-24 bg-purple-500/20 rounded-full blur-2xl animate-pulse animation-delay-2000"}),e.jsx("div",{className:"relative z-10 mx-auto max-w-md px-4 py-8",children:e.jsxs("div",{className:`rounded-3xl p-8 shadow-2xl backdrop-blur-md border ${s(r,"bg-white/95 border-gray-200","bg-gray-900/95 border-gray-700")}`,children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-r from-green-600 to-blue-600 flex items-center justify-center text-3xl shadow-xl",children:"🚀"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full animate-pulse"})]}),e.jsx("h3",{className:"text-4xl font-bold mb-3 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Crear Cuenta"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Únete a StreamZone y disfruta del mejor entretenimiento"})]}),e.jsx(X,{isDark:r,onSubmit:M}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>d("auth"),className:`inline-flex items-center gap-2 px-4 py-2 rounded-xl font-semibold transition-all duration-200 hover:scale-105 ${s(r,"text-gray-600 hover:text-gray-800","text-gray-400 hover:text-gray-200")}`,children:"← Volver a login"})})]})})]});default:return e.jsx(Y,{isDark:r,onReserve:w,user:i,setView:d})}})()}function Fe({answerFn:t,isDark:r}){const[i,c]=p.useState(!1),[n,o]=p.useState([{role:"bot",text:`¡Hola! 👋 ¡Bienvenido a StreamZone! 🎬✨ Soy tu asistente especializado en streaming. ¿En qué puedo ayudarte hoy?

💡 Si necesitas ayuda directa, puedes preguntarme por 'agentes' o 'contacto' para hablar con nuestros especialistas.`}]),[m,g]=p.useState(""),[u,x]=p.useState(!1),[b,a]=p.useState([]),[f,l]=p.useState(!1),j=async()=>{const d=m.trim();if(!d)return;o(w=>[...w,{role:"user",text:d}]),g(""),x(!0),a(w=>[...w.slice(-3),d.toLowerCase()]);const h=d.toLowerCase().includes("agente")||d.toLowerCase().includes("contacto")||d.toLowerCase().includes("whatsapp")||d.toLowerCase().includes("hablar")||d.toLowerCase().includes("humano")||d.toLowerCase().includes("persona");try{const w=await t(d,b);o(y=>[...y,{role:"bot",text:w}]),h&&l(!0)}catch(w){console.error("Error en chatbot:",w),o(y=>[...y,{role:"bot",text:"❌ Lo siento, hubo un error. Por favor intenta de nuevo."}])}finally{x(!1)}},v=d=>d.split(`
`).map((h,w)=>e.jsxs("span",{children:[h,w<d.split(`
`).length-1&&e.jsx("br",{})]},w));return e.jsxs(e.Fragment,{children:[e.jsx("button",{"data-chat-button":!0,onClick:()=>c(!i),className:`fixed bottom-5 right-5 z-40 rounded-full px-6 py-4 shadow-2xl transition-all duration-300 hover:scale-110 animate-pulse ${s(r,"bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 text-white hover:from-purple-700 hover:via-pink-700 hover:to-blue-700","bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 text-white hover:from-blue-600 hover:via-purple-600 hover:to-pink-600")}`,children:e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl animate-bounce",children:"💬"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold text-sm",children:"¿Necesitas ayuda?"}),e.jsx("div",{className:"text-xs opacity-90",children:"Chat en vivo"})]})]})}),i&&e.jsxs("div",{className:`fixed bottom-20 right-5 z-40 w-96 rounded-2xl border shadow-2xl transition-all duration-300 ${s(r,"border-gray-300 bg-white shadow-gray-200","border-zinc-700 bg-zinc-900")}`,children:[e.jsxs("div",{className:`rounded-t-2xl border-b p-4 font-semibold flex items-center gap-2 ${s(r,"bg-gradient-to-r from-blue-100 to-purple-100 border-gray-300 text-gray-800","bg-gradient-to-r from-purple-900/20 to-blue-900/20 border-zinc-700")}`,children:[e.jsx("span",{className:"text-xl",children:"🤖"}),e.jsx("span",{className:s(r,"text-gray-800","text-white"),children:"Asistente StreamZone"}),e.jsx("div",{className:`ml-auto w-3 h-3 rounded-full ${s(r,"bg-green-500","bg-green-500")}`})]}),e.jsxs("div",{className:"p-4 h-96 overflow-y-auto flex flex-col gap-3",children:[n.map((d,h)=>e.jsx("div",{className:d.role==="bot"?"self-start":"self-end",children:e.jsx("div",{className:`max-w-[90%] rounded-2xl px-4 py-3 text-sm leading-relaxed ${d.role==="bot"?s(r,"bg-gradient-to-br from-blue-100 to-purple-100 text-gray-800 border border-blue-200 shadow-sm","bg-gradient-to-br from-blue-900/30 to-purple-900/30 text-zinc-100 border border-blue-700/30"):s(r,"bg-gradient-to-br from-purple-600 to-blue-600 text-white shadow-md","bg-gradient-to-br from-purple-500 to-blue-600 text-white")}`,children:v(d.text)})},h)),u&&e.jsx("div",{className:"self-start",children:e.jsx("div",{className:`max-w-[90%] rounded-2xl px-4 py-3 text-sm ${s(r,"bg-gray-100 text-gray-700 border border-gray-200","bg-zinc-800 text-zinc-300")}`,children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Escribiendo"}),e.jsx("span",{className:"animate-pulse",children:"..."})]})})}),f&&e.jsxs("div",{className:`mt-4 p-4 rounded-xl border border-dashed ${s(r,"border-blue-300 bg-gradient-to-r from-blue-50 to-purple-50","border-blue-600 bg-gradient-to-r from-blue-900/20 to-purple-900/20")}`,children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("h4",{className:`text-sm font-bold ${s(r,"text-gray-800","text-white")} mb-1`,children:"📞 Nuestros Agentes Especializados"}),e.jsx("p",{className:`text-xs ${s(r,"text-gray-600","text-gray-300")}`,children:"Selecciona un agente para contactar directamente"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("a",{href:"https://wa.me/593984280334",target:"_blank",rel:"noopener noreferrer",className:`group flex items-center gap-3 p-3 rounded-lg transition-all hover:scale-105 ${s(r,"bg-white border border-green-200 hover:border-green-300 hover:shadow-md","bg-green-900/20 border border-green-600 hover:bg-green-800/30")}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center shadow-md group-hover:shadow-lg transition-all",children:e.jsx("span",{className:"text-white text-lg",children:"👨‍💼"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:`text-sm font-semibold ${s(r,"text-gray-800","text-white")}`,children:"Agente Principal"}),e.jsx("div",{className:`text-xs ${s(r,"text-gray-600","text-gray-300")}`,children:"593984280334"})]}),e.jsx("div",{className:"text-green-500 group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"text-lg",children:"💬"})})]}),e.jsxs("a",{href:"https://wa.me/593984280334",target:"_blank",rel:"noopener noreferrer",className:`group flex items-center gap-3 p-3 rounded-lg transition-all hover:scale-105 ${s(r,"bg-white border border-blue-200 hover:border-blue-300 hover:shadow-md","bg-blue-900/20 border border-blue-600 hover:bg-blue-800/30")}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-md group-hover:shadow-lg transition-all",children:e.jsx("span",{className:"text-white text-lg",children:"👩‍💼"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:`text-sm font-semibold ${s(r,"text-gray-800","text-white")}`,children:"Agente Soporte"}),e.jsx("div",{className:`text-xs ${s(r,"text-gray-600","text-gray-300")}`,children:"593984280334"})]}),e.jsx("div",{className:"text-blue-500 group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"text-lg",children:"💬"})})]})]}),e.jsx("div",{className:`mt-3 text-center text-xs ${s(r,"text-gray-500","text-gray-400")}`,children:"⏰ Disponibles 24/7 • Respuesta inmediata"})]}),n.length<=1&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["🎯 Recomiéndame algo","💰 Ver precios","📺 ¿Qué hay en Netflix?","🛒 ¿Cómo compro?","👨‍💼 Hablar con agente"].map((d,h)=>e.jsx("button",{onClick:()=>g(d),className:`px-3 py-2 rounded-full text-xs font-medium transition-all hover:scale-105 ${s(r,"bg-zinc-100 text-zinc-700 hover:bg-zinc-200","bg-zinc-700 text-zinc-300 hover:bg-zinc-600")}`,children:d},h))})]}),e.jsxs("div",{className:"p-4 flex gap-2 border-t",children:[e.jsx("input",{value:m,onChange:d=>g(d.target.value),onKeyDown:d=>d.key==="Enter"&&j(),placeholder:"Escribe tu pregunta...",className:`flex-1 rounded-xl border px-4 py-3 text-sm focus:outline-none focus:ring-2 transition-all ${s(r,"border-zinc-300 bg-white focus:ring-purple-500 focus:border-purple-500","border-zinc-600 bg-zinc-800 text-zinc-100 focus:ring-blue-500 focus:border-blue-500")}`}),e.jsx("button",{onClick:j,disabled:!m.trim()||u,className:`rounded-xl px-4 py-3 text-sm font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed ${s(r,"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700","bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700")}`,children:u?"⏳":"🚀"})]})]})]})}function Ue({isDark:t,onToggle:r}){return e.jsx("button",{title:t?"Cambiar a modo claro":"Cambiar a modo oscuro",onClick:r,className:`fixed bottom-5 left-5 z-40 grid h-11 w-11 place-content-center rounded-full shadow-lg ring-1 ${t?"bg-white text-zinc-900 ring-zinc-200":"bg-zinc-900 text-white ring-zinc-800"}`,children:t?"☀":"☾"})}function He({service:t,onClose:r,onAddPurchase:i,isDark:c,user:n}){const[o,m]=p.useState(1),[g,u]=p.useState("pichincha"),[x,b]=p.useState(""),[a,f]=p.useState(!1),[l,j]=p.useState(""),v=()=>{if(!n){j("Debes estar registrado para reservar");return}f(!0),j("");try{const d={customer:n.name,phone:n.phone,email:n.email,service:t.name,serviceId:t.id,months:o,price:t.price*o,start:new Date().toISOString().split("T")[0],end:new Date(Date.now()+o*30*24*60*60*1e3).toISOString().split("T")[0],validated:!1,payment_method:g,notes:x};i(d),j("✅ ¡Reserva registrada! Selecciona un agente para enviar tu comprobante"),setTimeout(()=>{r()},3e3)}catch{j("❌ Error al realizar la reserva")}finally{f(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-2",children:["🛒 Reservar ",t.name]}),e.jsx("p",{className:"text-sm opacity-80",children:"Completa los datos de tu reserva"})]}),e.jsx("div",{className:`p-4 rounded-xl ${s(c,"bg-blue-50 border border-blue-200","bg-blue-900/20 border border-blue-400/30")}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-16 w-16 ${t.color} rounded-xl text-white flex items-center justify-center text-2xl font-bold`,children:t.logo}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:t.name}),e.jsxs("p",{className:"text-sm opacity-80",children:[E(t.price),"/",t.billing==="annual"?"año":"mes"]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:s(c,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Duración (meses)"}),e.jsxs("select",{className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(c,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:o,onChange:d=>m(Number(d.target.value)),children:[e.jsx("option",{value:1,children:"1 mes"}),e.jsx("option",{value:3,children:"3 meses"}),e.jsx("option",{value:6,children:"6 meses"}),e.jsx("option",{value:12,children:"12 meses"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:s(c,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Método de pago"}),e.jsxs("select",{className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(c,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:g,onChange:d=>u(d.target.value),children:[e.jsx("option",{value:"pichincha",children:"Banco Pichincha"}),e.jsx("option",{value:"guayaquil",children:"Banco de Guayaquil"}),e.jsx("option",{value:"pacifico",children:"Banco del Pacífico"}),e.jsx("option",{value:"paypal",children:"PayPal"}),e.jsx("option",{value:"mobile",children:"Pago móvil"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:s(c,"text-sm text-zinc-800","text-sm text-zinc-300"),children:"Notas adicionales (opcional)"}),e.jsx("textarea",{className:`w-full rounded-xl border-2 px-4 py-3 shadow-sm transition-all focus:outline-none focus:ring-2 ${s(c,"border-gray-400 bg-white text-gray-900 focus:border-blue-500 focus:ring-blue-200","border-gray-500 bg-gray-700 text-white focus:border-blue-400 focus:ring-blue-800/20")}`,value:x,onChange:d=>b(d.target.value),placeholder:"Información adicional...",rows:3})]}),e.jsxs("div",{className:`p-4 rounded-xl ${s(c,"bg-green-50 border border-green-200","bg-green-900/20 border border-green-400/30")}`,children:[e.jsx("h4",{className:"font-semibold mb-2",children:"💰 Resumen de la compra"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Servicio:"}),e.jsx("span",{children:t.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Duración:"}),e.jsxs("span",{children:[o," ",o===1?"mes":"meses"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Precio unitario:"}),e.jsx("span",{children:E(t.price)})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:E(t.price*o)})]})]})]}),l&&e.jsx("div",{className:`text-sm ${l.includes("✅")?"text-green-600":"text-red-600"}`,children:l}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:r,className:`flex-1 px-4 py-3 rounded-xl font-semibold transition-all ${s(c,"bg-gray-200 text-gray-800 hover:bg-gray-300","bg-gray-700 text-gray-200 hover:bg-gray-600")}`,children:"Cancelar"}),e.jsx("button",{onClick:v,disabled:a,className:`flex-1 px-4 py-3 rounded-xl font-semibold transition-all ${a?"opacity-50 cursor-not-allowed":""} ${s(c,"bg-blue-600 text-white hover:bg-blue-700","bg-blue-500 text-white hover:bg-blue-600")}`,children:a?"⏳ Procesando...":"✅ Confirmar Reserva"})]})]})}function We({service:t,onClose:r,isDark:i,onGoToAuth:c}){return e.jsxs("div",{className:"space-y-4 sm:space-y-6 p-3 sm:p-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative mb-4 sm:mb-6",children:[e.jsx("div",{className:"text-4xl sm:text-6xl mb-3 animate-bounce",children:"🔐"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-3 h-3 sm:w-4 sm:h-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"})]}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-3 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Registro Requerido"}),e.jsxs("p",{className:`text-sm sm:text-base mb-4 sm:mb-6 ${s(i,"text-gray-700","text-gray-300")}`,children:["Para comprar ",e.jsx("span",{className:"font-bold text-blue-600",children:t.name})," necesitas crear una cuenta en ",e.jsx("span",{className:"font-bold text-purple-600",children:"StreamZone"})]})]}),e.jsxs("div",{className:`rounded-xl p-4 border ${s(i,"bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200","bg-gradient-to-br from-blue-900/20 to-purple-900/20 border-blue-600")}`,children:[e.jsx("h4",{className:`text-lg font-bold mb-4 text-center ${s(i,"text-blue-900","text-blue-100")}`,children:"✨ Beneficios de registrarte:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${s(i,"bg-white/70","bg-blue-800/20")}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"🎯"}),e.jsx("span",{className:`font-medium text-sm ${s(i,"text-blue-800","text-blue-200")}`,children:"Acceso rápido"})]})}),e.jsx("div",{className:`p-2 rounded-lg ${s(i,"bg-white/70","bg-blue-800/20")}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"📱"}),e.jsx("span",{className:`font-medium text-sm ${s(i,"text-blue-800","text-blue-200")}`,children:"Notificaciones"})]})}),e.jsx("div",{className:`p-2 rounded-lg ${s(i,"bg-white/70","bg-blue-800/20")}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"💳"}),e.jsx("span",{className:`font-medium text-sm ${s(i,"text-blue-800","text-blue-200")}`,children:"Pago seguro"})]})}),e.jsx("div",{className:`p-2 rounded-lg ${s(i,"bg-white/70","bg-blue-800/20")}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"⚡"}),e.jsx("span",{className:`font-medium text-sm ${s(i,"text-blue-800","text-blue-200")}`,children:"Activación"})]})})]})]}),e.jsx("div",{className:`rounded-xl p-4 border ${s(i,"bg-gradient-to-r from-gray-50 to-blue-50 border-gray-200","bg-gradient-to-r from-gray-800 to-blue-900/20 border-gray-600")}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-16 w-16 ${t.color} rounded-xl text-white flex items-center justify-center text-2xl font-bold shadow-md`,children:t.logo}),e.jsxs("div",{children:[e.jsx("h5",{className:`text-lg font-bold ${s(i,"text-gray-900","text-white")}`,children:t.name}),e.jsxs("p",{className:`text-base ${s(i,"text-gray-600","text-gray-300")}`,children:["Precio: ",e.jsx("span",{className:"font-bold text-green-600",children:E(t.price)}),"/mes"]})]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full ${s(i,"bg-green-100 text-green-800","bg-green-800/30 text-green-200")}`,children:e.jsx("span",{className:"text-xs font-semibold",children:"Premium"})})]})}),e.jsxs("div",{className:"flex flex-col gap-2 sm:gap-3",children:[e.jsx("button",{onClick:c,className:`w-full rounded-xl px-4 sm:px-6 py-3 sm:py-4 font-bold text-base sm:text-lg transition-all duration-300 hover:scale-105 shadow-xl ${s(i,"bg-gradient-to-r from-purple-600 via-blue-600 to-pink-600 text-white hover:from-purple-700 hover:via-blue-700 hover:to-pink-700","bg-gradient-to-r from-purple-700 via-blue-700 to-pink-700 text-white hover:from-purple-800 hover:via-blue-800 hover:to-pink-800")}`,children:e.jsxs("span",{className:"flex items-center justify-center gap-2 sm:gap-3",children:[e.jsx("span",{className:"text-lg sm:text-xl",children:"🚀"}),e.jsx("span",{children:"Crear Cuenta y Comprar"}),e.jsx("span",{className:"text-lg sm:text-xl",children:"✨"})]})}),e.jsx("button",{onClick:r,className:`w-full rounded-xl px-3 sm:px-4 py-2 sm:py-3 font-semibold transition-all duration-300 hover:scale-105 border text-sm sm:text-base ${s(i,"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400","bg-gray-800 text-gray-300 border-gray-600 hover:bg-gray-700 hover:border-gray-500")}`,children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{children:"←"}),e.jsx("span",{children:"Volver al Catálogo"})]})})]}),e.jsx("div",{className:"text-center pt-4",children:e.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${s(i,"bg-gray-100","bg-gray-800")}`,children:[e.jsx("span",{className:`text-sm ${s(i,"text-gray-600","text-gray-400")}`,children:"¿Ya tienes cuenta?"}),e.jsx("button",{onClick:c,className:`font-semibold text-sm px-3 py-1 rounded-full transition-all ${s(i,"text-blue-600 hover:text-blue-700 hover:bg-blue-50","text-blue-400 hover:text-blue-300 hover:bg-blue-900/20")}`,children:"Iniciar sesión"})]})})]})}function Ge({reserveModalOpen:t,registrationRequiredOpen:r,purchaseModalOpen:i,adminRegisterPurchaseOpen:c,editPurchaseOpen:n,selectedService:o,purchaseData:m,editingPurchase:g,user:u,isDark:x,systemPrefersDark:b,setReserveModalOpen:a,setRegistrationRequiredOpen:f,setPurchaseModalOpen:l,setAdminRegisterPurchaseOpen:j,setEditPurchaseOpen:v,onAddPurchase:d,onGoToAuth:h,onPurchase:w,onRegister:y,onUpdate:C}){return e.jsxs(e.Fragment,{children:[e.jsx(be,{open:t,onClose:()=>a(!1),title:`🔐 Registro Requerido - ${(o==null?void 0:o.name)||""}`,isDark:x,className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:o&&e.jsx(We,{service:o,onClose:()=>a(!1),isDark:x,onGoToAuth:h})}),r&&e.jsx(He,{service:o,onClose:()=>f(!1),onAddPurchase:d,isDark:x,user:u}),e.jsx(pe,{open:i,onClose:()=>l(!1),service:m,user:u,isDark:x,onPurchase:w}),e.jsx(he,{open:c,onClose:()=>j(!1),onRegister:y,isDark:x,systemPrefersDark:b}),e.jsx(fe,{open:n,onClose:()=>v(!1),onUpdate:C,purchase:g,isDark:x,systemPrefersDark:b})]})}function Ze({isOpen:t,onClose:r,title:i="Error",message:c,isDark:n,onRetry:o,showRetry:m=!0}){return t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-md",onClick:r}),e.jsx("div",{className:"relative w-full max-w-xs sm:max-w-sm transform transition-all duration-300 scale-100 opacity-100",children:e.jsxs("div",{className:`rounded-xl sm:rounded-2xl shadow-2xl border-2 ${n?"bg-gray-900 border-red-600":"bg-white border-red-500"}`,children:[e.jsxs("div",{className:"relative overflow-hidden rounded-t-xl sm:rounded-t-2xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600 via-red-700 to-red-800"}),e.jsxs("div",{className:"relative p-4 sm:p-6 text-center",children:[e.jsx("div",{className:"mx-auto mb-3 sm:mb-4 w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-white/30 flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-white drop-shadow-lg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),e.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-2 text-white drop-shadow-lg",children:i})]})]}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("div",{className:"text-center mb-4 sm:mb-6",children:e.jsx("p",{className:`text-sm sm:text-base leading-relaxed ${n?"text-gray-100":"text-gray-800"}`,children:c})}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[m&&o&&e.jsx("button",{onClick:o,className:`w-full py-3 sm:py-3 px-4 rounded-lg sm:rounded-xl font-semibold text-sm sm:text-base transition-all duration-200 transform hover:scale-105 shadow-lg ${n?"bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700 border border-blue-400":"bg-gradient-to-r from-blue-600 to-blue-700 text-white hover:from-blue-700 hover:to-blue-800 border border-blue-500"}`,children:"🔄 Intentar de nuevo"}),e.jsx("button",{onClick:r,className:`w-full py-2.5 sm:py-2 px-4 rounded-lg sm:rounded-xl text-sm sm:text-base font-medium transition-all duration-200 shadow-md ${n?"bg-gray-700 text-gray-100 hover:bg-gray-600 border border-gray-500":"bg-gray-200 text-gray-800 hover:bg-gray-300 border border-gray-400"}`,children:"Cerrar"})]})]}),e.jsx("div",{className:`px-4 sm:px-6 pb-3 sm:pb-4 ${n?"bg-gray-900/80":"bg-gray-100/80"}`,children:e.jsx("div",{className:"flex justify-center space-x-1",children:[...Array(3)].map((g,u)=>e.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${n?"bg-red-400":"bg-red-600"}`,style:{animationDelay:`${u*.3}s`,animationDuration:"1.5s"}},u))})})]})})]}):null}function Je(t,r){return{answer:async(c,n=[])=>{var m,g,u;const o=c.toLowerCase().trim();if([...n,o].join(" "),console.log("Chatbot recibió:",o),console.log("Servicios disponibles:",t.length),console.log("Combos disponibles:",r.length),/hola|buenas|hey|hi|hello|buenos|buenas tardes|buenas noches|buenos días/.test(o))return`¡Hola! Bienvenido a StreamZone. Soy su asistente especializado en streaming. Puedo ayudarle con:

💰 Ver precios - Catálogo completo de servicios
🎯 Combos especiales - Grandes ahorros
📺 Contenido disponible - Por plataforma
🛒 Cómo comprar - Proceso paso a paso
📱 Información de cuentas - Dispositivos y perfiles
🔐 Recuperar contraseña - Si olvidó su acceso
💳 Métodos de pago - Información bancaria
🛠️ Soporte técnico - Ayuda y problemas

Comandos rápidos:
• Escriba "ver precios" para el catálogo
• Escriba "combos" para ofertas especiales
• Escriba "cómo comprar" para el proceso
• Escriba "métodos de pago" para información bancaria

¿En qué puedo ayudarle?`;if(/olvide|olvidé|contraseña|password|recuperar|reset|resetear/.test(o))return`🔐 RECUPERACIÓN DE CONTRASEÑA

No se preocupe, puedo ayudarle a recuperar su contraseña.

Proporcione su email y le generaré un código de recuperación.

Ejemplo: miemail@gmail.com

Importante: El código se mostrará aquí en el chat, no se envía por email.

¿Cuál es su email registrado?`;if(/@.*\./.test(o)&&!/netflix|disney|hbo|amazon|spotify/.test(o)){const x=o.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/);if(x){const b=x[1];try{console.log("🔍 Chatbot generando token para:",b);const a=await D(b);return console.log("🔍 Chatbot resultado completo:",a),console.log("🔍 Token generado:",(m=a.data)==null?void 0:m.token),console.log("🔍 Usuario:",(g=a.data)==null?void 0:g.user),a.data?`🔐 **¡CÓDIGO GENERADO EXITOSAMENTE!** ✅

📧 Email: ${b}
🔑 **Tu código de recuperación:**

**${a.data.token}**

📋 **Instrucciones:**
1. Ve a "Iniciar sesión" → "¿Olvidaste tu contraseña?"
2. Ingresa tu email: ${b}
3. Copia y pega este código: **${a.data.token}**
4. Crea tu nueva contraseña

⏰ **El código expira en 30 minutos**

💡 ¡Guarda este código en un lugar seguro!`:(console.log("🔍 Error en resultado:",a.error),`❌ **Error generando código**

📧 Email: ${b}
🚫 ${((u=a.error)==null?void 0:u.message)||"Error desconocido"}

💡 **Posibles causas:**
• El email no está registrado
• Problema de conexión

🔧 **Solución:**
• Verifica que el email sea correcto
• Intenta crear una cuenta nueva si no tienes una`)}catch(a){return console.log("🔍 Chatbot error en catch:",a),`❌ **Error en el proceso**

📧 Email: ${b}
🚫 Error: ${a}

💡 Intenta de nuevo o contacta soporte.`}}}return/recomendar|recomendación|recomendaciones|qué|que ver|mejor|sugerir|cuál|que plataforma|anime|familia|marvel|star wars|hbo|blockbuster|presupuesto bajo|dame|quiero ver|ayuda|opciones/.test(o)?/anime|manga|japonés|japones/.test(o)?`🎌 Para ANIME te recomiendo:

1️⃣ **Crunchyroll** - El catálogo más grande de anime
   Ejemplos: Attack on Titan, Demon Slayer, Jujutsu Kaisen

2️⃣ **Netflix** - Anime original y clásicos
   Ejemplos: Naruto, One Piece, Castlevania

💡 ¿Prefieres anime clásico o series nuevas?`:/familia|niños|kids|disney|marvel|star wars|pixar/.test(o)?`👨‍👩‍👧‍👦 Para CONTENIDO FAMILIAR te recomiendo:

1️⃣ **Disney+** - Marvel, Star Wars, Pixar
   Ejemplos: Loki, The Mandalorian, Encanto

2️⃣ **Combo Netflix + Disney+** - $6/mes (¡Ahorro!) 💰

🎭 ¿Buscas contenido para adultos o toda la familia?`:/hbo|warner|premiadas|premios|calidad|premium/.test(o)?`🏆 Para SERIES PREMIUM te recomiendo:

1️⃣ **Max (HBO)** - Contenido de alta calidad
   Ejemplos: House of the Dragon, The Last of Us, Succession

2️⃣ **Combo Max + Prime Video** - $5.50/mes

🎬 ¿Te gustan las series dramáticas o prefieres acción?`:/blockbuster|películas|peliculas|acción|accion|superhéroes/.test(o)?`🎬 Para BLOCKBUSTERS te recomiendo:

1️⃣ **Prime Video** - Películas + canales
   Ejemplos: The Boys, Jack Ryan, Fast & Furious

2️⃣ **Netflix** - Originales y éxitos
   Ejemplos: Stranger Things, The Witcher, Extraction

💥 ¿Prefieres películas de acción o series?`:/presupuesto bajo|barato|económico|economico|combo|ahorro/.test(o)?`💰 Para PRESUPUESTO BAJO te recomiendo:

1️⃣ **Netflix + Disney+** - $6/mes (¡50% descuento!)
2️⃣ **Netflix + Max** - $5.50/mes
3️⃣ **Prime Video + Disney+** - $5.75/mes

🎯 Todos incluyen: 1 perfil + 1 dispositivo
💡 ¿Cuánto quieres gastar al mes?`:`🎯 Te recomiendo estas opciones populares:

`+t.slice(0,3).map((b,a)=>`${a+1}️⃣ **${b.name}** - ${E(b.price)}/${b.billing==="annual"?"año":"mes"}
   ${ve(b.id)}`).join(`

`)+`

🤔 ¿Qué tipo de contenido te gusta más? (anime, familia, acción, etc.)`:/película|pelicula|serie|contenido|qué hay|que hay|disponible|ver|catálogo|catalogo/.test(o)?/netflix/.test(o)?`📺 **NETFLIX** - Catálogo completo:

🎬 **Series Originales:**
• Stranger Things, The Crown, La Casa de Papel
• Bridgerton, Ozark, The Witcher
• Wednesday, Dahmer, Money Heist

🎭 **Géneros:** Drama, Thriller, Comedia, Documentales
🌍 **Países:** Disponible en Ecuador y Latinoamérica

💡 ¿Te interesa algún género específico?`:/disney/.test(o)?`🏰 **DISNEY+** - Catálogo completo:

🦸 **Marvel:** Loki, WandaVision, Hawkeye, Moon Knight
⭐ **Star Wars:** The Mandalorian, Obi-Wan Kenobi
🎨 **Pixar:** Soul, Luca, Turning Red
🏰 **Disney Clásico:** Frozen, Moana, Encanto

👨‍👩‍👧‍👦 **Perfecto para:** Familias, fans de Marvel/Star Wars

🎯 ¿Buscas contenido para niños o adultos?`:/max|hbo/.test(o)?`👑 **MAX (HBO)** - Contenido Premium:

🐉 **Series Épicas:** Game of Thrones, House of the Dragon
🎮 **Videojuegos:** The Last of Us, Arcane
💼 **Drama:** Succession, Euphoria, White Lotus
🎬 **Películas:** Batman, Dune, Matrix

🏆 **Calidad:** 4K, HDR, Dolby Atmos

🎭 ¿Prefieres series dramáticas o películas épicas?`:/prime/.test(o)?`📦 **PRIME VIDEO** - Exclusivas + Beneficios:

🦸 **Originales:** The Boys, The Marvelous Mrs. Maisel
🎬 **Blockbusters:** Jack Ryan, Tom Clancy's
📚 **Beneficios Extra:** Envío gratis Amazon

🌍 **Disponibilidad:** Ecuador, Latinoamérica
💰 **Valor:** Incluye envíos de Amazon

🛒 ¿Te interesan las exclusivas o los beneficios de Amazon?`:/spotify/.test(o)?`🎵 **SPOTIFY** - Música Sin Límites:

🎶 **Música:** 100M+ canciones
🎧 **Podcasts:** Joe Rogan, Serial, Crime Junkie
🎤 **Audiolibros:** Harry Potter, El Principito

📱 **Dispositivos:** Móvil, PC, TV, Auto
🎯 **Perfecto para:** Música, podcasts, audiolibros

🎧 ¿Prefieres música, podcasts o audiolibros?`:`📺 **CATÁLOGOS DISPONIBLES:**

🎬 **Netflix:** Series originales, thrillers, documentales
🏰 **Disney+:** Marvel, Star Wars, Pixar, Disney clásico
👑 **Max:** HBO premium, Game of Thrones, películas épicas
📦 **Prime Video:** Exclusivas, blockbusters + Amazon
🎵 **Spotify:** Música, podcasts, audiolibros

🤔 ¿Qué plataforma te interesa más?`:/precio|precios|cuánto|cuesta|costar|combo|ahorro|descuento|barato|económico|economico/.test(o)?/combo/.test(o)?`💰 **COMBOS DISPONIBLES:**

`+r.map(x=>`🎯 **${x.name}** - ${E(x.price)}/mes
   💡 Ahorro significativo vs individual`).join(`

`)+`

🎯 ¿Te interesa algún combo específico?`:`💰 **PRECIOS INDIVIDUALES:**

`+t.slice(0,5).map(x=>`📺 **${x.name}** - ${E(x.price)}/${x.billing==="annual"?"año":"mes"}`).join(`

`)+`

💡 **Tip:** Los combos ofrecen grandes ahorros. Escribe "combos" para ver ofertas.`:/cómo comprar|como comprar|comprar|proceso|pasos|reservar|pagar|pago|metodo|método/.test(o)?`🛒 **PROCESO DE COMPRA:**

1️⃣ **Selecciona** tu servicio o combo
2️⃣ **Reserva** por WhatsApp (+593 98 428 0334)
3️⃣ **Paga** por transferencia bancaria
4️⃣ **Recibe** tus credenciales al instante
5️⃣ **Disfruta** de tu entretenimiento

💳 **Métodos de pago:**
• Banco Pichincha
• Banco de Guayaquil
• Banco del Pacífico
• PayPal
• Transferencia móvil

📱 **WhatsApp:** +593 98 428 0334

¿Necesitas ayuda con algún paso específico?`:/cuenta|perfil|dispositivo|dispositivos|usuario|usuario|sesión|sesion|login|acceso/.test(o)?`👤 **INFORMACIÓN DE CUENTAS:**

📱 **Dispositivos:**
• Móvil (Android/iOS)
• Smart TV (Samsung, LG, Sony)
• Computadora (Windows/Mac)
• Tablet (iPad, Android)

👥 **Perfiles:**
• 1 perfil por servicio
• Contraseña personalizada
• Acceso desde cualquier dispositivo

🔐 **Seguridad:**
• Cambio de contraseña disponible
• Recuperación por email
• Soporte 24/7

💡 ¿Necesitas ayuda con algún dispositivo específico?`:/método|metodo|pago|pagar|banco|transferencia|paypal|pichincha|guayaquil|pacifico/.test(o)?`💳 **MÉTODOS DE PAGO:**

🏦 **Bancos Nacionales:**
• Banco Pichincha
• Banco de Guayaquil
• Banco del Pacífico

💚 **PayPal:**
• Pago internacional
• Tarjeta de crédito/débito

📱 **Transferencia Móvil:**
• Pago desde tu celular
• Rápido y seguro

💰 **Proceso:**
1. Reserva por WhatsApp
2. Te enviamos datos bancarios
3. Realizas la transferencia
4. Recibes credenciales al instante

📱 **WhatsApp:** +593 98 428 0334

¿Prefieres algún método específico?`:/soporte|ayuda|problema|error|no funciona|no carga|técnico|tecnico|bug|falla/.test(o)?`🛠️ **SOPORTE TÉCNICO:**

📱 **Problemas comunes:**
• No carga el contenido → Reinicia la app
• Error de login → Verifica credenciales
• Lento → Cierra otras apps
• No reproduce → Actualiza la app

🔧 **Soluciones:**
• Reinicia el dispositivo
• Actualiza la aplicación
• Verifica tu conexión a internet
• Contacta soporte si persiste

📞 **Contacto:**
• WhatsApp: +593 98 428 0334
• Email: soporte@streamzone.com
• Disponible 24/7

¿Qué problema específico tienes?`:/streamzone|stream zone|qué es|que es|información|info|acerca|sobre/.test(o)?`🎬 **STREAMZONE** - Tu entretenimiento digital:

✨ **¿Qué somos?**
• Plataforma de streaming premium
• Acceso a todas las plataformas
• Precios increíbles
• Soporte 24/7

🎯 **Nuestros servicios:**
• Netflix, Disney+, Max, Prime Video
• Spotify, Crunchyroll, YouTube Premium
• Combos especiales con ahorros

💰 **Ventajas:**
• Precios más bajos que individual
• Activación inmediata
• Soporte personalizado
• Renovación automática

🛒 **¿Cómo funciona?**
1. Selecciona tu servicio
2. Reserva por WhatsApp
3. Paga y recibe credenciales
4. ¡Disfruta!

📱 **Contacto:** +593 98 428 0334

¿Te interesa algún servicio específico?`:`🤔 No estoy seguro de entender tu pregunta. Puedo ayudarte con:

💰 **Precios y combos**
📺 **Contenido disponible**
🛒 **Cómo comprar**
🔐 **Recuperar contraseña**
💳 **Métodos de pago**
🛠️ **Soporte técnico**

💡 **Comandos útiles:**
• "ver precios" - Catálogo completo
• "combos" - Ofertas especiales
• "cómo comprar" - Proceso paso a paso
• "métodos de pago" - Información bancaria

¿En qué más puedo ayudarte?`}}}function Ke(){const[t,r]=p.useState(!1),[i,c]=p.useState(!1),[n,o]=p.useState(!1),[m,g]=p.useState(null),[u,x]=p.useState(null);return{reserveModalOpen:t,registrationRequiredOpen:i,purchaseModalOpen:n,selectedService:m,purchaseData:u,setReserveModalOpen:r,setRegistrationRequiredOpen:c,setPurchaseModalOpen:o,setSelectedService:g,setPurchaseData:x,handleReserve:(f,l)=>{l?(x(f),o(!0)):(g(f),r(!0))},closeAllModals:()=>{r(!1),c(!1),o(!1),g(null),x(null)}}}const Qe=()=>{const[t,r]=p.useState(()=>{try{return localStorage.getItem("sz_theme")||"dark"}catch{return"dark"}}),i=t==="dark",[c,n]=p.useState(!1);return p.useEffect(()=>{const m=window.matchMedia("(prefers-color-scheme: dark)");n(m.matches);const g=u=>{n(u.matches)};return m.addEventListener("change",g),()=>m.removeEventListener("change",g)},[]),p.useEffect(()=>{try{localStorage.setItem("sz_theme",t)}catch{}},[t]),{theme:t,setTheme:r,isDark:i,systemPrefersDark:c,toggleTheme:()=>r(i?"light":"dark")}},Ye=()=>{const[t,r]=p.useState("home");return{view:t,setView:r,navigateToHome:()=>r("home"),navigateToCombos:()=>r("combos"),navigateToAdmin:()=>r("admin"),navigateToAuth:()=>r("auth"),navigateToProfile:()=>r("profile"),navigateToRegister:()=>r("register")}};function Xe(){const{isDark:t,systemPrefersDark:r,toggleTheme:i}=Qe(),{view:c,setView:n}=Ye(),{user:o,adminLogged:m,setAllPurchases:g,authStep:u,setAuthStep:x,resetEmail:b,resetToken:a,handleLogin:f,handleLogout:l,handleAdminLogin:j,handleAdminLogout:v,handleForgotPassword:d,handleCodeVerified:h,handlePasswordReset:w}=ze(),y=Ee(),{adminUsers:C,setAdminUsers:S,adminDrawerOpen:A,setAdminDrawerOpen:M,adminMenuOpen:T,setAdminMenuOpen:I,adminRegisterPurchaseOpen:L,setAdminRegisterPurchaseOpen:R,editPurchaseOpen:q,setEditPurchaseOpen:B,editingPurchase:z,approvePurchaseOpen:V,setApprovePurchaseOpen:_,selectedPurchase:H,adminEmails:te,handleToggleValidate:se,handleDeletePurchase:re,handleEditPurchase:ae,handleReminderPurchase:oe,handleApproveSuccess:ne,handleUpdatePurchase:W,handleExportCSV:G}=Ae(y.allPurchases,N=>{g(N)},y.refreshAllStats),P=Ke(),O=Me(),le=Je(K,Q);ee.useEffect(()=>{(async()=>{try{await J([...K]),console.log("Servicios sincronizados con Supabase"),await J([...Q]),console.log("Combos sincronizados con Supabase")}catch($){console.error("Error sincronizando servicios:",$)}})()},[]);const ie=N=>{console.log("handleReserve called with:",{service:N,user:o}),P.handleReserve(N,o)},de=N=>{console.log("Agregando compra:",N),P.setReserveModalOpen(!1)},ce=async N=>{P.setPurchaseModalOpen(!1),await O.processPurchase(N),console.log("🔄 handlePurchase: Recargando datos después de la compra..."),await y.refreshAllStats()};return e.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${s(t,"bg-gray-50","bg-zinc-900")}`,children:[e.jsx(Oe,{isDark:t,view:c,user:o,adminLogged:m,setView:n,handleLogout:l}),e.jsx("main",{className:"flex-1",children:e.jsx(_e,{view:c,isDark:t,user:o,adminLogged:m,purchases:y.allPurchases,pendingPurchases:y.pendingPurchases,userActivePurchases:y.userActivePurchases,expiringServices:y.expiringServices,renewalStats:y.renewalStats,loading:y.loading,error:y.error,adminUsers:C,setAdminUsers:S,authStep:u,resetEmail:b,resetToken:a,setView:n,setAuthStep:x,handleReserve:ie,handleToggleValidate:se,handleDeletePurchase:re,handleEditPurchase:ae,handleReminderPurchase:oe,handleLogin:f,handleAdminLogin:j,handleAdminLogout:v,handleForgotPassword:d,handleCodeVerified:h,handlePasswordReset:w,setAdminRegisterPurchaseOpen:R,handleExportCSV:G,refreshAllStats:y.refreshAllStats,adminEmails:te})}),e.jsx(Ge,{reserveModalOpen:P.reserveModalOpen,registrationRequiredOpen:P.registrationRequiredOpen,purchaseModalOpen:P.purchaseModalOpen,adminRegisterPurchaseOpen:L,editPurchaseOpen:q,selectedService:P.selectedService,purchaseData:P.purchaseData,editingPurchase:z,user:o,isDark:t,systemPrefersDark:r,setReserveModalOpen:P.setReserveModalOpen,setRegistrationRequiredOpen:P.setRegistrationRequiredOpen,setPurchaseModalOpen:P.setPurchaseModalOpen,setAdminRegisterPurchaseOpen:R,setEditPurchaseOpen:B,onAddPurchase:de,onGoToAuth:()=>{P.setReserveModalOpen(!1),n("auth")},onPurchase:ce,onRegister:async N=>{console.log("🛒 Registrando compra manual:",N);try{if(!N.name||!N.phone||!N.service)throw new Error("Faltan datos requeridos: nombre, teléfono o servicio");const $={customer:N.name.trim(),phone:N.phone.trim(),service:N.service.trim(),start:N.startDate||new Date().toISOString().split("T")[0],end:N.endDate||new Date().toISOString().split("T")[0],months:N.months||1,validated:!0,service_email:N.service_email?`${N.service_email}_${Date.now()}`:null,service_password:N.service_password||null,admin_notes:N.admin_notes||null,approved_by:"admin",approved_at:new Date().toISOString()};console.log("💾 Datos a guardar:",$),console.log("💾 Validación de datos:",{customer:!!$.customer,phone:!!$.phone,service:!!$.service,start:!!$.start,end:!!$.end});const F=await je($);if(F.data)console.log("✅ Compra manual registrada exitosamente:",F.data),alert("✅ Compra manual registrada exitosamente"),y.refreshAllStats&&await y.refreshAllStats();else throw console.error("❌ Resultado de createPurchase:",F),new Error("No se pudo crear la compra - resultado vacío")}catch($){console.error("❌ Error registrando compra manual:",$),console.error("❌ Stack trace:",$.stack),alert("❌ Error al registrar la compra manual: "+($.message||"Error desconocido"))}},onUpdate:N=>{z!=null&&z.id&&W(z.id,N)}}),e.jsx(Pe,{open:A,onClose:()=>M(!1),isDark:t,adminUsers:C,setAdminUsers:S}),e.jsx(Se,{open:T,onClose:()=>I(!1),isDark:t,setSubView:()=>{},openAdmins:()=>M(!0),onExportCSV:G,onLogout:v,onRegisterPurchase:()=>R(!0)}),e.jsx(ye,{isOpen:V,onClose:()=>_(!1),purchase:H,isDark:t,onApprove:ne,onUpdatePurchase:W}),e.jsx(Ze,{isOpen:O.errorModal.isOpen,onClose:O.closeErrorModal,title:"Error en la Compra",message:O.errorModal.message,isDark:t,showRetry:!1}),e.jsx(Fe,{answerFn:le.answer,isDark:t}),e.jsx(Ue,{isDark:t,onToggle:i})]})}U.createRoot(document.getElementById("root")).render(e.jsx(ee.StrictMode,{children:e.jsx(Xe,{})}));
